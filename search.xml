<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hexoåšå®¢æ·»åŠ Valineè¯„è®ºåŠŸèƒ½å…¨è¿‡ç¨‹]]></title>
    <url>%2Farchives%2F736d3b08.html</url>
    <content type="text"><![CDATA[Hexo å¯ç”¨çš„è¯„è®ºç³»ç»Ÿæœ‰å¾ˆå¤šï¼Œå¦‚ä¸‹ï¼š æ¥å¿…åŠ›ï¼šhttps://livere.com ï¼ˆéœ€è¦é‚®ç®±æ³¨å†Œï¼ŒåŠ è½½æ…¢ï¼Œè¾ƒå¡é¡¿ï¼‰ ç•…è¨€ï¼š http://changyan.kuaizhan.com ï¼ˆå®‰è£…éœ€è¦å¤‡æ¡ˆå·ï¼‰ Gitmentï¼š https://github.com/imsun/gitment ï¼ˆåŠ è½½æ…¢ï¼Œæœ‰ Bugï¼‰ Valine: https://github.com/xCss/Valine (ç®€çº¦ï¼Œå®žç”¨ï¼Œä½¿ç”¨ Leancloud ä½œä¸ºçº¿ä¸Šæ•°æ®åº“ï¼‰ è¯„è®ºç³»ç»Ÿé…ç½®è¿‡ç¨‹next é›†æˆäº† leancloud ã€‚å¯ä»¥åœ¨leancloudè¿›è¡Œè´¦å·æ³¨å†Œã€‚ 1ã€æ³¨å†Œ LeanCloudæ³¨å†Œåœ°å€ https://leancloud.cn/ 2ã€é…ç½® LeanCloudåˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ éšä¾¿å–ä¸ªåå­—ï¼Œè‡ªå·±çœ‹ç€å–å§ åº”ç”¨åˆ›å»ºå®Œæˆï¼Œç‚¹å¼€é…ç½®æŒ‰é’® ç‚¹å‡»è®¾ç½® &gt; åº”ç”¨Key å¤åˆ¶ App ID å’Œ App Key ç‚¹å‡»è®¾ç½® &gt; å®‰å…¨ä¸­å¿ƒ æŠŠè‡ªå·±åšå®¢ç½‘å€æ·»åŠ åˆ°å®‰å…¨ä¸­å¿ƒï¼Œä¿è¯æ•°æ®çš„è°ƒç”¨å®‰å…¨ã€‚ ä»£ç éƒ¨åˆ†One 1234567891011# Valinevaline: enable: true el: &apos;vcomments&apos; appId: &apos;&apos; # ä½ çš„appId appKey: &apos;&apos; # ä½ çš„appKey notify: true # é‚®ç®±æŽ¨é€ verify: true avatar: &apos;mp&apos; pageSize: &apos;10&apos; placeholder: &apos;è¯·è¾“å…¥...&apos; Two æ‰¾åˆ°ä½ çš„ä¸»é¢˜ä¸­æ”¾è¯„è®ºçš„ä½ç½®åŠ ä¸Švalineè¿™ä¸€è¡Œå°±å¯ä»¥ Three è¿™ä¸ªæ–‡ä»¶é‡Œå¡«ä¸Šè¿™äº›å†…å®¹ 12345678910111213141516&lt;% if (theme.valine.enable) &#123; %&gt;&lt;div class=&quot;vcomments&quot; id=&quot;&lt;%- theme.valine.el %&gt;&quot;&gt;&lt;/div&gt;&lt;%- js(&apos;https://unpkg.com/valine/dist/Valine.min.js&apos;) %&gt;&lt;script&gt; new Valine(&#123; el: &apos;#&lt;%- theme.valine.el %&gt;&apos;, appId: &apos;&lt;%- theme.valine.appId %&gt;&apos;, appKey: &apos;&lt;%- theme.valine.appKey %&gt;&apos;, notify: &apos;&lt;%- theme.valine.notify %&gt;&apos;, verify: &apos;&lt;%- theme.valine.verify %&gt;&apos;, avatar: &apos;&lt;%- theme.valine.avatar %&gt;&apos;, pageSize: &apos;&lt;%- theme.valine.pageSize %&gt;&apos;, placeholder: &apos;&lt;%- theme.valine.placeholder %&gt;&apos; &#125;)&lt;/script&gt;&lt;% &#125; %&gt; ####Four 12.vcomments margin-top: 3rem ####Five å¼•å…¥ä¸Šé¢è¿™ä¸ªcssæ–‡ä»¶]]></content>
      <tags>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å‰ç«¯æ‰€æœ‰è·¨åŸŸæ–¹å¼å®žçŽ°åŽŸç†åŠè¯¦è§£]]></title>
    <url>%2Farchives%2F5d00c70d.html</url>
    <content type="text"><![CDATA[è·¨åŸŸæ˜¯æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°çš„ï¼Œå‰åŽç«¯æ•°æ®äº¤äº’ç»å¸¸ç¢°åˆ°è¯·æ±‚è·¨åŸŸï¼Œé¦–å…ˆæˆ‘ä»¬æ¥æƒ³ä¸€ä¸‹ä¸ºä»€ä¹ˆä¼šæœ‰è·¨åŸŸè¿™ä¸ªè¯çš„å‡ºçŽ°ï¼Ÿæœ¬æ–‡å¸¦ä½ æ¥æŽ¢è®¨ä¸€ä¸‹ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š è·¨åŸŸæ˜¯ä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆè¦è·¨åŸŸï¼Ÿ è·¨åŸŸçš„å‡ ç§æ–¹å¼ï¼Ÿ â€¦ ä»€ä¹ˆæ˜¯è·¨åŸŸ?è·¨åŸŸæ˜¯æŒ‡çš„æµè§ˆå™¨ä¸èƒ½æ‰§è¡Œå…¶å®ƒç½‘ç«™çš„è„šæœ¬ï¼Œå®ƒæ˜¯ç”±æµè§ˆå™¨çš„åŒæºç­–ç•¥é€ æˆï¼Œæ˜¯æµè§ˆå™¨å¯¹ JavaScript å®žæ–½çš„å®‰å…¨é™åˆ¶ã€‚ è·¨åŸŸå®žé™…ä¸ŠæŒ‡ä»Žä¸€ä¸ªåŸŸçš„ç½‘é¡µåŽ»è¯·æ±‚å¦ä¸€ä¸ªåŸŸçš„èµ„æºï¼Œæ¯”å¦‚ï¼šä»Ž http://www.baidu.com ç½‘ç«™åŽ»è¯·æ±‚http://www.google.com ç½‘ç«™çš„èµ„æºã€‚ ä»€ä¹ˆæ˜¯åŒæºç­–ç•¥?åŒæºç­–ç•¥ æŒ‡çš„æ˜¯ åŸŸåï¼Œåè®®ï¼Œç«¯å£ ä¸‰è€…éƒ½ç›¸åŒ~ ä»€ä¹ˆæ˜¯åŒæº?è¦çŸ¥é“URLç”±åè®®ï¼ŒåŸŸåï¼Œç«¯å£ä»¥åŠè·¯å¾„ç»„æˆï¼Œè‹¥ä¸¤ä¸ªURLçš„åè®®ã€åŸŸåå’Œç«¯å£ç›¸åŒï¼Œåˆ™è¡¨ç¤ºä»–ä»¬åŒæºã€‚ç›¸åï¼Œåªè¦åè®®ï¼ŒåŸŸåï¼Œç«¯å£æœ‰ä»»ä½•ä¸€ä¸ªçš„ä¸åŒï¼Œå°±è¢«å½“ä½œæ˜¯è·¨åŸŸã€‚ é™åˆ¶åŒæºç­–ç•¥å†…å®¹ Cookieã€LocalStorageã€IndexedDB ç­‰å­˜å‚¨æ€§å†…å®¹ DOM èŠ‚ç‚¹ Ajax è¯·æ±‚å‘é€åŽï¼Œç»“æžœè¢«æµè§ˆå™¨æ‹¦æˆªäº† å…è®¸è·¨åŸŸåŠ è½½èµ„æºè¿™ä¸‹è¾¹ä¸‰ä¸ªå«æœ‰ src æ ‡ç­¾çš„æ˜¯å…è®¸è·¨åŸŸåŠ è½½èµ„æºçš„ 1&lt;img src=XXX&gt; 1&lt;link href=XXX&gt; 1&lt;script src=XXX&gt; è·¨åŸŸçš„åœºæ™¯ ä¹ç§è·¨åŸŸè§£å†³æ–¹æ¡ˆ jsonp cors postMessage document.domain window.name location.hash https-proxy nginx websocket jsonpä»€ä¹ˆæ˜¯ jsonpjsonpå…¨ç§°æ˜¯JSON with Paddingï¼Œæ˜¯ä¸ºäº†è§£å†³è·¨åŸŸè¯·æ±‚èµ„æºè€Œäº§ç”Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯ä¸€ç§ä¾èµ–å¼€å‘äººå‘˜åˆ›é€ å‡ºçš„ä¸€ç§éžå®˜æ–¹è·¨åŸŸæ•°æ®äº¤äº’åè®®ã€‚ Jsonp çš„åŽŸç† åˆ©ç”¨ script æ ‡ç­¾çš„ src å±žæ€§æ¥å®žçŽ°è·¨åŸŸ é€šè¿‡å°†å‰ç«¯æ–¹æ³•ä½œä¸ºå‚æ•°ä¼ é€’åˆ°æœåŠ¡å™¨ç«¯ï¼Œç„¶åŽç”±æœåŠ¡å™¨ç«¯æ³¨å…¥å‚æ•°ä¹‹åŽå†è¿”å›žï¼Œå®žçŽ°æœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯é€šä¿¡ ç”±äºŽä½¿ç”¨ script æ ‡ç­¾çš„ src å±žæ€§ï¼Œå› æ­¤åªæ”¯æŒ get æ–¹æ³• Jsonp å’Œ Ajax å¯¹æ¯” Jsonp å’Œ Ajax ç›¸åŒ, éƒ½æ˜¯å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¯·æ±‚ï¼Œä»ŽæœåŠ¡å™¨ç«¯èŽ·å–æ•°æ®çš„æ–¹å¼ Ajax å±žäºŽåŒæºç­–ç•¥ Jsonp å±žäºŽéžåŒæºç­–ç•¥ (è·¨åŸŸè¯·æ±‚) Jsonp çš„ä¼˜ç¼ºç‚¹ä¼˜ç‚¹ï¼š å®ƒä¸åƒ XMLHttpRequest å¯¹è±¡å®žçŽ°çš„ Ajax è¯·æ±‚é‚£æ ·å—åˆ°åŒæºç­–ç•¥çš„é™åˆ¶ï¼ŒJSONP å¯ä»¥è·¨è¶ŠåŒæºç­–ç•¥ å®ƒçš„å…¼å®¹æ€§æ›´å¥½ï¼Œåœ¨æ›´åŠ å¤è€çš„æµè§ˆå™¨ä¸­éƒ½å¯ä»¥è¿è¡Œï¼Œä¸éœ€è¦ XMLHttpRequest æˆ– ActiveX çš„æ”¯æŒ åœ¨è¯·æ±‚å®Œæ¯•åŽå¯ä»¥é€šè¿‡è°ƒç”¨ callback çš„æ–¹å¼å›žä¼ ç»“æžœ ç¼ºç‚¹ï¼š å®ƒåªæ”¯æŒ GET è¯·æ±‚è€Œä¸æ”¯æŒ POST ç­‰å…¶å®ƒç±»åž‹çš„ HTTP è¯·æ±‚ å®ƒåªæ”¯æŒè·¨åŸŸ HTTP è¯·æ±‚è¿™ç§æƒ…å†µï¼Œä¸èƒ½è§£å†³ä¸åŒåŸŸçš„ä¸¤ä¸ªé¡µé¢ä¹‹é—´å¦‚ä½•è¿›è¡Œ JavaScript è°ƒç”¨çš„é—®é¢˜ jsonp åœ¨è°ƒç”¨å¤±è´¥çš„æ—¶å€™ä¸ä¼šè¿”å›žå„ç§ HTTP çŠ¶æ€ç  ç¼ºç‚¹æ˜¯å®‰å…¨æ€§ï¼Œä¸‡ä¸€å‡å¦‚æä¾› jsonp çš„æœåŠ¡å­˜åœ¨é¡µé¢æ³¨å…¥æ¼æ´žï¼Œå³å®ƒè¿”å›žçš„ javascript çš„å†…å®¹è¢«äººæŽ§åˆ¶çš„ Jsonp çš„å®žçŽ°æµç¨‹ å£°æ˜Žä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼ŒæŠŠå‡½æ•°å (show) å½“åšå‚æ•°å€¼ è¦ä¼ é€’ç»™è·¨åŸŸè¯·æ±‚çš„æ•°æ®çš„æœåŠ¡å™¨ï¼Œå‡½æ•°å½¢å‚ä¸ºè¦èŽ·å–ç›®æ ‡æ•°æ® åˆ›å»ºä¸€ä¸ª script æ ‡ç­¾ï¼ŒæŠŠé‚£ä¸ªè·¨åŸŸçš„ API æ•°æ®æŽ¥å£åœ°å€ï¼Œèµ‹å€¼ç»™ script çš„ srcï¼Œè¿˜è¦åœ¨è¿™ä¸ªåœ°å€ä¸­å‘æœåŠ¡å™¨ä¼ é€’è¯¥å‡½æ•°å æœåŠ¡å™¨æŽ¥æ”¶åˆ°è¯·æ±‚åŽï¼Œéœ€è¦è¿›è¡Œå¤„ç†ï¼šæŠŠä¼ é€’çš„å‚æ•°åå’Œå®ƒéœ€è¦çš„æ•°æ®æ‹¼æŽ¥æˆä¸€ä¸ªå­—ç¬¦ä¸² æœ€åŽæœåŠ¡å™¨æŠŠå‡†å¤‡çš„æ•°æ®é€šè¿‡ HTTP åè®®è¿”å›žç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å†è°ƒç”¨æ‰§è¡Œä¹‹å‰å£°æ˜Žçš„å›žè°ƒå‡½æ•° (show), å¯¹è¿”å›žçš„æ•°æ®è¿›è¡Œæ“ä½œ å…·ä½“ä»£ç å®žçŽ°å¦‚ä¸‹ï¼š index.html 12345678910111213141516171819202122232425262728293031323334353637&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta &gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;script&gt; function jsonp(&#123;url,params,cb&#125;)&#123; return new Promise((resolve,reject)=&gt;&#123; let script = document.createElement('script'); window[cb]=function(data)&#123; resolve(data); document.body.removeChild(script); &#125; params=&#123;...params,cb&#125; let arrs = []; for(let key in params)&#123; arrs.push(`$&#123;key&#125;=$&#123;params[key]&#125;`); &#125; script.src = `$&#123;url&#125;?$&#123;arrs.join('&amp;')&#125;`; document.body.appendChild(script) &#125;) &#125; jsonp(&#123; url:'http://localhost:3000/say', params:&#123;wd:'æ—©ä¸Šå¥½'&#125;, cb:'show' &#125;).then(data=&gt;&#123; console.log(data) &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; serve.js 123456789let express = require('express');let app = express();app.get('/say',function (req,res)&#123; let &#123;wd,cb&#125; = req.query; console.log(wd); res.end(`$&#123;cb&#125;('æ™šä¸Šå¥½')`)&#125;)app.listen(3000) æ³¨æ„ï¼š éœ€è¦å®‰è£…npm install express, ç„¶åŽåœ¨ç»ˆç«¯é‡Œé¢è¾“å…¥node serve.js, å†æŠŠindex.htmlåœ¨æµè§ˆå™¨ä¸Šè¾¹consoleæ æŸ¥çœ‹è¿”å›žç»“æžœ JQuery çš„ jsonp è·¨åŸŸè¯·æ±‚å¦‚æžœä»Ž 192.168.19.1å‘ajaxè¯·æ±‚åˆ° 192.168.19.6 ä¼šäº§ç”Ÿè·¨åŸŸé—®é¢˜, åˆ©ç”¨jqueryçš„jsonpå‚æ•°å¯è½»æ¾è¿™ä¸ªé—®é¢˜ã€‚ æ³¨æ„ï¼šJsonp éƒ½æ˜¯ GET å’Œå¼‚æ­¥è¯·æ±‚ 1234567891011function get() &#123; $.ajax(&#123; type: "GET", url: 'http://192.168.19.6:8080/jsgd/bill.jsp?userCode=?&amp;date='+ new Date(), dataType:"jsonp", jsonp:"jsonpcallback", success: function(msg)&#123; $('#callcenter').html(msg.text); &#125; &#125;);&#125; corsä»€ä¹ˆæ˜¯ corscorså…¨ç§° â€œè·¨åŸŸèµ„æºå…±äº«â€(Cross-origin resource sharing), æ˜¯ä¸€ç§ ajax è·¨åŸŸè¯·æ±‚èµ„æºçš„æ–¹å¼ã€‚ å…¼å®¹æ€§ cors éœ€è¦æµè§ˆå™¨å’ŒæœåŠ¡å™¨åŒæ—¶æ”¯æŒï¼Œæ‰å¯ä»¥å®žçŽ°è·¨åŸŸçš„è¯·æ±‚ è¿™ä¸ªæ–¹æ³•å‡ ä¹Žæ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒï¼Œä½†æ˜¯ ie å¿…é¡»æ˜¯ 10 ä»¥ä¸Š ie8 å’Œ 9 éœ€è¦é€šè¿‡ XDomainRequest æ¥å®žçŽ° è¯·æ±‚ç±»åž‹cors åˆ†ä¸ºç®€å•è¯·æ±‚å’Œå¤æ‚è¯·æ±‚ä¸¤ç±» ç®€å•è¯·æ±‚è¯·æ±‚æ–¹å¼ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•ä¹‹ä¸€ï¼š 123GETHEADPOST Content-Type çš„å€¼ä»…é™äºŽä¸‹åˆ—ä¸‰è€…ä¹‹ä¸€ï¼š 123text/plainmultipart/form-dataapplication/x-www-form-urlencoded æ³¨æ„ï¼šå¯¹äºŽç®€å•çš„è¯·æ±‚ï¼Œæµè§ˆå™¨ä¼šç›´æŽ¥å‘é€ cors è¯·æ±‚ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯åœ¨ header ä¸­åŠ å…¥ origin è¯·æ±‚å¤´å­—æ®µã€‚åœ¨å“åº”å¤´å›žæœåŠ¡å™¨è®¾ç½®ç›¸å…³çš„ cors è¯·æ±‚, å“åº”å¤´å­—æ®µä¸ºå…è®¸è·¨åŸŸè¯·æ±‚çš„æºã€‚è¯·æ±‚æ—¶æµè§ˆå™¨åœ¨è¯·æ±‚å¤´çš„ Origin ä¸­è¯´æ˜Žè¯·æ±‚çš„æºï¼ŒæœåŠ¡å™¨æ”¶åˆ°åŽå‘çŽ°å…è®¸è¯¥æºè·¨åŸŸè¯·æ±‚ï¼Œåˆ™ä¼šæˆåŠŸè¿”å›žã€‚ å¤æ‚è¯·æ±‚ä½¿ç”¨äº†ä¸‹é¢ä»»ä¸€ HTTP æ–¹æ³• 123456PUTDELETECONNECTOPTIONSTRACEPATCH Content-Type çš„å€¼ä¸å±žäºŽä¸‹åˆ—ä¹‹ä¸€ï¼š 123application/x-www-form-urlencodedmultipart/form-datatext/plain å½“ç¬¦åˆå¤æ‚è¯·æ±‚çš„æ¡ä»¶æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å…ˆå‘é€ä¸€ä¸ª options è¯·æ±‚ã€‚å¦‚æžœå‘çŽ°æµè§ˆå™¨æ”¯æŒè¯¥è¯·æ±‚ï¼Œåˆ™ä¼šå°†çœŸæ­£çš„è¯·æ±‚å‘é€åˆ°åŽç«¯ã€‚å¦‚æžœæµè§ˆå™¨å‘çŽ°æœåŠ¡ç«¯ä¸æ”¯æŒè¯¥è¯·æ±‚ï¼Œåˆ™ä¼šåœ¨æŽ§åˆ¶å°æŠ›å‡ºé”™è¯¯ã€‚ cors å­—æ®µä»‹ç» Access-Control-Allow-Methods è¿™ä¸ªå­—æ®µæ˜¯å¿…è¦çš„ï¼Œå®ƒçš„å€¼æ˜¯é€—å·åˆ†å‰²çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜ŽæœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹å¼ Access-Control-Allow-Headers å¦‚æžœæµè§ˆå™¨è¯·æ±‚åŒ…æ‹¬è¿™ä¸ªå­—æ®µï¼Œåˆ™è¿™ä¸ªå­—æ®µä¹Ÿæ˜¯å¿…é¡»çš„ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨æ˜ŽæœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µï¼Œä¸é™äºŽæµè§ˆå™¨åœ¨ â€œé¢„æ£€ â€œ ä¸­è¯·æ±‚çš„å­—æ®µ Access-Control-Allow-Credentials è¿™ä¸ªå­—æ®µä¸Žç®€å•è¯·æ±‚æ—¶çš„å«ä¹‰ç›¸åŒ Access-Control-Max-Age è¯¥å­—æ®µå¯é€‰ï¼Œç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚ä¸Šé¢ç»“æžœä¸­ï¼Œæœ‰æ•ˆæœŸæ˜¯ 20 å¤©ï¼ˆ1728000 ç§’ï¼‰ï¼Œå³å…è®¸ç¼“å­˜è¯¥æ¡å›žåº” 1728000 ç§’ï¼ˆå³ 20 å¤©ï¼‰ï¼Œåœ¨æ­¤æœŸé—´ï¼Œä¸ç”¨å‘å‡ºå¦ä¸€æ¡é¢„æ£€è¯·æ±‚ æµç¨‹å®žçŽ°index.html 1234567891011&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta &gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; hello&lt;/body&gt;&lt;/html&gt; serve.js 12345let express = require('express');let app = express();app.use(express.static(__dirname));app.listen(3000) ä»¥å½“å‰è¿™ä¸ªä½œä¸ºé™æ€æ–‡ä»¶ç›®å½•ï¼Œå…ˆè¦åœ¨ç»ˆç«¯é‡Œé¢node serve.jsæœåŠ¡å™¨æ‰“å¼€ï¼Œè®¿é—®localhost:3000å°±å¯ä»¥æŠŠ hello æ˜¾ç¤ºå‡ºæ¥ã€‚è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤æ‚è¯·æ±‚ä¾‹å­ï¼š index.js 123456789101112131415let xhr = new XMLHttpRequest()document.cookie = 'name=xiaoming'xhr.withCredentials = truexhr.open('PUT', 'http://localhost:4000/getData', true)xhr.setRequestHeader('name', 'xiaoming')xhr.onreadystatechange = function() &#123;if (xhr.readyState === 4) &#123; if ((xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300) || xhr.status === 304) &#123; console.log(xhr.response) //å¾—åˆ°å“åº”å¤´ï¼ŒåŽå°éœ€è®¾ç½®Access-Control-Expose-Headers console.log(xhr.getResponseHeader('name')) &#125;&#125;&#125;xhr.send() serve.js 12345let express = require('express');let app = express();app.use(express.static(__dirname));app.listen(3000) serve2.js 1234567891011121314151617181920212223242526272829303132333435let express = require('express')let app = express()let whitList = ['http://localhost:3000']app.use(function(req, res, next) &#123; let origin = req.headers.origin if (whitList.includes(origin)) &#123; res.setHeader('Access-Control-Allow-Origin', origin) res.setHeader('Access-Control-Allow-Headers', 'name') res.setHeader('Access-Control-Allow-Methods', 'PUT') res.setHeader('Access-Control-Allow-Credentials', true) res.setHeader('Access-Control-Max-Age', 6) res.setHeader('Access-Control-Expose-Headers', 'name') if (req.method === 'OPTIONS') &#123; res.end() &#125; &#125; next()&#125;)app.put('/getData', function(req, res) &#123; console.log(req.headers) res.setHeader('name', 'ming') res.end('æ—©ä¸Šå¥½')&#125;)app.get('/getData', function(req, res) &#123; console.log(req.headers) res.end('æ—©ä¸Šå¥½')&#125;)app.use(express.static(__dirname))app.listen(4000) Cors ä¸Ž Jsonp æ¯”è¾ƒ cors æ¯” Jsonp æ›´å¼ºå¤§ Jsonp åªæ”¯æŒ Get è¯·æ±‚ï¼Œcors æ”¯æŒæ‰€æœ‰ç±»åž‹çš„ HTTP è¯·æ±‚ ä½¿ç”¨ corsï¼Œå¯ä»¥ä½¿ç”¨ XMLHttpRequest å‘èµ·è¯·æ±‚å’ŒèŽ·å–æ•°æ®ï¼Œæ¯” Jsonp æœ‰æ›´å¥½çš„é”™è¯¯å¤„ç† Jsonp çš„ä¼˜åŠ¿åœ¨äºŽæ”¯æŒè€å¼æµè§ˆå™¨å’Œå¯ä»¥å‘ cors çš„ç½‘ç»œè¯·æ±‚æ•°æ® cors ä¸Ž Jsonp ç›¸æ¯”ï¼Œæ›´æ–¹ä¾¿å¯é  postMessageä»€ä¹ˆæ˜¯ postMessagepostMessageæ–¹æ³•å…è®¸æ¥è‡ªä¸åŒæºçš„è„šæœ¬é‡‡ç”¨å¼‚æ­¥æ–¹å¼è¿›è¡Œæœ‰é™çš„é€šä¿¡ï¼Œå¯ä»¥å®žçŽ°è·¨æ–‡æœ¬æ¡£ã€å¤šçª—å£ã€è·¨åŸŸæ¶ˆæ¯ä¼ é€’ã€‚ postMessage è¯­æ³•1otherWindow.postMessage(message, targetOrigin, [transfer]) otherWindowï¼šå…¶å®ƒçª—å£ (ç›®æ ‡çª—å£) çš„å¼•ç”¨ï¼Œæ¯”å¦‚ iframe çš„ contentWindow å±žæ€§ã€æ‰§è¡Œ window.open è¿”å›žçš„çª—å£å¯¹è±¡ã€æˆ–è€…æ˜¯å‘½åè¿‡æˆ–æ•°å€¼ç´¢å¼•çš„ window.frames messageï¼šå°†è¦å‘é€åˆ°å…¶ä»– window çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®ä¼šè‡ªåŠ¨è¢«åºåˆ—åŒ–ï¼Œæ•°æ®æ ¼å¼ä¹Ÿä¸å—é™åˆ¶ (å­—ç¬¦ä¸²ï¼Œå¯¹è±¡éƒ½å¯ä»¥) targetOriginï¼šç›®æ ‡çª—å£çš„æºï¼Œå¯ä»¥æ˜¯å­—ç¬¦ä¸² * è¡¨ç¤ºæ— é™åˆ¶ï¼Œæˆ– URL, éœ€è¦åè®®ç«¯å£å·å’Œä¸»æœºéƒ½åŒ¹é…æ‰ä¼šå‘é€ transfer(å¯é€‰)ï¼šæ˜¯ä¸€ä¸²å’Œ message åŒæ—¶ä¼ é€’çš„ Tranferable å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡çš„æ‰€æœ‰æƒå°† è¢«è½¬ç§»ç»™æ¶ˆæ¯æŽ¥æ”¶æ–¹ï¼Œè€Œå‘é€ä¸€æ–¹å°†ä¸å†ä¿æœ‰æ‰€æœ‰æƒ å…¼å®¹æ€§é«˜çº§æµè§ˆå™¨Internet Explorer 8+, chromeï¼ŒFirefox , Opera å’Œ Safari éƒ½å°†æ”¯æŒè¿™ä¸ªåŠŸèƒ½ æµç¨‹å®žçŽ° a.html å‘ b.html ä¼ é€’ â€œæ—©ä¸Šå¥½â€ï¼Œç„¶åŽ a.html ä¼ å›ž â€œä»Šå¤©å¤©æ°”çœŸå¥½â€ a.html 12345678910&lt;iframe src="http://localhost:4000/b.html" frameborder="0" id="frame" onload="load()"&gt;&lt;/iframe&gt;&lt;script&gt;function load()&#123; let frame = document.getElementById('frame'); frame.contentWindow.postMessage('æ—©ä¸Šå¥½','http://localhost:4000'); window.onmessage=function(e)&#123; console.log(e.data) &#125;&#125;&lt;/script&gt; b.html 123456&lt;script&gt; window.onmessage = function(e)&#123; console.log(e.data); e.source.postMessage('ä»Šå¤©å¤©æ°”ä¸é”™',e.origin) &#125;&lt;/script&gt; a.js 1234let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(3000) b.js 1234let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(4000) Window.nameä»€ä¹ˆæ˜¯ Window.namewindow.name æ˜¯ä¸€ä¸ª window å¯¹è±¡çš„å†…ç½®å±žæ€§ï¼Œname å±žæ€§å¯ä»¥è®¾ç½®æˆ–è¿”å›žå­˜æ”¾çª—å£çš„åç§°çš„ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ è¯¥å±žæ€§çš„ç‰¹å¾åœ¨é¡µé¢åœ¨æµè§ˆå™¨ç«¯å±•ç¤ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ€»èƒ½åœ¨æŽ§åˆ¶å°æ‹¿åˆ°ä¸€ä¸ªå…¨å±€å˜é‡ windowï¼Œè¯¥å˜é‡æœ‰ä¸€ä¸ª name å±žæ€§ï¼Œæœ‰ä»¥ä¸‹çš„ç‰¹å¾ï¼š æ¯ä¸ªçª—å£éƒ½æœ‰ç‹¬ç«‹çš„ window.name ä¸Žä¹‹å¯¹åº” åœ¨ä¸€ä¸ªçª—å£çš„ç”Ÿå‘½å‘¨æœŸä¸­ (è¢«å…³é—­å‰)ï¼Œçª—å£è½½å…¥çš„æ‰€æœ‰é¡µé¢åŒæ—¶å…±äº«ä¸€ä¸ª window.nameï¼Œæ¯ä¸ªé¡µé¢ window.name éƒ½æœ‰è¯»å†™çš„æƒé™ window.name ä¸€ç›´å­˜åœ¨ä¸Žå½“å‰çª—å£ï¼Œå³ä½¿æ˜¯æ–°çš„é¡µé¢è½½å…¥ä¹Ÿä¸ä¼šæ”¹å˜ window.name çš„å€¼ window.name å¯ä»¥å­˜å‚¨ä¸è¶…è¿‡ 2M çš„æ•°æ®ï¼Œæ•°æ®ä¸ªæ•°æŒ‰éœ€è‡ªå®šä¹‰ æµç¨‹å®žçŽ° a.html å’Œ b.html æ˜¯åŒåŸŸ http://localhost:3000 c.html æ˜¯ç‹¬ç«‹çš„ http://localhost:4000 a èŽ·å– c çš„æ•°æ® a å…ˆå¼•ç”¨ c c æŠŠå€¼æ”¾åˆ°window.name, æŠŠ a å¼•ç”¨çš„åœ°å€æ”¹ä¸º b a.html 12345678910111213&lt;iframe src="http://localhost:4000/c.html" frameborder="0" onload="load()" id="iframe"&gt;&lt;/iframe&gt;&lt;script&gt; let first = true function load()&#123; if(first)&#123; let iframe = document.getElementById('iframe'); iframe.src="http://localhost:3000/b.html"; first = false; &#125;else&#123; console.log(iframe.contentWindow.name) &#125; &#125;&lt;script&gt; b.html 123&lt;body&gt; æ—©ä¸Šå¥½&lt;/body&gt; c.html 123&lt;script&gt; window.name='ä»Šå¤©å¤©æ°”ä¸é”™'&lt;/script&gt; a.js 1234let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(3000) b.js 1234let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(4000) location.hashä»€ä¹ˆæ˜¯ location.hashlocationæ˜¯javascripté‡Œé¢çš„å†…ç½®å¯¹è±¡ï¼Œå¦‚location.hrefå°±ç®¡ç†é¡µé¢çš„ urlï¼Œç”¨loaction.href=urlå°±å¯ä»¥ç›´æŽ¥å°†é¡µé¢é‡å®šå‘ url, è€Œlocation.hashåˆ™å¯ä»¥ç”¨æ¥èŽ·å–æˆ–è®¾ç½®é¡µé¢çš„æ ‡ç­¾å€¼ï¼Œhash å±žæ€§æ˜¯ä¸€ä¸ªå¯è¯»å¯å†™çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²æ˜¯ URL çš„é”šéƒ¨åˆ† (ä»Ž #å·å¼€å§‹çš„éƒ¨åˆ†) location.hash çš„ç®€å•åº”ç”¨#çš„å«ä¹‰ #ä»£è¡¨ç½‘é¡µä¸­çš„ä½ç½®ï¼Œå…¶å³è¾¹çš„å­—ç¬¦ï¼Œå°±æ˜¯è¯¥ä½ç½®çš„æ ‡è¯†ç¬¦ï¼Œä¾‹å¦‚ï¼š 1http: å°±æ˜¯ä»£è¡¨ index.html çš„ drafts ä½ç½®ï¼Œæµè§ˆå™¨è¯»å–è¿™ä¸ª URL åŽï¼Œä¼šè‡ªåŠ¨å°† print ä½ç½®æ»šåŠ¨è‡³å¯è§†åŒºåŸŸ HTTP è¯·æ±‚ä¸åŒ…æ‹¬# #æ˜¯ç”¨æ¥æŒ‡å¯¼æµè§ˆå™¨çš„åŠ¨ä½œçš„ï¼Œå¯¹æœåŠ¡å™¨ç«¯å®Œå…¨æ— ç”¨ï¼Œæ‰€ä»¥ï¼ŒHTTP è¯·æ±‚ä¸­ä¸åŒ…æ‹¬#ä¾‹å¦‚ï¼š 1http: æµè§ˆå™¨å®žé™…å‘å‡ºçš„è¯·æ±‚æ˜¯è¿™æ ·çš„ï¼š 12GET/index.html HTTP/1.1Host:www.juejin.com å¯ä»¥çœ‹åˆ°ï¼Œåªæ˜¯è¯·æ±‚çš„ index.html, æ²¡æœ‰ #drafts éƒ¨åˆ† #åŽçš„å­—ç¬¦ åœ¨ç¬¬ä¸€ä¸ª #å‡ºçŽ°çš„ä»»ä½•å­—ç¬¦ï¼Œéƒ½ä¼šè¢«æµè§ˆå™¨è§£è¯»ä¸ºä½ç½®æ ‡è¯†ç¬¦ï¼Œè¿™æ„å‘³ç€ï¼Œè¿™äº›å­—ç¬¦ä¸ä¼šè¢«å‘é€åˆ°æœåŠ¡å™¨ç«¯ æ”¹å˜ #ä¸è§¦å‘ç½‘é¡µé‡æž„ å•å•æ”¹å˜ #åŽçš„éƒ¨åˆ†ï¼Œæµè§ˆå™¨åªä¼šæ»šåŠ¨åˆ°ç›¸åº”çš„ä½ç½®ï¼Œä¸ä¼šé‡æ–°åŠ è½½ç½‘é¡µ æ”¹å˜ #ä¼šæ”¹å˜æµè§ˆå™¨çš„è®¿é—®åŽ†å² æ¯ä¸€æ¬¡æ”¹å˜ #åŽçš„éƒ¨åˆ†ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®åŽ†å²ä¸­å¢žåŠ ä¸€ä¸ªè®°å½•ï¼Œä½¿ç”¨ â€œåŽé€€â€ æŒ‰é’®ï¼Œå°±å¯ä»¥å›žåˆ°ä¸Šä¸€ä¸ªä½ç½® è¯»å– #å€¼ window.location.hash è¿™ä¸ªå±žæ€§å¯è¯»å¯å†™ã€‚è¯»å–æ—¶ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­ç½‘é¡µçŠ¶æ€æ˜¯å¦æ”¹å˜ï¼›å†™å…¥æ—¶ï¼Œåˆ™ä¼šåœ¨ä¸é‡è½½ç½‘é¡µçš„å‰æä¸‹ï¼Œåˆ›é€ ä¸€æ¡è®¿é—®åŽ†å²è®°å½• onhashchange äº‹ä»¶ å½“ #å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘è¿™ä¸ªäº‹ä»¶ã€‚IE8+ã€Firefox 3.6+ã€Chrome 5+ã€Safari 4.0 + æ”¯æŒè¯¥äº‹ä»¶ Google æŠ“å– #çš„æœºåˆ¶ é»˜è®¤æƒ…å†µä¸‹ï¼ŒGoogle çš„ç½‘ç»œå¿½è§† URL çš„ #éƒ¨åˆ† æµç¨‹å®žçŽ°è·¯å¾„åŽé¢çš„ hash å€¼å¯ä»¥ç”¨æ¥é€šä¿¡ã€‚ç›®çš„ï¼ša.html æƒ³è®¿é—® c.htmlè·¨åŸŸç›¸äº’é€šä¿¡ã€‚ a.html ç»™ c.html ä¼ ä¸€ä¸ª hash å€¼, éœ€è¦é€šè¿‡ä¸­é—´çš„ b.html æ¥å®žçŽ° c.html æ”¶åˆ° hash å€¼åŽ c.html æŠŠ hash å€¼ä¼ é€’ç»™ b.html b.html å°†ç»“æžœæ”¾åˆ° a.html çš„ hash å€¼ä¸­ a.html 123456&lt;iframe src="http://localhost:4000/c.html#goodmorning"&gt;&lt;/iframe&gt;&lt;script&gt; window.onhashchange = function () &#123; console.log(location.hash); &#125;&lt;/script&gt; b.html 123&lt;script&gt; window.parent.parent.location.hash = location.hash &lt;/script&gt; c.html 123456&lt;script&gt; console.log(location.hash); let iframe = document.createElement('iframe'); iframe.src = 'http://localhost:3000/b.html#goodevening'; document.body.appendChild(iframe);&lt;/script&gt; a.js 1234let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(3000) b.js 1234let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(4000) domainä»€ä¹ˆæ˜¯ domainä¸»è¦ç”¨äºŽä¸»åŸŸç›¸åŒçš„åŸŸä¹‹é—´çš„æ•°æ®é€šä¿¡ï¼Œæ³¨æ„ ä»…é™ä¸»åŸŸç›¸åŒï¼Œå­åŸŸä¸åŒçš„è·¨åŸŸåº”ç”¨åœºæ™¯ã€‚ å®žçŽ°çš„åŽŸç†ï¼šä¸¤ä¸ªé¡µé¢éƒ½é€šè¿‡ js å¼ºåˆ¶è®¾ç½® document.domain ä¸ºåŸºç¡€ä¸»åŸŸï¼Œå°±å®žçŽ°äº†åŒåŸŸ è¯´æ˜Žè¿™ä¸ªæ–¹æ³•åªèƒ½ç”¨äºŽäºŒçº§åŸŸåç›¸åŒçš„æƒ…å†µä¸‹, æ¯”å¦‚ï¼š 12www.baidu.comhhh.baidu.com è¿™å°±é€‚ç”¨äºŽ domain æ–¹æ³• æµç¨‹å®žçŽ°a.html 1234567&lt;iframe src="http://b.ming.cn:3000/b.html" frameborder="0" onload="load()" id="frame"&gt;&lt;/iframe&gt;&lt;script&gt; document.domain = 'ming.cn' function load() &#123; console.log(frame.contentWindow.a); &#125;&lt;/script&gt; b.html 1234567&lt;div&gt; æ—©ä¸Šå¥½å•Š&lt;/div&gt;&lt;script type="text/javascript"&gt; document.domain = 'ming.cn' var a = 99999;&lt;/script&gt; a.js 123456let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(3000, () =&gt; &#123; console.log('server run at 3000')&#125;) b.js 123456let express = require('express')let app = express();app.use(express.static(__dirname));app.listen(4000, () =&gt; &#123; console.log('server run at 4000')&#125;) è¿™ä¸ªå°±å¯ä»¥é€šè¿‡ http://a.ming.cn:3000/a.html èŽ·å–åˆ°é¡µé¢ http://a.ming.cn:3000/b.htm ä¸­çš„ a çš„å€¼ 99999 æ³¨æ„ï¼šè¿™é‡Œæˆ‘æŠŠæˆ‘ç”µè„‘ä¸Šè¾¹çš„ hosts ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œä¸ç„¶ä¸èƒ½å‡ºæ¥æ•ˆæžœ WebSocketä»€ä¹ˆæ˜¯ WebSocketWebSocketæ˜¯ä¸€ç§ç½‘ç»œé€šä¿¡åè®®ï¼Œå®ƒå®žçŽ°äº†æµè§ˆå™¨ä¸ŽæœåŠ¡å™¨å…¨åŒå·¥é€šä¿¡ï¼ŒåŒæ—¶å…è®¸è·¨åŸŸé€šè®¯ã€‚åŽŸç”Ÿ WebSocket API ä½¿ç”¨èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œæˆ‘ä»¬ä½¿ç”¨Socket.ioï¼Œå®ƒå¾ˆå¥½åœ°å°è£…äº† webSocket æŽ¥å£ï¼Œæä¾›äº†æ›´ç®€å•ã€çµæ´»çš„æŽ¥å£ï¼Œä¹Ÿå¯¹ä¸æ”¯æŒ webSocket çš„æµè§ˆå™¨æä¾›äº†å‘ä¸‹å…¼å®¹ã€‚ WebSocket å¦‚ä½•å·¥ä½œWeb æµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½å¿…é¡»å®žçŽ° WebSockets åè®®æ¥å»ºç«‹å’Œç»´æŠ¤è¿žæŽ¥ã€‚ç”±äºŽ WebSockets è¿žæŽ¥é•¿æœŸå­˜åœ¨ï¼Œä¸Žå…¸åž‹çš„ HTTP è¿žæŽ¥ä¸åŒï¼Œå¯¹æœåŠ¡å™¨æœ‰é‡è¦çš„å½±å“ã€‚ æ³¨æ„ï¼šåŸºäºŽå¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹çš„æœåŠ¡å™¨æ— æ³•é€‚ç”¨äºŽWebSocketsï¼Œå› ä¸ºå®ƒæ—¨åœ¨æ‰“å¼€è¿žæŽ¥ï¼Œå°½å¯èƒ½å¿«åœ°å¤„ç†è¯·æ±‚ï¼Œç„¶åŽå…³é—­è¿žæŽ¥ã€‚ä»»ä½•å®žé™…çš„WebSocketsæœåŠ¡å™¨ç«¯å®žçŽ°éƒ½éœ€è¦ä¸€ä¸ªå¼‚æ­¥æœåŠ¡å™¨ã€‚ æµç¨‹å®žçŽ°a.html 12345678910&lt;script&gt; let socket = new WebSocket('ws://localhost:3000'); socket.onopen=function()&#123; socket.send('æ—©ä¸Šå¥½å•Š') &#125; socket.onmessage = function(e)&#123; console.log(e.data); &#125;&lt;/script&gt; a.js 12345678910let express = require('express')let app = express();let WebSocket = require('ws')let wss = new WebSocket.Server(&#123;port:3000&#125;)wss.on('connection',function(ws)&#123; ws.on('message',function(data)&#123; console.log(data) ws.send('ä»Šå¤©å¤©æ°”çœŸå¥½') &#125;)&#125;) æ€»ç»“ä»¥ä¸Šå°±æ˜¯æ•´ç†çš„ä¸€äº›è·¨åŸŸçš„æ–¹æ³•ï¼Œæˆ‘è§‰å¾—ä¸€èˆ¬ç”¨ cors,jsonp ç­‰å¸¸è§çš„æ–¹æ³•å°±å¯ä»¥äº†ï¼Œä¸è¿‡é‡åˆ°äº†ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œæˆ‘ä»¬ä¹Ÿè¦åšåˆ°æœ‰å¾ˆå¤šæ–¹æ³•æ˜¯å¯ä»¥é€‰æ‹©çš„ï¼Œç›¸ä¿¡è¿™ç¯‡æ–‡å­—ä¼šå¯¹å¤§å®¶æœ‰å¸®åŠ©!]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[2019Nianç»ˆæ€»ç»“]]></title>
    <url>%2Farchives%2F1e218812.html</url>
    <content type="text"><![CDATA[åœ¨æŸäº›æ—¶å€™ï¼Œéœ€è¦å°†è‡ªå·±ä»¥å¾€çš„ç»åŽ†å½’é›¶ï¼Œå› ä¸ºæœ‰äº›ä¸œè¥¿æ˜¯æ”¾åœ¨ä¸€å®šæ¡ä»¶ä¸‹å®ƒæ‰æˆç«‹ï¼Œä¸è¦æ€»æ˜¯è¯´è¿‡åŽ»æ€Žæ ·æ€Žæ ·ï¼Œä½ æ‹¥æœ‰çš„èµ„æºã€æ‰€å¤„çš„çŽ¯å¢ƒä¸åŒï¼Œé‚£ä¹ˆç»“æžœå°±æ˜¯ä¸ä¸€æ · 2019 Niançäº‹ åŒ—äº¬â€”â€”æ­å·žâ€”â€”æ­¦æ±‰ ç»“æŸäº†å¼‚åœ°æ‹ å…»äº†ä¸€åªçŒ« ç»ˆäºŽæœ‰äº†è‡ªå·±çš„Mac åŽ»å®œæ˜Œæ—…æ¸¸äº†ä¸€æ¬¡ å‘çŽ°äº†ä¸€ä¸ªç¬”è®°ç¥žå™¨Notion (è®°å½•äº†36ç¯‡æ–‡ç« ) ç”¨Hexoæ­å»ºäº†è‡ªå·±çš„åšå®¢ (æ›´æ–°äº†17ç¯‡æ–‡ç« ) å°†åšå®¢è¿›è¡Œäº†SEO æŠ€æœ¯æ ˆ HTML5 CSS3 JavaScript ES5/ES6 Vue Node Nginx Less/Sass JQuery å°ç¨‹åº åšå®¢æ­å»º åŸŸåä»£ç† HTTP 2020 Nianè§„åˆ’ è¦æ˜Žç¡®çš„çŸ¥é“è‡ªå·±æƒ³è¦çš„æ˜¯ä»€ä¹ˆ ä¸è¦å¯¹è‡ªå·±è®¾é™ åšå®¢åšæŒæŒç»­æ›´æ–° GitHubè´¡çŒ®å¼€æº è¿›å¤§åŽ‚ æŠ€æœ¯å‘ä¸Š æŠ€æœ¯æ ˆ TypeScript React React-Native Angular Webpack Serverless Fultter ðŸ“åŒ—äº¬ ðŸ“æ­å·žæ—¥æœˆåŒè¾‰å¹¿åœº ðŸ“æ­¦æ±‰é•¿æ±Ÿå¤§æ¡¥ ðŸ±æˆ‘çš„çŒ«å«å¥¶ç²‰ANDäººç”Ÿä¸­ç¬¬ä¸€å°Mac ðŸ¡æ­¦æ±‰çš„å®¶ ðŸ’‘å“ˆå“ˆå“ˆ]]></content>
  </entry>
  <entry>
    <title><![CDATA[Vueç¨‹åºåŒ–çš„äº‹ä»¶ç›‘å¬å™¨]]></title>
    <url>%2Farchives%2Fa85e4219.html</url>
    <content type="text"><![CDATA[æŸäº›ç¬¬ä¸‰æ–¹æ’ä»¶å¿…é¡»åœ¨å½“å‰ç»„ä»¶å¸è½½åŽæ¸…é™¤è¯¥å®žä¾‹ï¼ˆæ¯”å¦‚è¯´ç™¾åº¦çš„å¯Œæ–‡æœ¬æ¡†UEditor å¦‚æžœä¸æ¸…é™¤å†æ¬¡åœ¨ä¸‹ä¸ªç»„ä»¶ä½¿ç”¨æ—¶ä¼šæœ‰bugï¼Œ ç±»ä¼¼äºŽå°ç¨‹åºçš„è¯­éŸ³å®žä¾‹ï¼Œå¿…é¡»ç¦»å¼€é¡µé¢çš„æ—¶å€™é”€æ¯å½“å‰è¯­éŸ³å®žä¾‹ï¼Œä¸ç„¶è¯­éŸ³ä¼šä¸€ç›´æ’­æ”¾ï¼‰ æ–¹æ¡ˆ1ï¼š 12345data() &#123; return &#123; timer: null // å®šæ—¶å™¨åç§° &#125; &#125;, ç„¶åŽè¿™æ ·ä½¿ç”¨å®šæ—¶å™¨ï¼š 123this.timer = setIterval (() =&gt; &#123; // æŸäº›æ“ä½œ&#125;, 1000) æœ€åŽåœ¨beforeDestroy()ç”Ÿå‘½å‘¨æœŸå†…æ¸…é™¤å®šæ—¶å™¨ï¼š 1234beforeDestroy() &#123; clearInterval(this.timer); this.timer = null;&#125; æ¬¡æ–¹æ¡ˆæœ‰ä¸¤ç‚¹ä¸å¥½çš„åœ°æ–¹ï¼Œå¼•ç”¨å°¤å¤§çš„è¯æ¥è¯´å°±æ˜¯ï¼š (1)å®ƒéœ€è¦åœ¨è¿™ä¸ªç»„ä»¶å®žä¾‹ä¸­ä¿å­˜è¿™ä¸ªæ•°æ®timerï¼Œè¿™æ˜¯å¤šä½™çš„ã€‚(2)æˆ‘ä»¬çš„å»ºç«‹å®šæ—¶å™¨ä»£ç ç‹¬ç«‹äºŽæˆ‘ä»¬çš„æ¸…ç†ä»£ç ï¼ˆå®šæ—¶å™¨éœ€è¦å¸è½½é¡µé¢çš„æ—¶å€™å¸è½½ï¼‰ï¼Œè¿™ä½¿å¾—æˆ‘ä»¬æ¯”è¾ƒéš¾äºŽç¨‹åºåŒ–çš„æ¸…ç†æˆ‘ä»¬å»ºç«‹çš„æ‰€æœ‰ä¸œè¥¿ï¼ˆæ„æ€æ˜¯æ‰§è¡Œä»£ç å’Œæ¸…é™¤ä»£ç ä¸åœ¨ä¸€èµ·ï¼‰ã€‚æ–¹æ¡ˆ2ï¼š è¯¥æ–¹æ³•æ˜¯é€šè¿‡$onceè¿™ä¸ªäº‹ä»¶ä¾¦å¬å™¨å™¨åœ¨å®šä¹‰å®Œå®šæ—¶å™¨ä¹‹åŽçš„ä½ç½®æ¥æ¸…é™¤å®šæ—¶å™¨ã€‚ä»¥ä¸‹æ˜¯å®Œæ•´ä»£ç ï¼š 123456789mounted: function () &#123; const timer = setInterval(() =&gt;&#123; // æŸäº›å®šæ—¶å™¨æ“ä½œ &#125;, 500); // é€šè¿‡$onceæ¥ç›‘å¬å®šæ—¶å™¨ï¼Œåœ¨beforeDestroyé’©å­å¯ä»¥è¢«æ¸…é™¤ã€‚ this.$once('hook:beforeDestroy', () =&gt; &#123; clearInterval(timer); &#125;)&#125; ç®€å•æ¥è¯´å°±æ˜¯æŠŠæ‰€æœ‰åˆ›å»ºå®žä¾‹å’Œéœ€è¦é”€æ¯çš„å®žä¾‹ä»£ç æ”¾åœ¨ä¸€èµ·äº†ï¼Œæ”¾åœ¨ä¸€èµ·è€Œå·²(åˆ›å»ºå®žä¾‹å’Œé”€æ¯å®žä¾‹)â€¦â€¦..ç”šè‡³å¯ä»¥åœ¨ä¸€ä¸ªé¡µé¢å¼€å¯å¤šä¸ªè¿™ç§åˆ›å»ºå®žä¾‹å’Œé”€æ¯å®žä¾‹12345678910111213141516mounted: function () &#123; this.attachDatepicker('startDateInput') this.attachDatepicker('endDateInput')&#125;,methods: &#123; attachDatepicker: function (refName) &#123; var picker = new Pikaday(&#123; field: this.$refs[refName], format: 'YYYY-MM-DD' &#125;) this.$once('hook:beforeDestroy', function () &#123; picker.destroy() &#125;) &#125;&#125; ç»¼åˆæ¥è¯´ï¼Œæˆ‘ä»¬æ›´æŽ¨èä½¿ç”¨æ–¹æ¡ˆ2ï¼Œä½¿å¾—ä»£ç å¯è¯»æ€§æ›´å¼ºï¼Œä¸€ç›®äº†ç„¶ã€‚å¦‚æžœä¸æ¸…æ¥š$onceã€$onã€$offçš„ä½¿ç”¨ï¼Œè¿™é‡Œé€ä¸Šå®˜ç½‘çš„åœ°å€æ•™ç¨‹ï¼Œåœ¨ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨é‚£é‡Œã€‚]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vue inheritAttrs, $attrs,$listeners è¯¦è§£]]></title>
    <url>%2Farchives%2Fd95d5814.html</url>
    <content type="text"><![CDATA[1ã€vm.$attrsç®€ä»‹é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸‹vueå®˜æ–¹å¯¹vm.$attrsçš„ä»‹ç»ï¼š åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸ä½œä¸º prop è¢«è¯†åˆ« (ä¸”èŽ·å–) çš„ç‰¹æ€§ç»‘å®š (class å’Œ style é™¤å¤–)ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜Žä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š (class å’Œ style é™¤å¤–)ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ v-bind=â€$attrsâ€ ä¼ å…¥å†…éƒ¨ç»„ä»¶â€”â€”åœ¨åˆ›å»ºæ›´é«˜å±‚æ¬¡çš„ç»„ä»¶æ—¶éžå¸¸æœ‰ç”¨ã€‚ çŒ›ä¸€çœ‹æœ‰ç‚¹çœ‹ä¸æ˜Žç™½â€¦. 2ã€åœºæ™¯ä»‹ç»vueä¸­ä¸€ä¸ªæ¯”è¾ƒä»¤äººçƒ¦æ¼çš„äº‹æƒ…æ˜¯å±žæ€§åªèƒ½ä»Žçˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å½“ä½ æƒ³å‘åµŒå¥—å±‚çº§æ¯”è¾ƒæ·±ç»„ä»¶æ•°æ®ä¼ é€’ï¼Œåªèƒ½ç”±çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶å†ä¼ é€’ç»™å­™å­ç»„ä»¶â€¦åƒä¸‹é¢è¿™æ ·ï¼š 1234567&lt;parent-component :passdown="passdown"&gt;&lt;child-component :passdown="passdown"&gt;&lt;grand-child-component :passdown="passdown"&gt;.... å°±è¿™æ ·ä¸€å±‚ä¸€å±‚çš„å¾€ä¸‹ä¼ é€’passdownè¿™ä¸ªå˜é‡ï¼Œæœ€åŽæ‰èƒ½ç”¨{{passdown}}ã€‚å‡å¦‚æˆ‘ä»¬éœ€è¦ä¼ é€’çš„å±žæ€§åªæœ‰1,2ä¸ªè¿˜è¡Œï¼Œä½†æ˜¯å¦‚æžœæˆ‘ä»¬è¦ä¼ é€’çš„æœ‰å‡ ä¸ªæˆ–è€…10æ¥ä¸ªçš„æƒ…å†µï¼Œè¿™ä¼šæ˜¯ä»€ä¹ˆæ ·çš„åœºæ™¯ï¼Œæˆ‘ä»¬ä¼šåœ¨æ¯ä¸ªç»„ä»¶ä¸åœçš„propsï¼Œæ¯ä¸ªå¿…é¡»å†™å¾ˆå¤šéã€‚æœ‰æ²¡æœ‰å…¶å®ƒæ–¹ä¾¿çš„å†™æ³•ï¼Ÿæœ‰ï¼Œé€šè¿‡vuexçš„çˆ¶å­ç»„ä»¶é€šä¿¡ï¼Œçš„ç¡®è¿™ä¸ªæ˜¯ä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯è¿˜æœ‰å…¶å®ƒçš„æ–¹æ³•ï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦è¯´çš„ã€‚é€šè¿‡inheritAttrsé€‰é¡¹ï¼Œä»¥åŠå®žä¾‹å±žæ€§$attrs 3ã€å®žä¾‹ï¼š123456789101112131415161718192021222324252627282930&lt;template&gt; &lt;div class="home"&gt; &lt;mytest :title="title" :massgae="massgae"&gt;&lt;/mytest&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: 'home', data () &#123; return &#123; title:'title1111', massgae:'message111' &#125; &#125;, components:&#123; 'mytest':&#123; template:`&lt;div&gt;è¿™æ˜¯ä¸ªh1æ ‡é¢˜&#123;&#123;title&#125;&#125;&lt;/div&gt;`, props:['title'], data()&#123; return&#123; mag:'111' &#125; &#125;, created:function()&#123; console.log(this.$attrs)//æ³¨æ„è¿™é‡Œ &#125; &#125; &#125;&#125;&lt;/script&gt; ä¸Šè¾¹çš„ä»£ç ï¼Œæˆ‘ä»¬åœ¨ç»„ä»¶é‡Œåªæ˜¯ç”¨äº†titleè¿™ä¸ªå±žæ€§ï¼Œmassgaeå±žæ€§æˆ‘ä¹ˆæ˜¯æ²¡æœ‰ç”¨çš„ï¼Œé‚£ä¹ˆä¸‹æµè§ˆå™¨æ¸²æŸ“å‡ºæ¥æ˜¯ä»€ä¹ˆæ ·å‘¢ï¼Ÿå¦‚ä¸‹å›¾ï¼š æˆ‘ä»¬çœ‹åˆ°ï¼šç»„ä»¶å†…æœªè¢«æ³¨å†Œçš„å±žæ€§å°†ä½œä¸ºæ™®é€šhtmlå…ƒç´ å±žæ€§è¢«æ¸²æŸ“ï¼Œå¦‚æžœæƒ³è®©å±žæ€§èƒ½å¤Ÿå‘ä¸‹ä¼ é€’ï¼Œå³ä½¿propç»„ä»¶æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œä½ ä¹Ÿéœ€è¦åœ¨ç»„ä»¶ä¸Šæ³¨å†Œã€‚è¿™æ ·åšä¼šä½¿ç»„ä»¶é¢„æœŸåŠŸèƒ½å˜å¾—æ¨¡ç³Šä¸æ¸…ï¼ŒåŒæ—¶ä¹Ÿéš¾ä»¥ç»´æŠ¤ç»„ä»¶çš„DRYã€‚åœ¨Vue2.4.0,å¯ä»¥åœ¨ç»„ä»¶å®šä¹‰ä¸­æ·»åŠ inheritAttrsï¼šfalseï¼Œç»„ä»¶å°†ä¸ä¼šæŠŠæœªè¢«æ³¨å†Œçš„propså‘ˆçŽ°ä¸ºæ™®é€šçš„HTMLå±žæ€§ã€‚ä½†æ˜¯åœ¨ç»„ä»¶é‡Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶$attrså¯ä»¥èŽ·å–åˆ°æ²¡æœ‰ä½¿ç”¨çš„æ³¨å†Œå±žæ€§ï¼Œå¦‚æžœéœ€è¦ï¼Œæˆ‘ä»¬åœ¨è¿™ä¹Ÿå¯ä»¥å¾€ä¸‹ç»§ç»­ä¼ é€’ã€‚ å¦‚æžœæˆ‘ä»¬åœ¨å­ç»„ä»¶é‡Œè®¾ç½® inheritAttrs: falseï¼š 1234567891011121314components:&#123; 'mytest':&#123; template:`&lt;div&gt;è¿™æ˜¯ä¸ªh1æ ‡é¢˜&#123;&#123;title&#125;&#125;&lt;/div&gt;`, props:['title'], inheritAttrs: false, data()&#123; return&#123; mag:'111' &#125; &#125;, created:function()&#123; console.log(this.$attrs)//æ³¨æ„è¿™é‡Œ &#125; &#125; æ¸²æŸ“æ•ˆæžœå¦‚ä¸‹ï¼š è¡¥å……ï¼šè¯´ä¸€ä¸‹$attrsçš„ä½¿ç”¨æœ‰ä¸€ä¸ªé¡µé¢ç”±çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶ï¼Œå­™å­ç»„ä»¶æž„æˆï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;div style="padding:50px;"&gt; &lt;childcom :name="name" :age="age" :sex="sex"&gt;&lt;/childcom&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; 'name':'test', props:[], data()&#123; return &#123; 'name':'å¼ ä¸‰', 'age':'30', 'sex':'ç”·' &#125; &#125;, components:&#123; 'childcom':&#123; template:`&lt;div&gt; &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;grandcom v-bind="$attrs"&gt;&lt;/grandcom&gt; &lt;/div&gt;`, props:['name'], components: &#123; 'grandcom':&#123; template:`&lt;div&gt;&#123;&#123;$attrs&#125;&#125;&lt;/div&gt;`, &#125; &#125; &#125; &#125;&#125;&lt;/script&gt; ä¸Šé¢çš„ä»£ç åœ¨é¡µé¢çš„æ•ˆæžœæ˜¯å¦‚ä¸‹å›¾ å¦‚æžœattrsè¢«ç»‘å®šåœ¨å­ç»„ä»¶childcomä¸ŠåŽï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å­™å­ç»„ä»¶grandcomé‡ŒèŽ·å–åˆ°this.$attrsçš„å€¼ã€‚è¿™ä¸ªçš„å€¼æ˜¯çˆ¶ç»„ä»¶ä¸­ä¼ é€’ä¸‹æ¥çš„propsï¼ˆé™¤äº†å­ç»„ä»¶childcomç»„ä»¶ä¸­propså£°æ˜Žçš„ï¼‰ã€‚ è®°ä½å­™å­ç»„ä»¶grandcomé‡ŒèŽ·å–åˆ°this.$attrsçš„å€¼æ˜¯é™¤äº†å­ç»„ä»¶childcomå£°æ˜Žçš„å…ƒç´ ï¼è®°ä½æ˜¯é™¤äº†å­ç»„ä»¶childcomå£°æ˜Žçš„å…ƒç´ ï¼ä¾‹å¦‚ä¸Šé¢çš„ä»£ç æˆ‘åœ¨å­ç»„ä»¶childcomç»„ä»¶çš„propsé‡Œå£°æ˜Žäº†nameï¼Œé‚£ä¹ˆæˆ‘åœ¨å­™å­ç»„ä»¶grandcomé‡ŒèŽ·å–åˆ°çš„$attrså°±ä¸åŒ…å«nameå±žæ€§ï¼Œé‚£ä¹ˆthis.$attrs = { â€˜ageâ€™:â€™30â€™, â€˜sexâ€™:â€™ç”·â€™}ã€‚ è¡¥å……ï¼šè¯´ä¸€ä¸‹$attrsçš„ä¼˜åŠ¿åˆ°åº•åœ¨å“ªå‡å¦‚æˆ‘ä»¬è¦åšä¸€ä¸ªé¡µé¢ï¼Œæœ‰çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶ï¼Œå­™å­ç»„ä»¶ï¼Œå¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031&lt;template&gt; &lt;div&gt; &lt;childcom&gt;&lt;/childcom&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; 'name':'test', props:[], data()&#123; return &#123; 'name':'å¼ ä¸‰', 'age':'30', 'sex':'ç”·' &#125; &#125;, components:&#123; 'childcom':&#123; template:`&lt;div&gt; &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶&lt;/div&gt; &lt;grandcom&gt;&lt;/grandcom&gt; &lt;/div&gt;`, components: &#123; 'grandcom':&#123; template:`&lt;div&gt;æˆ‘æ˜¯å­™å­ç»„ä»¶&lt;/div&gt;`, &#125; &#125; &#125; &#125;&#125;&lt;/script&gt; å¦‚ä¸Šä»£ç ï¼Œå‡å¦‚æˆ‘æƒ³åœ¨å­ç»„ä»¶æƒ³èŽ·å–åˆ°çˆ¶ç»„ä»¶çš„nameå±žæ€§å€¼ï¼Œåœ¨å­™å­ç»„ä»¶èŽ·å–çˆ¶ç»„ä»¶çš„ageå±žæ€§å€¼ï¼Œç”¨propsçš„è¯å°±å¿…é¡»åœ¨çˆ¶ç»„ä»¶æŠŠnameå’Œageçš„å€¼é€šè¿‡propsä¼ é€’åˆ°å­ç»„ä»¶ï¼Œå­ç»„ä»¶åœ¨é€šè¿‡propsæŠŠageçš„å€¼ä¼ é€’åˆ°å­™å­ç»„ä»¶ï¼Œåˆ°è¿™é‡Œçœ‹æ˜Žç™½äº†å§ï¼Œå­™å­ç»„ä»¶éœ€è¦çš„ageåœ¨å­ç»„ä»¶é‡Œæ²¡æœ‰ç”¨åˆ°ï¼Œä½†æ˜¯ä¸ºäº†èƒ½è®©å­™å­ç»„ä»¶èŽ·å–åˆ°ï¼Œä½ å¿…é¡»ä»Žçˆ¶ç»„ä»¶ ä¼ åˆ°å­ç»„ä»¶ï¼Œåœ¨åœ¨å­ç»„ä»¶ä¼ é€’åˆ°å­™å­ç»„ä»¶ã€‚ ä½†æ˜¯ç”¨$attrså°±ä¸ç”¨é‚£ä¹ˆéº»çƒ¦ï¼Œå¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132&lt;template&gt; &lt;div&gt; &lt;childcom :name="name" :age="age" :sex="sex"&gt;&lt;/childcom&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; 'name':'test', props:[], data()&#123; return &#123; 'name':'å¼ ä¸‰', 'age':'30', 'sex':'ç”·' &#125; &#125;, components:&#123; 'childcom':&#123; props:['name'], template:`&lt;div&gt; &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶ &#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;grandcom v-bind="$attrs"&gt;&lt;/grandcom&gt; &lt;/div&gt;`, components: &#123; 'grandcom':&#123; template:`&lt;div&gt;æˆ‘æ˜¯å­™å­ç»„ä»¶&#123;&#123;$attrs.age&#125;&#125;&lt;/div&gt;`, &#125; &#125; &#125; &#125;&#125;&lt;/script&gt; å­ç»„ä»¶ç»‘å®šäº†â€$attrsâ€ï¼Œå­™å­ç»„ä»¶å°±èƒ½èŽ·å–åˆ°é™¤äº†nameå±žæ€§å¤–æ‰€æœ‰ç”±çˆ¶ç»„ä»¶ä¼ é€’ä¸‹æ¥çš„å±žæ€§ã€‚å¦‚æžœå­™å­ç»„ä»¶ä¹Ÿæƒ³èŽ·å–åˆ°nameå±žæ€§é‚£ä¹ˆï¼Œåœ¨ç»‘å®šä¸ªnameå¦‚ä¸‹ï¼Œ 1&lt;grandcom v-bind="$attrs" :name="name"&gt;&lt;/grandcom&gt; ç»†ç»†ä½“ä¼šä¸‹æ˜¯ä¸æ˜¯è¿™ä¸ªé“ç†ã€‚å®žåœ¨ä¸è¡Œçš„è¯æ•²ä¸€æ•²ä»£ç è‡ªå·±è¯•éªŒä¸‹ï¼Œä½ å°±ä¼šè±ç„¶å¼€æœ—ã€‚ inheritAttrså±žæ€§å…³äºŽinheritAttrsè¿™ä¸ªå±žæ€§è·ŸèŽ·å–åˆ°$attrsçš„å€¼æ²¡æœ‰å…³ç³»ï¼ŒinheritAttrsé€šå¸¸åœ¨ç¼–å†™åŸºç¡€ç»„ä»¶æ—¶å€™ä¼šç”¨åˆ°ã€‚å®˜ç½‘åŽŸè¯ï¼šé»˜è®¤æƒ…å†µä¸‹çˆ¶ä½œç”¨åŸŸçš„ä¸è¢«è®¤ä½œ props çš„ç‰¹æ€§ç»‘å®š (attribute bindings) å°†ä¼šâ€œå›žé€€â€ä¸”ä½œä¸ºæ™®é€šçš„ HTML ç‰¹æ€§åº”ç”¨åœ¨å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚å½“æ’°å†™åŒ…è£¹ä¸€ä¸ªç›®æ ‡å…ƒç´ æˆ–å¦ä¸€ä¸ªç»„ä»¶çš„ç»„ä»¶æ—¶ï¼Œè¿™å¯èƒ½ä¸ä¼šæ€»æ˜¯ç¬¦åˆé¢„æœŸè¡Œä¸ºã€‚é€šè¿‡è®¾ç½® inheritAttrs åˆ° falseï¼Œè¿™äº›é»˜è®¤è¡Œä¸ºå°†ä¼šè¢«åŽ»æŽ‰ã€‚è€Œé€šè¿‡ (åŒæ ·æ˜¯ 2.4 æ–°å¢žçš„) å®žä¾‹å±žæ€§ $attrs å¯ä»¥è®©è¿™äº›ç‰¹æ€§ç”Ÿæ•ˆï¼Œä¸”å¯ä»¥é€šè¿‡ v-bind æ˜¾æ€§çš„ç»‘å®šåˆ°éžæ ¹å…ƒç´ ä¸Šã€‚ æ³¨æ„ï¼šè¿™ä¸ªé€‰é¡¹ä¸å½±å“ class å’Œ style ç»‘å®šã€‚ åœ¨Vue2.4.0ä¹‹å‰ç‰ˆæœ¬ï¼Œç»„ä»¶å†…æœªè¢«æ³¨å†Œçš„å±žæ€§å°†ä½œä¸ºæ™®é€šhtmlå…ƒç´ å±žæ€§è¢«æ¸²æŸ“ã€‚ inheritAttrsåˆ°åº•æœ‰å•¥ç”¨ï¼Ÿåˆ°åº•ç”¨åœ¨å“ªé‡Œï¼Ÿçœ‹ä¸‹è¾¹ä»£ç ï¼Œ 12345678910111213141516171819202122&lt;template&gt; &lt;childcom :name="name" :age="age" type="text"&gt;&lt;/childcom&gt;&lt;/template&gt;&lt;script&gt;export default &#123; 'name':'test', props:[], data()&#123; return &#123; 'name':'å¼ ä¸‰', 'age':'30', 'sex':'ç”·' &#125; &#125;, components:&#123; 'childcom':&#123; props:['name','age'], template:`&lt;input type="number" style="border:1px solid blue"&gt;`, &#125; &#125;&#125;&lt;/script&gt; ä¸Šé¢ä»£ç ä½ è§‰å¾—inputä¸Šä¼šæ€Žä¹ˆæ˜¾ç¤ºï¼Ÿ çˆ¶ç»„ä»¶ä¼ é€’äº†type=â€textâ€ï¼Œå­ç»„ä»¶é‡Œinput ä¸Štype=â€numberâ€ï¼Œé‚£æ¸²æŸ“åˆ°é¡µé¢ä¼šæ˜¯ä»€ä¹ˆæ ·ï¼Ÿæ¸²æŸ“å›¾å¦‚ä¸‹ï¼š çœ‹åˆ°æ²¡ï¼Œçˆ¶ç»„ä»¶ä¼ é€’çš„type=â€textâ€è¦†ç›–äº†input ä¸Štype=â€numberâ€ï¼Œè¿™å²‚ä¸æ˜¯æŠŠæˆ‘çš„inputæ•°æ®ç±»åž‹éƒ½ç»™æ”¹å˜äº†ï¼Œè¿™å²‚ä¸æ˜¯æœ‰é—®é¢˜ï¼Œè¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼ï¼ï¼ï¼çœ‹åˆ°è¿™é‡Œæ˜Žç™½äº†å—ï¼Ÿå›žå¤´åŽ»ä½“ä¼šä¸‹ä¸Šé¢å®˜ç½‘çš„åŽŸè¯ï¼ï¼ï¼ éœ€æ±‚ï¼šæˆ‘éœ€è¦input ä¸Štype=â€numberâ€ç±»åž‹ä¸å˜ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯è¦å–åˆ°çˆ¶ç»„ä»¶çš„type=â€textâ€çš„å€¼ï¼Œé‚£ä¹ˆä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526&lt;template&gt; &lt;childcom :name="name" :age="age" type="text"&gt;&lt;/childcom&gt;&lt;/template&gt;&lt;script&gt;export default &#123; 'name':'test', props:[], data()&#123; return &#123; 'name':'å¼ ä¸‰', 'age':'30', 'sex':'ç”·' &#125; &#125;, components:&#123; 'childcom':&#123; inheritAttrs:false, props:['name','age'], template:`&lt;input type="number" style="border:1px solid blue"&gt;`, created () &#123; console.log(this.$attrs.type) &#125; &#125; &#125;&#125;&lt;/script&gt; é¡µé¢æ¸²æŸ“å›¾å¦‚ä¸‹ï¼š åˆ°è¿™ï¼Œæˆ‘æƒ³å¤§å®¶éƒ½æ˜Žç™½äº†inheritAttrsçš„ä½œç”¨äº†å§ã€‚é»˜è®¤æƒ…å†µä¸‹vueä¼šæŠŠçˆ¶ä½œç”¨åŸŸçš„ä¸è¢«è®¤ä½œ props çš„ç‰¹æ€§ç»‘å®š ä¸”ä½œä¸ºæ™®é€šçš„ HTML ç‰¹æ€§åº”ç”¨åœ¨å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚ç»‘å®šå°±ç»‘å®šï¼Œæ˜¾ç¤ºå°±æ˜¾ç¤ºï¼Œæ²¡å•¥å¤§ä¸äº†çš„ï¼Œä½†æ˜¯æ€•å°±æ€•é‡åˆ°ä¸€äº›ç‰¹æ®Šçš„ï¼Œå°±æ¯”å¦‚ä¸Šé¢çš„inputçš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™inheritAttrs:falseçš„ä½œç”¨å°±å‡ºæ¥å•¦ã€‚ $listenersçˆ¶ç»„ä»¶-å­ç»„ä»¶-å­™å­ç»„ä»¶ï¼Œï¼Œï¼Œï¼ŒçŽ°åœ¨æˆ‘è¦ä½ åœ¨å­™å­ç»„ä»¶é‡Œæ”¹å˜çˆ¶ç»„ä»¶çš„å€¼ï¼Œæ€Žä¹ˆæ”¹ï¼Ÿæœ‰å¾ˆå¤šæ–¹æ³•å•¦ï¼Œä½†æ˜¯$listenersç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ–°çš„æ€è·¯ã€‚è¯ä¸å¤šè¯´ï¼Œç›´æŽ¥ä¸Šä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;template&gt; &lt;div&gt; &lt;childcom :name="name" :age="age" :sex="sex" @testChangeName="changeName"&gt;&lt;/childcom&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; 'name':'test', props:[], data()&#123; return &#123; 'name':'å¼ ä¸‰', 'age':'30', 'sex':'ç”·' &#125; &#125;, components:&#123; 'childcom':&#123; props:['name'], template:`&lt;div&gt; &lt;div&gt;æˆ‘æ˜¯å­ç»„ä»¶ &#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;grandcom **v-bind="$attrs" v-on="$listeners"**&gt;&lt;/grandcom&gt; &lt;/div&gt;`, components: &#123; 'grandcom':&#123; template:`&lt;div&gt;æˆ‘æ˜¯å­™å­ç»„ä»¶-------&lt;button @click="grandChangeName"&gt;æ”¹å˜åå­—&lt;/button&gt;&lt;/div&gt;`, methods:&#123; grandChangeName()&#123; this.$emit('testChangeName','kkkkkk') &#125; &#125; &#125; &#125; &#125; &#125;, methods:&#123; changeName(val)&#123; this.name = val &#125; &#125;&#125;&lt;/script&gt; é¡µé¢æ¸²æŸ“å¦‚ä¸‹ $listenerså¯ä»¥è®©ä½ åœ¨å­™å­ç»„ä»¶è§¦å‘å˜yeyeç»„ä»¶çš„äº‹ä»¶ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Vueçš„ç»„ä»¶é€šä¿¡ä¹‹Provideä¸ŽInjectæœºåˆ¶]]></title>
    <url>%2Farchives%2Ff29baeb3.html</url>
    <content type="text"><![CDATA[Vueä¸­çˆ¶ç»„ä»¶åˆ°å­ç»„ä»¶çš„é€šä¿¡ä¸»è¦ç”±å­ç»„ä»¶çš„propså±žæ€§å®žçŽ°ã€‚ä½†æ˜¯åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œçˆ¶ç»„ä»¶æ— æ³•ç›´æŽ¥å‘å­ç»„ä»¶çš„propsä¼ å€¼ã€‚æ¯”å¦‚å­ç»„ä»¶é€šè¿‡çˆ¶ç»„ä»¶çš„slotè¿›å…¥çˆ¶ç»„ä»¶ï¼Œçˆ¶ç»„ä»¶æ ¹æœ¬ä¸çŸ¥é“å­ç»„ä»¶æ˜¯è°ï¼Œæ›´ä¸ç”¨è¯´ç”¨å­ç»„ä»¶çš„propsäº†ã€‚è¿™æ—¶åº”è¯¥æ€Žä¹ˆåŠžå‘¢ï¼ŸVueåœ¨2.2.0ç‰ˆæœ¬å¼•å…¥äº†provideä¸Žinjectï¼Œæ­£å¥½é€‚åˆå¤„ç†è¿™ä¸€æƒ…å†µã€‚ ä»€ä¹ˆæ˜¯provideä¸Žinjectç”¨æ–‡æ¡£çš„è¯è¯´ï¼š provide/injectéœ€è¦ä¸€èµ·ä½¿ç”¨ï¼Œä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åŽä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚å¦‚æžœä½ ç†Ÿæ‚‰ Reactï¼Œè¿™ä¸Ž React çš„ä¸Šä¸‹æ–‡ç‰¹æ€§å¾ˆç›¸ä¼¼ã€‚ è¿™å°±æ˜¯è¯´ä»Žçˆ¶ç»„ä»¶çš„provideå±žæ€§ä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå­ç»„ä»¶ï¼ˆæˆ–è€…æ˜¯å­™ç»„ä»¶ï¼Œåªè¦æ˜¯å­çº§ç»„ä»¶ï¼‰å¯ä»¥ç”¨injectå±žæ€§æŽ¥æ”¶çˆ¶ç»„ä»¶çš„provideå±žæ€§ã€‚æ¯”å¦‚ 12345678910111213141516171819202122232425262728293031323334353637// main.vue&lt;template&gt; &lt;c1 message="hello world"&gt; &lt;c2&gt;&lt;/c2&gt; &lt;/c1&gt;&lt;/template&gt; // c1.vue&lt;template&gt; &lt;div id="c1"&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default &#123; props: ['message'], provide () &#123; return &#123; message: this.message &#125; &#125;&#125;&lt;/script&gt; // c2.vue&lt;template&gt; &lt;div id="c2"&gt; &#123;&#123; message &#125;&#125; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default &#123; inject: ['message']&#125;&lt;/script&gt; ä¸Šé¢çš„mainç»„ä»¶ä¼šè¢«æ¸²æŸ“ä¸º: 123&lt;div id="c1"&gt; &lt;div id= "c2"&gt;hello world&lt;/div&gt;&lt;/div&gt; å¯ä»¥çœ‹åˆ°ï¼Œc1ç»„ä»¶åœ¨ä¸æ¸…æ¥šå­ç»„ä»¶æ˜¯ä»€ä¹ˆçš„æƒ…å†µä¸‹ï¼Œå°†å®ƒçš„propsä¸­çš„messageä¼ ç»™äº†c2ç»„ä»¶ã€‚åœ¨è¿™é‡Œc1ç»„ä»¶å°±åƒæ˜¯ä¸€ä¸ªæ•°æ®æºä¸€æ ·ï¼Œä¸ºå­ç»„ä»¶æä¾›æ•°æ®ã€‚ä½†æ˜¯ï¼Œc1ç»„ä»¶æä¾›çš„æ•°æ®ä»…åœ¨c1çš„å­å­™ç»„ä»¶ä¸­å¯è§ï¼Œå› æ­¤å¯ä»¥ç®—ä½œæ˜¯æœ‰ä½œç”¨åŸŸé™å®šçš„æ•°æ®æºã€‚ çˆ¶åˆ°å­å­™ç»„ä»¶æ–¹å‘çš„æ•°æ®æµçˆ¶åˆ°å­å­™ç»„ä»¶æ–¹å‘æ˜¯provide/injectæœºåˆ¶è®¾è®¡æ—¶çš„æ•°æ®æµæ–¹å‘ã€‚æˆ‘ä»¬å¯èƒ½ä¼šçŒœæƒ³ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­æ›´æ”¹provideçš„å€¼ï¼Œå­ç»„ä»¶ä¼šå“åº”å¼çš„å‘ç”Ÿæ”¹å˜ã€‚ä½†æ˜¯æ³¨æ„åˆ°æ–‡æ¡£ä¸­è¯ã€‚ æç¤ºï¼šprovideå’Œinjectç»‘å®šå¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æžœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±žæ€§è¿˜æ˜¯å¯å“åº”çš„ã€‚ è¿™æ„å‘³ç€ï¼Œå¦‚æžœprovideçš„å€¼ä¸æ˜¯å¯ç›‘å¬å¯¹è±¡æ—¶ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­æ›´æ”¹provideçš„å€¼ï¼Œå­ç»„ä»¶ä¸ä¼šå‘ç”Ÿä»»ä½•å˜åŒ–ã€‚æ¯”å¦‚æ¨¡æ¿ä»ç„¶ä¸ºä¸Šé¢é‚£ä¸ªä¾‹å­çš„æ¨¡æ¿ï¼Œmessageçš„å€¼æ˜¯ä¸€ä¸ªpropså±žæ€§ï¼Œä¸æ˜¯å¯ç›‘å¬å¯¹è±¡ï¼Œå¦‚æžœæˆ‘ä»¬åœ¨c1çš„mountedé’©å­å‡½æ•°é‡Œæ”¹å˜messageçš„å€¼ã€‚å¦‚: 1234567891011// c1.vue&lt;script&gt;export default &#123; //... mounted () &#123; setTimeout( () =&gt; &#123; this.message = 'Opps, it would not be rendered' &#125;, 1000) &#125;&#125;&lt;/script&gt; å­ç»„ä»¶ä¸ä¼šå“åº”ä¿®æ”¹åŽçš„å€¼ã€‚ ä½†æ˜¯å¦‚æžœprovideçš„å€¼æ˜¯ä¸€ä¸ªå¯ç›‘å¬å¯¹è±¡å‘¢ï¼Ÿè¯·çœ‹ä¸€ä¸‹ä¾‹å­ï¼š 12345678910111213141516171819202122232425262728293031&lt;script&gt;// c1.vueexport default &#123; data () &#123; return &#123; message: 'hello world' &#125; &#125;, provide () &#123; messageData: this.$data &#125;, mounted () &#123; setTimeout(() =&gt; &#123; this.message = 'I can show in c2.' &#125;, 10000) &#125;&#125;&lt;/script&gt; // c2.vue&lt;template&gt; &lt;div id="c2"&gt; &#123;&#123; messageData.message &#125;&#125; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;export default &#123; inject: ['messageData']&#125;&lt;/script&gt; æ­¤æ—¶åœ¨c1æŒ‚è½½10såŽï¼Œå­ç»„ä»¶å°†ä¼šæ˜¾ç¤ºI can show in c2ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿc2ä¸­messageDataå®žé™…ä¸Šå°±æ˜¯c1å®žä¾‹çš„this.$dataã€‚è€Œthis.$dataä¸Šæœ‰messageçš„å“åº”å¼getterä¸Žsetterã€‚æ‰€ä»¥c2çš„è§†å›¾ä¼šè¢«messageçš„depæ”¶é›†ï¼Œå› æ­¤åœ¨c1ä¸­æ›´æ–°messageï¼Œc2çš„è§†å›¾ä¹Ÿä¼šæ›´æ–°ã€‚ çºµè§‚æ•´ä¸ªè¿‡ç¨‹ï¼Œprovide/injectæœºåˆ¶æ˜¯éžå“åº”å¼çš„ï¼Œå³provideä¸Žinjectä¹‹é—´æ²¡æœ‰ç»‘å®šã€‚å…·ä½“çš„å€¼æ˜¯åœ¨å­ç»„ä»¶åˆå§‹åŒ–è¿‡ç¨‹ä¸­å†³å®šçš„ã€‚ æ€»ç»“provide/injectæä¾›äº†ä¸€ç§æ–°çš„ç»„ä»¶é—´é€šä¿¡çš„æ–¹æ³•ã€‚å®ƒå…è®¸çˆ¶ç»„ä»¶å‘å­å­™ç»„ä»¶é—´è¿›è¡Œè·¨å±‚çº§çš„æ•°æ®åˆ†å‘ã€‚ä½†æ˜¯provide/injectæ˜¯éžå“åº”å¼çš„ï¼Œå¦‚æžœè¦å­å­™ç»„ä»¶æ ¹æ®çˆ¶ç»„ä»¶çš„å€¼è¿›è¡Œæ”¹å˜ï¼Œprovide/injectæœºåˆ¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨Vuexæ¥ç®¡ç†çŠ¶æ€ã€‚]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å†è¯»ä¸€æ¬¡Vueå®˜æ–¹æ–‡æ¡£å¸¦æ¥çš„æ„å¤–æƒŠå–œ]]></title>
    <url>%2Farchives%2F3a867b5d.html</url>
    <content type="text"><![CDATA[å‰è¨€ Vueç›®å‰ç®—æ˜¯æˆ‘ç”¨çš„æ—¶é—´æœ€é•¿çš„ä¸€ä¸ªæ¡†æž¶äº†,ä½†æ˜¯æœ€è¿‘æ€»æ˜¯åœ¨æƒ³,æˆ‘çœŸçš„äº†è§£Vueäº†å—,è¿˜æ˜¯è¯´,ä»…ä»…åªæ˜¯ä¼šç”¨å®ƒè€Œå·²äº†å‘¢.æœ€å¼€å§‹ç”¨Vueçš„æ—¶å€™åªæ˜¯è‰è‰çœ‹äº†ä¸€éæ–‡æ¡£,ç»†èŠ‚ä¹‹å¤„å¹¶æœªå…³å¿ƒ,ä»¥è‡³äºŽåŽé¢é¡¹ç›®ä¸­é‡åˆ°å¾ˆå¤šé—®é¢˜ä¹‹åŽæ‰åˆåå¤çš„åŽ»æŸ¥æ–‡æ¡£,è§£å†³é—®é¢˜.æˆ‘è®¤ä¸º,ä¸åº”è¯¥æ˜¯è¿™æ ·çš„,è¿™ç§ç¨‹åº¦,ä»…ä»…åªèƒ½è®©æˆ‘æœ‰å¤„ç†é—®é¢˜çš„èƒ½åŠ›,è™½ç„¶ç»éªŒè®©æˆ‘å†é‡åˆ°é—®é¢˜çš„æ—¶å€™çŸ¥é“å¤§æ¦‚çš„å¯¼å‘,ä½†è¿™æ ·æ°¸è¿œä¸ä¼šå»ºç«‹èµ·å¯¹VueæŠ€æœ¯æ€€æœ‰çš„è‡ªä¿¡.äºŽæ˜¯,æˆ‘æ‰“ç®—å†æ¥ä¸€éå®˜æ–¹æ–‡æ¡£,è®°å½•å…¶ä¸­ä»Žæœªæ›¾äº†è§£è¿‡çš„ä¸œè¥¿.åœ¨è¿™ä¹‹åŽ,æˆ‘ä¾¿ä¼šåŽ»å°è¯•ç€åŽ»è¯»è¯»Vueçš„æºç ,å¹¶åˆ†äº«å‡ºæ¥. åŠ¨æ€å‚æ•°&lt;a :[attributeName]=&quot;url&quot;&gt; ... &lt;/a&gt; è¿™é‡Œçš„ attributeName ä¼šè¢«ä½œä¸ºä¸€ä¸ª JavaScript è¡¨è¾¾å¼è¿›è¡ŒåŠ¨æ€æ±‚å€¼ï¼Œæ±‚å¾—çš„å€¼å°†ä¼šä½œä¸ºæœ€ç»ˆçš„å‚æ•°æ¥ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œå¦‚æžœä½ çš„ Vue å®žä¾‹æœ‰ä¸€ä¸ª data å±žæ€§ attributeNameï¼Œå…¶å€¼ä¸º â€œhrefâ€ï¼Œé‚£ä¹ˆè¿™ä¸ªç»‘å®šå°†ç­‰ä»·äºŽ v-bind:href æ³¨æ„ç‚¹: attributeName åº”è¯¥å…¨éƒ¨éƒ½æ˜¯å°å†™ attributeName å¦‚æžœæ˜¯é€šè¿‡è¡¨è¾¾å¼ç”Ÿæˆçš„,é‚£åº”å°†å…¶æ”¾åœ¨è®¡ç®—å±žæ€§ä¸­,é¿å…ç›´æŽ¥åœ¨HTMLä¸­ä¹¦å†™è¡¨è¾¾å¼ åŠ¨æ€classå’Œstyleçš„å‡ ç§å†™æ³• class 1234567891011121314151. &lt;div v-bind:class="&#123; 'active': isActive, 'text-danger': hasError &#125;"&gt;&lt;/div&gt; // å¯¹è±¡è¯­æ³•2. &lt;div v-bind:class="classObject"&gt;&lt;/div&gt;// å¯¹è±¡è¯­æ³•3. &lt;div v-bind:class="[&#123; 'active': isActive &#125;, errorClass]"&gt;&lt;/div&gt;// æ•°ç»„è¯­æ³• data: &#123; isActive: true, hasError: false, classObject: &#123; active: true, 'text-danger': false &#125;, errorClass: 'text-danger' &#125; style 1234567891011121314151617181. &lt;div v-bind:style="&#123; color: activeColor, fontSize: fontSize + 'px' &#125;"&gt;&lt;/div&gt;// å¯¹è±¡è¯­æ³•2. &lt;div v-bind:style="styleObject"&gt;&lt;/div&gt;// å¯¹è±¡è¯­æ³•3. &lt;div v-bind:style="[styleObject, styleObject2]"&gt;&lt;/div&gt;// æ•°ç»„è¯­æ³•data: &#123; activeColor: 'red', fontSize: 30, styleObject: &#123; color: 'red', fontSize: '13px' &#125;, styleObject2: &#123; color: 'blac', fontSize: '13px' &#125;&#125; v-showv-show ä¸æ”¯æŒ &lt;template&gt; å…ƒç´ ï¼Œä¹Ÿä¸æ”¯æŒ v-else v-forv-foréåŽ†å¯¹è±¡ 123&lt;div v-for="(value, name, index) in object"&gt; &#123;&#123; index &#125;&#125;. &#123;&#123; name &#125;&#125;: &#123;&#123; value &#125;&#125;&lt;/div&gt; Vueæ— æ³•æ£€æµ‹çš„æ•°æ®å˜åŠ¨çš„æƒ…å†µ æ•°ç»„ å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æŽ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚ï¼švm.items[indexOfItem] = newValue å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼švm.items.length = newLength è§£å†³åŠžæ³•: ä½¿ç”¨vm.$set() eg. vm.$set(vm.items, indexOfItem, newValue) ä¸ºæ•°ç»„é‡æ–°èµ‹å€¼æ–°ä¿®æ”¹çš„æ•°ç»„ å¯¹è±¡ å¯¹è±¡å±žæ€§çš„æ·»åŠ  å¯¹è±¡å±žæ€§çš„åˆ é™¤ è§£å†³åŠžæ³•: ä¸ºå¯¹è±¡åˆå§‹ä¸€ä¸ªç©ºçš„å°†è¦æ·»åŠ çš„å¯¹è±¡ ä½¿ç”¨vm.$set() eg. vm.$set(vm.Obj, keyOfObj, newValue) ä½¿ç”¨Object.assign() eg. vm.userProfile = Object.assign({}, vm.userProfile, { age: 27, favoriteColor: &#39;Green&#39;}) äº‹ä»¶ä¿®é¥°ç¬¦ .stop é˜»æ­¢äº‹ä»¶å†’æ³¡ .prevent é˜»æ­¢æµè§ˆå™¨é»˜è®¤è¡Œä¸ºå‘ç”Ÿ .capture æ•èŽ·å†’æ³¡ï¼Œå³æœ‰å†’æ³¡å‘ç”Ÿæ—¶ï¼Œæœ‰è¯¥ä¿®é¥°ç¬¦çš„domå…ƒç´ ä¼šå…ˆæ‰§è¡Œï¼Œå¦‚æžœæœ‰å¤šä¸ªï¼Œä»Žå¤–åˆ°å†…ä¾æ¬¡æ‰§è¡Œï¼Œç„¶åŽå†æŒ‰è‡ªç„¶é¡ºåºæ‰§è¡Œè§¦å‘çš„äº‹ä»¶ .self å°†äº‹ä»¶ç»‘å®šåˆ°è‡ªèº«ï¼Œåªæœ‰è‡ªèº«æ‰èƒ½è§¦å‘ï¼Œé€šå¸¸ç”¨äºŽé¿å…å†’æ³¡äº‹ä»¶çš„å½±å“ .once è®¾ç½®äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œæ¯”å¦‚æŒ‰é’®çš„ç‚¹å‡»ç­‰ .passive æ‰§è¡Œæµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º ã€æµè§ˆå™¨åªæœ‰ç­‰å†…æ ¸çº¿ç¨‹æ‰§è¡Œåˆ°äº‹ä»¶ç›‘å¬å™¨å¯¹åº”çš„JavaScriptä»£ç æ—¶ï¼Œæ‰èƒ½çŸ¥é“å†…éƒ¨æ˜¯å¦ä¼šè°ƒç”¨preventDefaultå‡½æ•°æ¥é˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œæ‰€ä»¥æµè§ˆå™¨æœ¬èº«æ˜¯æ²¡æœ‰åŠžæ³•å¯¹è¿™ç§åœºæ™¯è¿›è¡Œä¼˜åŒ–çš„ã€‚è¿™ç§åœºæ™¯ä¸‹ï¼Œç”¨æˆ·çš„æ‰‹åŠ¿äº‹ä»¶æ— æ³•å¿«é€Ÿäº§ç”Ÿï¼Œä¼šå¯¼è‡´é¡µé¢æ— æ³•å¿«é€Ÿæ‰§è¡Œæ»‘åŠ¨é€»è¾‘ï¼Œä»Žè€Œè®©ç”¨æˆ·æ„Ÿè§‰åˆ°é¡µé¢å¡é¡¿ã€‚ã€‘é€šä¿—ç‚¹è¯´å°±æ˜¯æ¯æ¬¡äº‹ä»¶äº§ç”Ÿï¼Œæµè§ˆå™¨éƒ½ä¼šåŽ»æŸ¥è¯¢ä¸€ä¸‹æ˜¯å¦æœ‰preventDefaulté˜»æ­¢è¯¥æ¬¡äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œã€‚æˆ‘ä»¬åŠ ä¸Špassiveå°±æ˜¯ä¸ºäº†å‘Šè¯‰æµè§ˆå™¨ï¼Œä¸ç”¨æŸ¥è¯¢äº†ï¼Œæˆ‘ä»¬æ²¡ç”¨preventDefaulté˜»æ­¢é»˜è®¤åŠ¨ä½œã€‚è¿™é‡Œä¸€èˆ¬ç”¨åœ¨æ»šåŠ¨ç›‘å¬ï¼Œ@scollï¼Œ@touchmove ã€‚å› ä¸ºæ»šåŠ¨ç›‘å¬è¿‡ç¨‹ä¸­ï¼Œç§»åŠ¨æ¯ä¸ªåƒç´ éƒ½ä¼šäº§ç”Ÿä¸€æ¬¡äº‹ä»¶ï¼Œæ¯æ¬¡éƒ½ä½¿ç”¨å†…æ ¸çº¿ç¨‹æŸ¥è¯¢preventä¼šä½¿æ»‘åŠ¨å¡é¡¿ã€‚æˆ‘ä»¬é€šè¿‡passiveå°†å†…æ ¸çº¿ç¨‹æŸ¥è¯¢è·³è¿‡ï¼Œå¯ä»¥å¤§å¤§æå‡æ»‘åŠ¨çš„æµç•…åº¦ é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦ .enter .tab .delete .esc .space .up .down .left .right é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦ .left .right .middle ç³»ç»Ÿä¿®é¥°é”®å¯ä»¥ç”¨å¦‚ä¸‹ä¿®é¥°ç¬¦æ¥å®žçŽ°ä»…åœ¨æŒ‰ä¸‹ç›¸åº”æŒ‰é”®æ—¶æ‰è§¦å‘é¼ æ ‡æˆ–é”®ç›˜äº‹ä»¶çš„ç›‘å¬å™¨ã€‚ .ctrl .alt .shift .meta å¯¹åº”command é”® (âŒ˜)å’ŒWindows å¾½æ ‡é”® (âŠž) .exact 12345678&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;&lt;button @click.ctrl="onClick"&gt;A&lt;/button&gt;&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;&lt;button @click.ctrl.exact="onCtrlClick"&gt;A&lt;/button&gt;&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;&lt;button @click.exact="onClick"&gt;A&lt;/button&gt; v-modelä¿®é¥°ç¬¦ .lazy åœ¨â€œchangeâ€æ—¶è€Œéžâ€œinputâ€æ—¶æ›´æ–° .number è‡ªåŠ¨å°†è¾“å…¥å€¼è½¬ä¸ºnumberç±»åž‹ .trim è‡ªåŠ¨è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„é¦–å°¾ç©ºç™½å­—ç¬¦ Vueå…¨å±€å¯¼å…¥åŸºç¡€ç»„ä»¶çš„ç¤ºä¾‹ä»£ç è¯¦è¿°ðŸ‘‰ðŸ»chrisvfritz/vue-enterprise-boilerplate 12345678910import ElTableColumnPro from './ElTableColumnPro.vue'ElTableColumnPro.install = function (Vue) &#123; Vue.component(ElTableColumnPro.name, ElTableColumnPro)&#125;if (window.Vue) &#123; window.Vue.use(ElTableColumnPro)&#125;export default ElTableColumnPro æ’æ§½123456789101112131415161718192021222324252627&lt;!-- æ’æ§½æ¨¡æ¿ --&gt;&lt;div class="container"&gt; &lt;header&gt; &lt;slot name="header"&gt;&lt;/slot&gt; &lt;/header&gt; &lt;main&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/main&gt; &lt;footer&gt; &lt;slot name="footer"&gt;&lt;/slot&gt; &lt;/footer&gt;&lt;/div&gt;&lt;!-- ä½¿ç”¨ --&gt;&lt;base-layout&gt; &lt;template v-slot:header&gt; &lt;h1&gt;Here might be a page title&lt;/h1&gt; &lt;/template&gt; &lt;template v-slot:default&gt; &lt;p&gt;A paragraph for the main content.&lt;/p&gt; &lt;p&gt;And another one.&lt;/p&gt; &lt;/template&gt; &lt;template v-slot:footer&gt; &lt;p&gt;Here's some contact info&lt;/p&gt; &lt;/template&gt;&lt;/base-layout&gt; inheritAttrs , $attrs , $listenersæ€»ç»“ä¸€å¥è¯: $attrså­˜å‚¨éžpropç‰¹æ€§ï¼ŒinheritAttrsæŽ§åˆ¶vueå¯¹éžpropç‰¹æ€§é»˜è®¤è¡Œä¸º è¯¦è¿°ðŸ‘‰ðŸ»Vue inheritAttrs, $attrs,$listeners è¯¦è§£ ä¾èµ–æ³¨å…¥ provide å’Œ inject12345678// çˆ¶ç»„ä»¶provide: function () &#123; return &#123; getMap: this.getMap &#125;&#125;// çˆ¶ç»„ä»¶ä¸‹çš„æ‰€æœ‰ç»„ä»¶(å­,å­™,é‡å­™...)inject: ['getMap'] è¯¦è¿°ðŸ‘‰ðŸ»Vueçš„ç»„ä»¶é€šä¿¡ä¹‹Provideä¸ŽInjectæœºåˆ¶ ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨ï¼ˆæ‡µé€¼çš„å®šä¹‰â€“å…¶å®žå°±æ˜¯åˆ›å»ºå®žä¾‹å’Œæ¸…é™¤å®žä¾‹æ”¾åœ¨ä¸€èµ·,ç®€åŒ–æ“ä½œå’Œæ— ç”¨çš„ä»£ç ï¼‰ é€šè¿‡ $on(eventName, eventHandler) ä¾¦å¬ä¸€ä¸ªäº‹ä»¶ é€šè¿‡ $once(eventName, eventHandler) ä¸€æ¬¡æ€§ä¾¦å¬ä¸€ä¸ªäº‹ä»¶ é€šè¿‡ $off(eventName, eventHandler) åœæ­¢ä¾¦å¬ä¸€ä¸ªäº‹ä»¶ è¯¦è¿°ðŸ‘‰ðŸ»vue ç¨‹åºåŒ–çš„äº‹ä»¶ä¾¦å¬å™¨ å¼ºåˆ¶æ›´æ–° $forceUpdateå¦‚æžœä½ å‘çŽ°ä½ è‡ªå·±éœ€è¦åœ¨ Vue ä¸­åšä¸€æ¬¡å¼ºåˆ¶æ›´æ–°ï¼Œ99.9% çš„æƒ…å†µï¼Œæ˜¯ä½ åœ¨æŸä¸ªåœ°æ–¹åšé”™äº†äº‹ã€‚ ä½ å¯èƒ½è¿˜æ²¡æœ‰ç•™æ„åˆ°æ•°ç»„å’Œå¯¹è±¡çš„å˜æ›´æ£€æµ‹æ³¨æ„äº‹é¡¹ï¼Œæˆ–è€…ä½ å¯èƒ½ä¾èµ–äº†ä¸€ä¸ªæœªè¢« Vue çš„å“åº”å¼ç³»ç»Ÿè¿½è¸ªçš„çŠ¶æ€ã€‚ ç„¶è€Œï¼Œå¦‚æžœä½ å·²ç»åšåˆ°äº†ä¸Šè¿°çš„äº‹é¡¹ä»ç„¶å‘çŽ°åœ¨æžå°‘æ•°çš„æƒ…å†µä¸‹éœ€è¦æ‰‹åŠ¨å¼ºåˆ¶æ›´æ–°ï¼Œé‚£ä¹ˆä½ å¯ä»¥é€šè¿‡ $forceUpdate æ¥åšè¿™ä»¶äº‹ã€‚ é€šè¿‡ v-once åˆ›å»ºä½Žå¼€é”€çš„é™æ€ç»„ä»¶æ¸²æŸ“æ™®é€šçš„ HTML å…ƒç´ åœ¨ Vue ä¸­æ˜¯éžå¸¸å¿«é€Ÿçš„ï¼Œä½†æœ‰çš„æ—¶å€™ä½ å¯èƒ½æœ‰ä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶åŒ…å«äº†å¤§é‡é™æ€å†…å®¹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥åœ¨æ ¹å…ƒç´ ä¸Šæ·»åŠ  v-once ç‰¹æ€§ä»¥ç¡®ä¿è¿™äº›å†…å®¹åªè®¡ç®—ä¸€æ¬¡ç„¶åŽç¼“å­˜èµ·æ¥,å¹¶ä¸å†æ›´æ–°. ( æ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šç”¨åˆ° ) è¿‡æ¸¡ transitionå“ªäº›ç»„ä»¶/å…ƒç´ å¯ä»¥ç”¨? æ¡ä»¶æ¸²æŸ“ (ä½¿ç”¨ v-if) æ¡ä»¶å±•ç¤º (ä½¿ç”¨ v-show) åŠ¨æ€ç»„ä»¶ ç»„ä»¶æ ¹èŠ‚ç‚¹ è¿‡æ¸¡ç±» v-enterï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚ v-enter-activeï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚ v-enter-to: å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚ v-leave: å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚ v-leave-activeï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚ v-leave-to: å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚ å¯¹äºŽè¿™äº›åœ¨è¿‡æ¸¡ä¸­åˆ‡æ¢çš„ç±»åæ¥è¯´ï¼Œå¦‚æžœä½ ä½¿ç”¨ä¸€ä¸ªæ²¡æœ‰åå­—çš„ ï¼Œåˆ™ `v-` æ˜¯è¿™äº›ç±»åçš„é»˜è®¤å‰ç¼€ã€‚å¦‚æžœä½ ä½¿ç”¨äº†ï¼Œé‚£ä¹ˆ v-enter ä¼šæ›¿æ¢ä¸º my-transition-enterã€‚ è¿‡æ¸¡æ¨¡å¼ in-outï¼šæ–°å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åŽå½“å‰å…ƒç´ è¿‡æ¸¡ç¦»å¼€ã€‚ out-inï¼šå½“å‰å…ƒç´ å…ˆè¿›è¡Œè¿‡æ¸¡ï¼Œå®Œæˆä¹‹åŽæ–°å…ƒç´ è¿‡æ¸¡è¿›å…¥ã€‚ 1&lt;transition name="fade" mode="out-in"&gt; &lt;!-- ... the buttons ... --&gt; &lt;/transition&gt; è‡ªå®šä¹‰è¿‡æ¸¡ç±»å enter-class enter-active-class enter-to-class leave-class leave-active-class leave-to-class 123456789101112&lt;transition v-on:before-enter="beforeEnter" v-on:enter="enter" v-on:after-enter="afterEnter" v-on:enter-cancelled="enterCancelled" v-on:before-leave="beforeLeave" v-on:leave="leave" v-on:after-leave="afterLeave" v-on:leave-cancelled="leaveCancelled"&gt; &lt;!-- ... --&gt;&lt;/transition&gt; æ¸²æŸ“å‡½æ•°&amp;JSXæ„Ÿè§‰å¥½èœå•Š!è¯»åˆ°è¿™é‡Œå‘çŽ°è¯»å®Œä¹‹åŽæ²¡æœ‰ä»€ä¹ˆGETåˆ°çš„ç‚¹,åšä¸ªè®°å½•,ä¹‹åŽå†è¿”å›žæ¥ç»†ç»†å“ä¸€ä¸‹.ðŸ‘‰ðŸ»link æ’ä»¶çœ‹åˆ°è¿™é‡Œæ‰å‘çŽ°æ–°å¤§é™†ðŸ‘‰ðŸ»link, ä»¥åŽè¦å†™ä¸€ä¸ªè‡ªå·±çš„æ’ä»¶å‡ºæ¥ Overå‰å‰åŽåŽèŠ±äº†å°†è¿‘ä¸€å‘¨,ç»ˆäºŽå°†Vueçš„æ–‡æ¡£é‡æ–°è¿‡äº†ä¸€é, ç¡®å®ž, æ”¶èŽ·è¿˜æ˜¯è›®å¤šçš„. åœ¨å¹³å¸¸é¡¹ç›®å¼€å‘ä¸­, æœ‰è®¸å¤šçš„ä¸œè¥¿å¹¶ä¸ä¼šçœŸåˆ‡çš„ç”¨åˆ°, ä½†æ˜¯çŸ¥è¯†å‚¨å¤‡è¿˜æ˜¯å¿…é¡»çš„. è¿™æ ·åœ¨é¡¹ç›®ä¸­é‡åˆ°é—®é¢˜ä¹‹åŽ, ä¼šæœ‰è‡ªå·±çš„ä¸€ä¸ªæ€è·¯, ä»Žè€Œå¯ä»¥æ›´å¿«çš„è¿½æº¯åˆ°é—®é¢˜çš„æ ¹æº. ç»§ç»­åŠªåŠ›!]]></content>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SEOä½ çš„HEXOåšå®¢]]></title>
    <url>%2Farchives%2Fa6b6c05e.html</url>
    <content type="text"><![CDATA[STEP1 ç™¾åº¦æ”¶å½•ç«™ç‚¹ç™»å½•ç™¾åº¦ç«™é•¿å¹³å°ï¼Œåœ¨ç”¨æˆ·ä¸­å¿ƒ =&gt; ç«™ç‚¹ç®¡ç†æ·»åŠ ä½ çš„ç«™ç‚¹ç½‘å€ é…ç½®å®Œç«™ç‚¹å±žæ€§åŽï¼Œè¿›å…¥æœ€åŽä¸€æ­¥ï¼šéªŒè¯ç½‘ç«™ã€‚æœ‰ä¸‰ç§æ–¹å¼ï¼šæ–‡ä»¶éªŒè¯ã€HTMLæ ‡ç­¾éªŒè¯ã€CNAMEéªŒè¯.( è¿™é‡Œå¦‚æžœä¸ä¼šè‡ªè¡Œç™¾åº¦ä¸€ä¸‹å§,ç½‘ä¸Šå†…å®¹æœ‰å¾ˆå¤š,è¿™é‡Œå°±ä¸åœ¨ç´¯è¿°äº†. ) STEP2 keywords å’Œ urlåœ°å€æ ä¼˜åŒ– åœ¨æ ¹ç›®å½•å’Œthemesç›®å½•ä¸‹çš„ä¸¤ä¸ª_config.ymlæ–‡ä»¶ä¸‹æ‰¾åˆ°permalinkå°†å…¶ä¿®æ”¹ä¸ºä¸‹é¢è¿™æ ·: 123456# permalink: :year/:month/:day/:title/permalink: archives/:abbrlink.htmlpermalink_defaults:abbrlink: alg: crc32 # ç®—æ³•ï¼šcrc16(default) and crc32 rep: hex å®‰è£…ç›¸å…³çš„ä¾èµ– 1npm install hexo-abbrlink -S æ‰§è¡Œhexoéƒ¨ç½²å‘½å 12hexo ghexo d å®Œæˆ! STEP3 é…ç½®ç™¾åº¦ ä¸»åŠ¨æŽ¨é€ è‡ªåŠ¨æŽ¨é€ å’Œsitemap å®‰è£…ç›¸å…³ä¾èµ– 123npm install hexo-baidu-url-submit -Snpm install hexo-generator-sitemap -Snpm install hexo-generator-baidu-sitemap -S ä¸»åŠ¨æŽ¨é€å’Œsitemapçš„é…ç½® 1234567891011121314deploy:- type: baidu_url_submitter ## è¿™æ˜¯æ–°åŠ çš„ bucket: tomatoro.cn ## ä½ è‡ªå·±çš„åŸŸåsitemap: path: sitemap.xmlbaidusitemap: path: baidusitemap.xmlbaidu_url_submit: count: 100 ## æ¯”å¦‚3ï¼Œä»£è¡¨æäº¤æœ€æ–°çš„ä¸‰ä¸ªé“¾æŽ¥ host: tomatoro.cn ## åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ³¨å†Œçš„åŸŸå token: --------- ## è¯·æ³¨æ„è¿™æ˜¯æ‚¨çš„ç§˜é’¥ï¼Œè¯·ä¸è¦å‘å¸ƒåœ¨å…¬ä¼—ä»“åº“é‡Œ! path: baidu_urls.txt ## æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œæ–°é“¾æŽ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ è‡ªåŠ¨æŽ¨é€çš„ä»£ç ç²˜è´´åˆ°ç›¸åº”çš„ä½ç½®å³å¯ 1234567891011121314&lt;script&gt; (function()&#123; var bp = document.createElement('script'); var curProtocol = window.location.protocol.split(':')[0]; if (curProtocol === 'https') &#123; bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'; &#125; else &#123; bp.src = 'http://push.zhanzhang.baidu.com/push.js'; &#125; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(bp, s); &#125;)();&lt;/script&gt; æ‰§è¡Œhexoéƒ¨ç½²å‘½ä»¤ 12hexo ghexo d å°†è¿™äº›é…ç½®å…¨éƒ¨èµ°å®Œä¸€éä¹‹åŽ, ä½ åšå®¢çš„SEOä¼˜åŒ–å°±ç®—å®Œæˆäº†, åœ¨ç™¾åº¦ä¸ŠåŽ»æœå¯ä»¥å‘çŽ°å¯ä»¥å¾ˆè½»æ¾çš„æœç´¢åˆ°ä½ çš„åšå®¢. ä½†æ˜¯, è¯·è®°ä½SEOæ˜¯ä¸€æ¡æ¼«é•¿çš„é“è·¯, å¹¶ä¸æ˜¯ä¸€å¤©å°±èƒ½å®žçŽ°ç½‘ç«™æŽ’åé å‰çš„, éœ€è¦ä½ ä¸æ–­çš„æ›´æ–°é«˜è´¨é‡å¤šçš„åšæ–‡, å¸å¼•æµé‡æ‰å¯ä»¥. å¤§åŠŸå‘Šæˆ!]]></content>
      <tags>
        <tag>Blog</tag>
        <tag>SEO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Notionç»‘å®šåŸŸå-ä½ çš„ç¬”è®°å°±æ˜¯ä½ çš„åšå®¢!]]></title>
    <url>%2Farchives%2Fc60ac904.html</url>
    <content type="text"><![CDATA[ä¸ºNotionå…¬å…±é¡µé¢æä¾›è‡ªå®šä¹‰åŸŸåå¯èƒ½æ˜¯æœ€å—è¦æ±‚çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œè€Œä¸”ç›®å‰çœ‹èµ·æ¥è¿˜ä¸æ”¯æŒè¿™æ ·åšï¼ˆå¯ä»¥ç†è§£ï¼‰ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä½¿ç”¨Cloudflare Workersçš„è§£å†³æ–¹æ¡ˆã€‚ ç¬¬ä¸€æ­¥: å°†ä½ çš„åŸŸåæœåŠ¡å™¨ä»£ç†è‡³CloudflareCloudflareéœ€è¦æŽ§åˆ¶æ‚¨çš„DNSï¼Œå› æ­¤è¯·æŒ‰ç…§æœ¬æŒ‡å—å°†åç§°æœåŠ¡å™¨åˆ‡æ¢åˆ°å®ƒä»¬ã€‚ä¸ç”¨æ‹…å¿ƒï¼Œæ‚¨çš„DNSè®¾ç½®å°†ä¿æŒä¸å˜ã€‚ Changing your domain nameservers to Cloudflare è¿™ä¸€æ­¥å¾ˆé‡è¦,å¤§è‡´å¯ä»¥ç†è§£ä¸ºä»¥ä¸‹æ­¥éª¤: å°†ä½ åŽŸæ¥çš„nameserversæ›´æ”¹ä¸ºCloudflareæä¾›ç»™ä½ çš„nameserver æ¯”å¦‚æˆ‘çš„åŸŸåæ˜¯åœ¨é˜¿é‡Œäº‘çš„, è¿›è¡Œå¦‚ä¸‹æ“ä½œå³å¯(ä¿®æ”¹åŽéœ€è¦è¿‡ä¸€æ®µæ—¶é—´ç­‰Cloudflareå‘é‚®ç®±ç»™ä½ ) åœ¨åŸŸåè§£æžé‡Œæ·»åŠ ä¸€æ¡Açš„è®°å½•,IPéšä¾¿å¡« å½“æ”¶åˆ°é‚®ä»¶åŽ,ä½ çš„Cloudflareçš„Overviewé¡µä¼šå˜æˆè¿™æ ·,å°±è¯´æ˜Žæ›´æ”¹nameserversæˆåŠŸäº† åœ¨Cloudflareçš„DNSé¡µé‡Œä¹Ÿæ·»åŠ ä¸€æ¡Açš„è®°å½•,IPéšä¾¿å¡«ä½†æ˜¯è¦ä¿è¯Proxy Statusæ˜¯é€šçš„ ç¬¬äºŒæ­¥: æ·»åŠ å·¥ç¨‹è„šæœ¬Big thanks to Mayne for writing this worker script. You can find the original in this gist. ä»¥ä¸‹æ˜¯ä¸ºä½ ä»£ç†åŸŸçš„ä»£ç ï¼Œå› æ­¤è¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š Click on the â€Workersâ€ tab Click â€œLaunch Editorâ€ On the left, click â€Add Scriptâ€ Name it notion-worker Once you have followed those steps, copy this script into that new file. 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374const MY_DOMAIN = "example.com"const START_PAGE = "https://www.notion.so/link/to/your/public/page"addEventListener('fetch', event =&gt; &#123; event.respondWith(fetchAndApply(event.request))&#125;)const corsHeaders = &#123; "Access-Control-Allow-Origin": "*", "Access-Control-Allow-Methods": "GET, HEAD, POST,PUT, OPTIONS", "Access-Control-Allow-Headers": "Content-Type",&#125;function handleOptions(request) &#123; if (request.headers.get("Origin") !== null &amp;&amp; request.headers.get("Access-Control-Request-Method") !== null &amp;&amp; request.headers.get("Access-Control-Request-Headers") !== null) &#123; // Handle CORS pre-flight request. return new Response(null, &#123; headers: corsHeaders &#125;) &#125; else &#123; // Handle standard OPTIONS request. return new Response(null, &#123; headers: &#123; "Allow": "GET, HEAD, POST, PUT, OPTIONS", &#125; &#125;) &#125;&#125;async function fetchAndApply(request) &#123; if (request.method === "OPTIONS") &#123; return handleOptions(request) &#125; let url = new URL(request.url) let response if (url.pathname.startsWith("/app") &amp;&amp; url.pathname.endsWith("js")) &#123; response = await fetch(`https://www.notion.so$&#123;url.pathname&#125;`) let body = await response.text() try &#123; response = new Response(body.replace(/www.notion.so/g, MY_DOMAIN).replace(/notion.so/g, MY_DOMAIN), response) // response = new Response(response.body, response) response.headers.set('Content-Type', "application/x-javascript") console.log("get rewrite app.js") &#125; catch (err) &#123; console.log(err) &#125; &#125; else if ((url.pathname.startsWith("/api"))) &#123; response = await fetch(`https://www.notion.so$&#123;url.pathname&#125;`, &#123; body: request.body, // must match 'Content-Type' header headers: &#123; 'content-type': 'application/json;charset=UTF-8', 'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36' &#125;, method: "POST", // *GET, POST, PUT, DELETE, etc. &#125;) response = new Response(response.body, response) response.headers.set('Access-Control-Allow-Origin', "*") &#125; else if (url.pathname === `/`) &#123; let pageUrlList = START_PAGE.split("/") let redrictUrl = `https://$&#123;MY_DOMAIN&#125;/$&#123;pageUrlList[pageUrlList.length-1]&#125;` return Response.redirect(redrictUrl, 301) &#125; else &#123; response = await fetch(`https://www.notion.so$&#123;url.pathname&#125;$&#123;url.search&#125;`, &#123; body: request.body, // must match 'Content-Type' header headers: request.headers, method: request.method, // *GET, POST, PUT, DELETE, etc. &#125;) &#125; return response&#125; çŽ°åœ¨ï¼Œä½ å·²ç»æ·»åŠ äº†è„šæœ¬ï¼Œæ‚¨éœ€è¦æ›´æ”¹é¡¶éƒ¨çš„ä¸¤ä¸ªconstï¼š MY_DOMAIN è¡¨ç¤ºä½ éœ€è¦ä»£ç†çš„åŸŸå-ä½ è‡ªå·±çš„åŸŸå ( E.G. example.com) START_PAGE è¡¨ç¤ºä½ ä»£ç†çš„ç›®æ ‡åŸŸååœ°å€-notionçš„åœ°å€(E.G.https://www.notion.so/link/to/your/public/page) ä¿å­˜ä½ çš„è„šæœ¬,ç„¶åŽè¿”å›žä¸Šä¸€å±‚ ç¬¬ä¸‰æ­¥: æ·»åŠ ä¸€ä¸ªé€šé…ç¬¦è·¯å¾„æ‰å¤„ç†ä½ çš„æ‰€æœ‰æµé‡ åœ¨è¿™é‡Œæ·»åŠ ä½ çš„åŸŸåå’Œé€šé…ç¬¦,ç„¶åŽåœ¨ä½ Workerè¿™ä¸€æ é€‰æ‹©ä½ åˆšåˆšé…ç½®çš„è„šæœ¬åå°±å¯ä»¥äº† example.com/*åˆ°è¿™é‡Œä¸ºæ­¢å°±å¤§åŠŸå‘Šæˆäº†! è¿™æ—¶å€™ä½ è®¿é—®ä½ è‡ªå·±çš„åŸŸåå°±å¯ä»¥çœ‹åˆ°notionçš„é¡µé¢å•¦, ä»¥åŽç”¨notionå†™åšå®¢ä¹Ÿå¯ä»¥ä½¿ç”¨è‡ªå·±çš„åŸŸåäº†, å¯è°“æ˜¯ç›¸å½“é…·ç‚«äº†! ðŸ’Žæœ€åŽ,è¿™é‡Œæœ‰æˆ‘çš„ç¤ºä¾‹tomatoro.space]]></content>
      <tags>
        <tag>Blog</tag>
        <tag>Notion</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nginxå¸¸ç”¨å‘½ä»¤]]></title>
    <url>%2Farchives%2F96d8af1a.html</url>
    <content type="text"><![CDATA[å¯åŠ¨nginx 1nginx å…³é—­nginx 1nginx -s stop é€€å‡ºnginx 1nginx -s quit é‡å¯nginx 1nginx -s reload ä½¿ç”¨brewä¸‹è½½nginx 1brew install nginx æŸ¥çœ‹ç›®å‰æ‰§è¡Œçš„ä»»åŠ¡ 1brew services list è¿›å…¥nginx æ–‡ä»¶ 1cd /usr/local/etc/nginx æŸ¥çœ‹nginxçš„é…ç½® 1vi nginx.conf æŸ¥çœ‹nginxé…ç½®æœ‰æ²¡æœ‰ç”Ÿæ•ˆ 12345nginx -tnginx: the configuration file /usr/local/etc/nginx/nginx.conf syntax is oknginx: configuration file /usr/local/etc/nginx/nginx.conf test is successful å¯åŠ¨nginxæœåŠ¡ 1brew services start nginx é‡å¯nginxæœåŠ¡ 1brew services restart nginx åœæ­¢nginxæœåŠ¡ 1brew services stop nginx æŸ¥çœ‹æ˜¯å¦å¯åŠ¨ 1234567ps -ef|grep nginx0 63206 1 0 5:21ä¸‹åˆ ?? 0:00.00 nginx: master process nginx-2 63274 63206 0 5:23ä¸‹åˆ ?? 0:00.01 nginx: worker process501 65848 62966 0 5:52ä¸‹åˆ ttys001 0:00.00 grep --color=auto --exclude-dir=.bzr --exclude-dir=CVS --exclude-dir=.git --exclude-dir=.hg --exclude-dir=.svn nginx åœæ­¢å½“å‰masterçš„æœåŠ¡ 1sudo kill -QUIT 63206]]></content>
      <tags>
        <tag>Nginx</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Gitåœ¨å›¢é˜Ÿä¸­çš„æœ€ä½³å®žè·µ]]></title>
    <url>%2Farchives%2Ff33d987.html</url>
    <content type="text"><![CDATA[Git Flowå¸¸ç”¨çš„åˆ†æ”¯ Production åˆ†æ”¯ ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„Masteråˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯æœ€è¿‘å‘å¸ƒåˆ°ç”Ÿäº§çŽ¯å¢ƒçš„ä»£ç ï¼Œæœ€è¿‘å‘å¸ƒçš„Releaseï¼Œ è¿™ä¸ªåˆ†æ”¯åªèƒ½ä»Žå…¶ä»–åˆ†æ”¯åˆå¹¶ï¼Œä¸èƒ½åœ¨è¿™ä¸ªåˆ†æ”¯ç›´æŽ¥ä¿®æ”¹ Develop åˆ†æ”¯ è¿™ä¸ªåˆ†æ”¯æ˜¯æˆ‘ä»¬æ˜¯æˆ‘ä»¬çš„ä¸»å¼€å‘åˆ†æ”¯ï¼ŒåŒ…å«æ‰€æœ‰è¦å‘å¸ƒåˆ°ä¸‹ä¸€ä¸ªReleaseçš„ä»£ç ï¼Œè¿™ä¸ªä¸»è¦åˆå¹¶ä¸Žå…¶ä»–åˆ†æ”¯ï¼Œæ¯”å¦‚Featureåˆ†æ”¯ Feature åˆ†æ”¯ è¿™ä¸ªåˆ†æ”¯ä¸»è¦æ˜¯ç”¨æ¥å¼€å‘ä¸€ä¸ªæ–°çš„åŠŸèƒ½ï¼Œä¸€æ—¦å¼€å‘å®Œæˆï¼Œæˆ‘ä»¬åˆå¹¶å›žDevelopåˆ†æ”¯è¿›å…¥ä¸‹ä¸€ä¸ªRelease Releaseåˆ†æ”¯ å½“ä½ éœ€è¦ä¸€ä¸ªå‘å¸ƒä¸€ä¸ªæ–°Releaseçš„æ—¶å€™ï¼Œæˆ‘ä»¬åŸºäºŽDevelopåˆ†æ”¯åˆ›å»ºä¸€ä¸ªReleaseåˆ†æ”¯ï¼Œå®ŒæˆReleaseåŽï¼Œæˆ‘ä»¬åˆå¹¶åˆ°Masterå’ŒDevelopåˆ†æ”¯ Hotfixåˆ†æ”¯ å½“æˆ‘ä»¬åœ¨Productionå‘çŽ°æ–°çš„Bugæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªHotfix, å®ŒæˆHotfixåŽï¼Œæˆ‘ä»¬åˆå¹¶å›žMasterå’ŒDevelopåˆ†æ”¯ï¼Œæ‰€ä»¥Hotfixçš„æ”¹åŠ¨ä¼šè¿›å…¥ä¸‹ä¸€ä¸ªRelease Git Flowå¦‚ä½•å·¥ä½œåˆå§‹åˆ†æ”¯æ‰€æœ‰åœ¨Masteråˆ†æ”¯ä¸Šçš„Commitåº”è¯¥Tag Feature åˆ†æ”¯åˆ†æ”¯å feature/* Featureåˆ†æ”¯åšå®ŒåŽï¼Œå¿…é¡»åˆå¹¶å›žDevelopåˆ†æ”¯, åˆå¹¶å®Œåˆ†æ”¯åŽä¸€èˆ¬ä¼šåˆ ç‚¹è¿™ä¸ªFeatureåˆ†æ”¯ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¿ç•™ Releaseåˆ†æ”¯åˆ†æ”¯å release/* Releaseåˆ†æ”¯åŸºäºŽDevelopåˆ†æ”¯åˆ›å»ºï¼Œæ‰“å®ŒReleaseåˆ†ä¹‹åŽï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªReleaseåˆ†æ”¯ä¸Šæµ‹è¯•ï¼Œä¿®æ”¹Bugç­‰ã€‚åŒæ—¶ï¼Œå…¶å®ƒå¼€å‘äººå‘˜å¯ä»¥åŸºäºŽå¼€å‘æ–°çš„Feature (è®°ä½ï¼šä¸€æ—¦æ‰“äº†Releaseåˆ†æ”¯ä¹‹åŽä¸è¦ä»ŽDevelopåˆ†æ”¯ä¸Šåˆå¹¶æ–°çš„æ”¹åŠ¨åˆ°Releaseåˆ†æ”¯) å‘å¸ƒReleaseåˆ†æ”¯æ—¶ï¼Œåˆå¹¶Releaseåˆ°Masterå’ŒDevelopï¼Œ åŒæ—¶åœ¨Masteråˆ†æ”¯ä¸Šæ‰“ä¸ªTagè®°ä½Releaseç‰ˆæœ¬å·ï¼Œç„¶åŽå¯ä»¥åˆ é™¤Releaseåˆ†æ”¯äº†ã€‚ ç»´æŠ¤åˆ†æ”¯ Hotfixåˆ†æ”¯å hotfix/* hotfixåˆ†æ”¯åŸºäºŽMasteråˆ†æ”¯åˆ›å»ºï¼Œå¼€å‘å®ŒåŽéœ€è¦åˆå¹¶å›žMasterå’ŒDevelopåˆ†æ”¯ï¼ŒåŒæ—¶åœ¨Masterä¸Šæ‰“ä¸€ä¸ªtag Git Flowä»£ç ç¤ºä¾‹a. åˆ›å»ºdevelopåˆ†æ”¯ 12git branch developgit push -u origin develop b. å¼€å§‹æ–°Featureå¼€å‘ 12345678git checkout -b some-feature develop# Optionally, push branch to origin:git push -u origin some-feature # åšä¸€äº›æ”¹åŠ¨ git statusgit add some-filegit commit c. å®ŒæˆFeature 1234567891011# åˆå¹¶featureåˆ°devgit pull origin developgit checkout developgit merge --no-ff some-featuregit push origin develop# åˆ é™¤æœ¬åœ°featuregit branch -d some-feature# åˆ é™¤è¿œç«¯featuregit push origin --delete some-feature d. å¼€å§‹Relaseï¼ˆteståˆ†æ”¯ï¼‰ 1234git checkout -b release-0.1.0 develop# Optional: Bump version number, commit# Prepare release, commit e. å®ŒæˆRelease 12345678910111213141516171819# åˆå¹¶åˆ°mastergit checkout mastergit merge --no-ff release-0.1.0git push#åˆå¹¶åˆ°devgit checkout developgit merge --no-ff release-0.1.0git push# åˆ é™¤æœ¬åœ°releasegit branch -d release-0.1.0# åˆ é™¤è¿œç«¯releasegit push origin --delete release-0.1.0 # masteræ‰“æ ‡è®°git tag -a v0.1.0 mastergit push --tags f. å¼€å§‹Hotfixï¼ˆbugfixåˆ†æ”¯ï¼‰ 1git checkout -b hotfix-0.1.1 master g. å®ŒæˆHotfix 12345678910111213141516# åˆå¹¶åˆ°mastergit checkout mastergit merge --no-ff hotfix-0.1.1git push# åˆå¹¶åˆ°devgit checkout developgit merge --no-ff hotfix-0.1.1git push# åˆ é™¤æœ¬åœ°hotfixgit branch -d hotfix-0.1.1# ä¸ºæœ¬æ¬¡bugä¿®æ”¹æ‰“æ ‡è®°git tag -a v0.1.1 mastergit push --tags]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Nodeå­¦ä¹ ç¬”è®°01]]></title>
    <url>%2Farchives%2Fd57ffb29.html</url>
    <content type="text"><![CDATA[æˆ‘åœ¨åšä»€ä¹ˆ, æˆ‘æ‹¿æ—¶é—´æ¢äº†ä»€ä¹ˆâ€¦ â€”me ä¹æœˆè®¡åˆ’â€”æ¯å¤©åˆ©ç”¨ä¸‹ç­åŽçš„ä¸¤ä¸ªå­¦ä¹ æŠŠNodeå•ƒæŽ‰! è¿™æ˜¯æˆ‘çš„å­¦ä¹ ç¬”è®°, å¸Œæœ›è¿™å¯ä»¥åšä¸ºä¸€ä¸ªåšæŒä¸‹åŽ»çš„åŠ¨åŠ›! å‰è¨€Nodejs èƒ½å¤Ÿåšä»€ä¹ˆï¼Œå¯ä»¥è§£å†³ä¸€äº›ä»€ä¹ˆæ ·çš„é—®é¢˜ï¼Œå®ƒçš„ä½¿ç”¨åœºæ™¯â€¦å¦‚æžœä½ æœ‰å…´è¶£ï¼Œè¯·è®°ä½ä¸€å®šè¦è‡ªå·±åŠ¨æ‰‹ï¼Œå“ªæ€•ç…§ç€å®žä¾‹å†™ä¸€éï¼ŒçœŸçœŸå®žå®žçš„æ„Ÿå—ä»£ç è¿è¡Œæ—¶çš„å–œæ‚¦ä¸Žå…´å¥‹ï¼Œæ¿€å‘è‡ªå·±å¯¹æ–°é¢†åŸŸçš„å…´è¶£ã€‚ é»˜è®¤ä½ å·²ç»å®‰è£…äº† Nodejs å’Œ npm åŒ…ç®¡ç†å™¨ï¼Œå¹¶ä¸”ç†Ÿæ‚‰ä¸€äº›ç®€å•çš„æ“ä½œï¼Œå¦‚ nodejs ä»£ç çš„è¿è¡Œå¯åŠ¨ï¼Œnpm åŒ…çš„å®‰è£…å‘½ä»¤ç­‰åŸºç¡€æ“ä½œã€‚ ç¬¬ä¸€ä¸ªæœåŠ¡ç«¯åº”ç”¨1. hello worldé¦–å…ˆé€šè¿‡ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆæœ€å¸¸æŽ¥è§¦å´ä¸å±žäºŽå‰ç«¯èŒƒç•´çš„å†…å®¹åŽ»äº†è§£ä¸€ä¸‹ Nodejsï¼Œåˆ›å»ºä¸€ä¸ª http æœåŠ¡ã€‚è¿™é‡Œä½¿ç”¨ Nodejs è‡ªå¸¦çš„ http æ¨¡å—åˆ›å»ºä¸€ä¸ª http æœåŠ¡ï¼Œä½ å¯ä»¥ä½¿ç”¨é€šè¿‡æµè§ˆå™¨æˆ–è€…å‘½ä»¤è¡Œæ¥å‘èµ·ä¸€ä¸ª http è¯·æ±‚ï¼Œç›´è§‚çš„æ„Ÿå—æœåŠ¡ç«¯çš„ JavaScriptã€‚ 12345678// http.jsconst http = require('http')http.createServer((req,res)=&gt;&#123; res.end('Hello World !')&#125;).listen(8000,()=&gt;&#123; consoloe.log('listen on 8000')&#125;) ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œé€šè¿‡ä½¿ç”¨ node è‡ªå¸¦çš„ http æ¨¡å—ï¼Œè°ƒç”¨å…¶ http.creatServer æ–¹æ³•åœ¨æœ¬æœºä¸Šå¼€å¯äº†ä¸€ä¸ª http æœåŠ¡ï¼Œç›‘å¬äº†æœ¬åœ°çš„ 8000 ç«¯å£ï¼Œä»£ç é€»è¾‘å¾ˆç®€å•ï¼Œå½“æŽ¥æ”¶åˆ°ä¸€ä¸ª req è¯·æ±‚æ—¶ï¼Œè°ƒç”¨ res.end è¿”å›žä¸€ä¸ªå­—ç¬¦ä¸² â€œhello worldâ€ ç»™å¸¦å®¢æˆ·ç«¯ï¼Œæ—¨åœ¨è®©ä½ å¯¹ Nodejs æœ‰ä¸€ä¸ªç›´è§‚çš„ä½“éªŒã€‚ å¯ä»¥ä½¿ç”¨ node http.js å‘½ä»¤æ¥æ‰§è¡Œè¿™æ®µä»£ç ï¼Œé€šè¿‡æµè§ˆå™¨æ¥è®¿é—® http://127.0.0.1:8000 æˆ–è€… http://localhost:800 æ¥æŸ¥çœ‹ç»“æžœã€‚ ä¸€ä¸ªç”± Nodejs çš„ http æœåŠ¡æä¾›çš„ hello world è·‘èµ·æ¥äº†ï¼Œç®€æ´å¿«é€Ÿå§ã€‚æŽ¥ä¸‹æ¥å†æ¥å®žçŽ°ä¸€ä¸ªå‰ç«¯å·¥ä½œä¸­ä¸ŽæœåŠ¡ç«¯æœ€ç´§å¯†çš„å†…å®¹æ¥çœ‹çœ‹ Nodejs çš„é­…åŠ›ï¼Œæ•°æ®æŽ¥å£ã€‚ 2. å¦‚ä½•æä¾›ä¸€ä¸ª APIé¦–å…ˆè¿™é‡Œç¡®å®šæ‰€è¦æä¾›çš„ api æ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„ json æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ³¨æ„åŽç«¯è¿”å›žç»™å‰ç«¯çš„æ•°æ®ç±»åž‹ã€‚ 1234567891011121314const http = require('http');const data = &#123; name: 'Nodejs å…¥é—¨ç¤ºä¾‹', description: 'è¿™æ˜¯è¿”å›žä¿¡æ¯çš„æè¿°å†…å®¹', date: new Date()&#125;;http.createServer((req,res)=&gt;&#123; res,setHeader('Content-Type', 'application/json;charset=utf-8') const result = JSON.stringify(data) res.end(result)&#125;).listen(8000, ()=&gt;&#123; console.log('listen on 8000')&#125;) ä¸Šä¾‹å­ä¸­ï¼Œå…ˆç¡®å®šäº†ä¸€ä¸ªæ•°æ®æ¨¡åž‹ dataï¼Œå†…éƒ¨ä¸€å…±æœ‰ä¸‰ä¸ªå­—æ®µã€‚è¿™é‡Œçš„æ•°æ®æ¨¡åž‹å°±æ˜¯å‰ç«¯å¼€å‘å‰ä¸ŽåŽç«¯æ‰€å®šä¹‰çš„è¿”å›žæ ¼å¼ï¼Œæœ€ç»ˆå‰ç«¯è¦æ‹¿åˆ°è¿™ä¸ª JSON æ ¼å¼çš„æ•°æ®åœ¨å®¢æˆ·ç«¯è¿›è¡Œå¤„ç†ã€‚ä»£ç é€»è¾‘ç›¸æ¯”äºŽ Hello Worldï¼Œè§„å®šäº†è¿”å›žçš„æ•°æ®æ ¼å¼ï¼Œä»¥åŠè®¾å®šäº†è¿”å›žè¯·æ±‚çš„æ–‡æœ¬ç±»åž‹ä¸º application/jsonï¼Œç„¶åŽè°ƒç”¨ res.end è¿”å›žåˆ°å®¢æˆ·ç«¯ã€‚ å¯ä»¥ç»§ç»­ä½¿ç”¨æµè§ˆå™¨å‘èµ· http è¯·æ±‚æ¥æŸ¥çœ‹ç»“æžœï¼Œä¸€ä¸ªç®€å•ä¸”ç†Ÿæ‚‰çš„ JSON æ•°æ®æŽ¥å£å·²ç»å®Œæˆäº†ã€‚ä½ å¯ä»¥æŒ‰ç…§å‰ç«¯æœ€å¸¸ç”¨çš„è°ƒç”¨æ–¹å¼ï¼Œå¦‚ ajax æˆ–è€… axios æ¥è¯·æ±‚æŽ¥å£æ¥åœ¨ä½ çš„å‰ç«¯é¡¹ç›®ä½¿ç”¨å®ƒã€‚ ä½†æ˜¯ä¸Šé¢ä¾‹å­ä¸­çš„æŽ¥å£å’Œæˆ‘ä»¬å¸¸ç”¨çš„æŽ¥å£æœ‰ä¸€ä¸ªå·®å¼‚ç‚¹ï¼Œå°±æ˜¯æŽ¥å£åç§°å’Œè¿”å›žå†…å®¹å‡ä¸è§„èŒƒï¼Œä½¿ç”¨è€…ç›´æŽ¥é€šè¿‡æ²¡æœ‰è·¯å¾„çš„ http://127.0.0.1:8000 æ¥ä½¿ç”¨æŽ¥å£ï¼Œè¿™è·Ÿæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„æŽ¥å£æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ï¼Œé‚£æˆ‘ä»¬æŽ¥ä¸‹æ¥å†çœ‹ä¸€ä¸‹å¦‚ä½•ç»™æä¾›ä¸€ä¸ªè§„èŒƒåŒ–çš„æŽ¥å£å‘¢ï¼Ÿ 3. ä¸€ä¸ªè§„èŒƒçš„æŽ¥å£è§„èŒƒçš„æŽ¥å£å…·å¤‡å“ªäº›æ¡ä»¶å‘¢ï¼Ÿç®€å•æ€»ç»“ä¸€ä¸‹ã€‚ æŽ¥å£åç§°ï¼šæŽ¥å£åç§°è¦ä½“çŽ°å‡ºå¤§è‡´çš„ä½¿ç”¨åœºæ™¯ï¼Œä¾‹å¦‚å¢žåˆ æ”¹æŸ¥çš„åŠ¨ä½œã€‚ æŽ¥å£è¿”å›žï¼šæŽ¥å£è¿”å›žè¦æœ‰è§„èŒƒåŒ–çš„æ ‡è¯†ï¼Œå¦‚æˆåŠŸä¸Žå¦é”™è¯¯å†…å®¹ç­‰ã€‚ æŽ¥ä¸‹æ¥é€šè¿‡ä¸Šé¢è¿™ä¸¤ä¸ªç‚¹ï¼ŒæŒ‰ç…§æ ‡å‡†çš„æŽ¥å£è§„èŒƒæ¥å®žçŽ°ä¸€ä¸‹ä¸Šé¢çš„æŽ¥å£ï¼Œçœ‹çœ‹ Nodejs æ˜¯å¦‚ä½•ç»™å‰ç«¯æä¾›æŽ¥å£çš„ã€‚è¿™é‡Œå…ˆçº¦å®šè¦æä¾›çš„æŽ¥å£åç§°å†…å« api æ ‡å¿—ï¼Œapi æ‰€è¦åšçš„åŠ¨ä½œç­‰ä¸€äº›å…³é”®ä¿¡æ¯ã€‚å¦‚ä¸‹æ ¼å¼ï¼š http://localhost:8000/api/search/data?userId=12345 123456789101112131415161718192021222324252627282930313233const http = require('http')const url = require('url')const qs = require('quertstring')// ç”Ÿæˆä¸€æ®µè¿”å›žå€¼const getResponse = userId =&gt;(&#123; success: true, data: &#123; userId, name: 'NodeJS', description: 'è¿™æ˜¯è¿”å›žçš„ä¿¡æ¯', date: new Date() &#125;&#125;)// http æœåŠ¡http.creatServer((req,res)=&gt;&#123; res.setHeader = ('Content-Type', 'application/json;charset=utf-8') const reqUrl = url.parse(req.url) // åˆ¤æ–­æŽ¥å£è·¯å¾„æ˜¯å¦æ˜¯çº¦å®šå¥½çš„ if(reqUrl.pathname === 'api/search/data')&#123; // èŽ·å–é“¾æŽ¥ä¸Šä¼ æ¥çš„URLå‚æ•° const uid = qs.parse(reqUrl.query).userId // ç”Ÿæˆè¿”å›žå€¼ const result = JSON.stringify(getResponse(uid)) res.end(result) &#125;else&#123; res.writeHead(404) res.end('NotFund') &#125;&#125;).listen(8000,()=&gt;&#123; console.log('listen on 8000')&#125;) ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ–°ä½¿ç”¨ Nodejs å¦ä¸€ä¸ªè‡ªå¸¦çš„æ¨¡å— urlï¼Œurl æ¨¡å—é¡¾åæ€ä¹‰æ˜¯ä¸€ä¸ªå¤„ç† href çš„åº“ï¼Œå®ƒå°† href æ‹†åˆ†æˆå„ä¸ªå­å†…å®¹ï¼ŒåŒæ—¶ä¸ºäº†èƒ½å¤„ç†å®¢æˆ·ç«¯å¸¦æ¥çš„ userId å‚æ•°è¿˜ä½¿ç”¨äº†è‡ªå¸¦çš„ querystring æ¨¡å—ï¼Œå®ƒå¯ä»¥å°†é“¾æŽ¥ä¸Šé—®å·åŽçš„ query å‚æ•°èŽ·å–åˆ°ï¼Œä»¥ä¾¿æœåŠ¡ç«¯ä»£ç èƒ½ä½¿ç”¨ä»–ä»¬ï¼Œä»–ä»¬å‡å±žäºŽå·¥å…·åº“ï¼Œä¸‹é¢çœ‹çœ‹å®˜æ–¹å¯¹äºŽ URL æ¨¡å—å°† href æ‹†åˆ†çš„é¢—ç²’åº¦å›¾ï¼Œæ¸…æ™°çš„äº†è§£ä¸€ä¸‹ä¸€ä¸ªè¯·æ±‚é“¾æŽ¥ï¼Œå¯ä»¥è¢«æ‹†åˆ†æˆä»€ä¹ˆé¢—ç²’åº¦ã€‚ å®žä¾‹ä¸­çš„æºç ç®€å•è§£æžä¸€ä¸‹ï¼Œå½“æœåŠ¡æŽ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼Œå…ˆåˆ¤æ–­è¯·æ±‚çš„ api åç§°æ˜¯ä¸æ˜¯äº‹å…ˆçº¦å®šå¥½çš„ / api/search/dataï¼Œåˆ¤æ–­é€šè¿‡åŽï¼Œå°†å‰ç«¯ä¼ é€’åœ¨é“¾æŽ¥ä¸Šçš„å‚æ•° userId èŽ·å–åˆ°ï¼Œå¤„ç†åŽæ’å…¥åˆ°è¿”å›žçš„ json æ•°æ®ä¸­ï¼Œå³å¯é€šè¿‡ res.end æ¥ä¸‹å‘æ•°æ®ï¼Œå¦‚æžœè·¯å¾„åˆ¤æ–­å¤±è´¥ï¼Œåˆ™è¿”å›ž 404 çš„çŠ¶æ€ç ï¼Œå¹¶ä¸”è¿›å…¥ Notfund é¡µé¢ï¼Œ ä¸€ä¸ªè§„èŒƒçš„æŽ¥å£å·²ç»å¼€å‘å®Œæˆäº†ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œä¸Šé¢ä»¥æ¸è¿›å¼çš„æ–¹å¼äº†è§£äº† Nodejs å¦‚ä½•ç»™å‰ç«¯æ¥æä¾›ä¸€ä¸ªè§„èŒƒåŒ–çš„ http æŽ¥å£ï¼Œäº†è§£äº†æœåŠ¡ç«¯çš„ JavaScript æ‰€å…·å¤‡çš„èƒ½åŠ›ï¼ŒæŽ¥ä¸‹æ¥å†ä»Žå¦ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆæ¯”è¾ƒå°‘æŽ¥è§¦çš„å†…å®¹â€”â€”æ–‡ä»¶æ“ä½œï¼Œæ¥è¿›ä¸€æ­¥äº†è§£ Nodejsã€‚ æ–‡ä»¶æ“ä½œé‚£äº›äº‹å¯¹äºŽæ–‡ä»¶æ“ä½œç›¸å…³çš„å†…å®¹ï¼Œå‰ç«¯ç¨‹åºå‘˜ä¸€èˆ¬æ˜¯ä¸ä¼šè§¦åŠçš„ï¼Œè€Œä¸” JavaScript è¯­è¨€æœ¬èº«ä¹Ÿå¹¶æ²¡æœ‰æš´éœ²æ“ä½œæ–‡ä»¶çš„æ–¹æ³•ã€‚è€Œåœ¨ Nodejs ä¸­ï¼Œæœ¬èº«ä¾¿æä¾›äº† fs æ–‡ä»¶æ“ä½œæ¨¡å—ï¼Œè¿™ä¸ªæ¨¡å—æ¨¡å—åº•å±‚å¹¶ä¸æ˜¯ JavaScript æ¥ç¼–å†™çš„ï¼Œæ˜¯å…·å¤‡æ“ä½œæ–‡ä»¶çš„ C++ è¯­è¨€ç¼–å†™çš„ï¼Œå…¶å°è£…å®ŒæˆåŽå°†ä¸Šå±‚æš´éœ²ç»™ Nodejsï¼Œç„¶åŽä¾¿å¯ä»¥ä½¿ç”¨ JavaScript çš„è¯­æ³•æ¥è°ƒç”¨å®ƒã€‚ 1. è¯»ä¸€ä¸ªæ–‡ä»¶åœ¨ Nodejs ä¸­ï¼Œè¯»æ–‡ä»¶æœ‰ä¸¤ç§å½¢å¼ï¼Œä¸€ç§æ˜¯åŒæ­¥çš„å¦ä¸€ç§æ˜¯å¼‚æ­¥çš„ï¼ŒåŒæ­¥å¯ä»¥ç†è§£ä¸ºè¯»æ–‡ä»¶è¿™ä¸ªè¿‡ç¨‹è¦ç­‰å¾…ï¼Œå°±æ˜¯ä¸€æ—¦æ‰§è¡Œçš„è¯»è¿™ä¸ªæ“ä½œçš„æ—¶å€™ï¼Œä½ çš„ä»£ç å°±è¢«â€ å¡ â€œä½äº†ï¼Œç›´åˆ°æ–‡ä»¶è¯»å®Œæ‰èƒ½ç»§ç»­æ‰§è¡Œï¼Œæ¥çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚ å…ˆæ–°å¢žä¸€ä¸ª test.md æ–‡ä»¶é…åˆè¯»æ“ä½œï¼Œæ–‡ä»¶å†…å®¹ä¸ºï¼š### æˆ‘æ˜¯ä¸€ä¸ªæ–‡ä»¶ 123456// fsread.jsconst fs = require('fs');const file = fs.readFileSync('./test.md', 'utf8');console.log(file); ä½¿ç”¨ node fsread.js æ¥è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä»Žä¸Šé¢ç®€å•çš„å‡ è¡Œä½ å°±å¯ä»¥å‘çŽ°æˆåŠŸå°† test.md æ–‡ä»¶é‡Œçš„å†…å®¹è¯»å‡ºæ¥ï¼Œå¯ä»¥æ‰“å°åˆ°äº†å‘½ä»¤è¡Œ console é‡Œï¼Œçªç„¶å‘çŽ° JavaScript è¯­è¨€çš„å¼ºå¤§äº†å§ï¼Œå¾ˆç¥žå¥‡å§ã€‚ ä½†æ˜¯ Nodejs å¤©ç”Ÿæ˜¯ä¸ºå¼‚æ­¥è€Œç”Ÿçš„ï¼Œæ‰€ä»¥å¿…é¡»è¦ä½“éªŒä¸€ä¸‹å¼‚æ­¥è¯»æ–‡ä»¶æ˜¯æ€Žä¹ˆçš„è¿‡ç¨‹ï¼Œä¸ŽåŒæ­¥çš„è¡¨çŽ°æœ‰ä½•å¼‚åŒã€‚æ‰€ä»¥ ä¸‹é¢ç¤ºä¾‹ä¸€ä¸ªå¼‚æ­¥å›žè°ƒçš„æ–¹å¼åŽ»è¯»ä¸€ä¸ªæ–‡ä»¶ï¼Œå¼‚æ­¥çš„æ„æ€å°±æ˜¯è¯»æ–‡ä»¶è¿™ä¸ªæ“ä½œè¿›è¡Œçš„åŒæ—¶ï¼Œè¯»æ“ä½œä¸‹é¢çš„ JavaScript ä»£ç ä¹Ÿåœ¨æ‰§è¡Œï¼Œå°±å¦‚åŒæˆ‘ä»¬ç†Ÿæ‚‰çš„è½¯ä»¶åŽå°è¿è¡Œä¸€æ ·ï¼Œä½ å¯ä»¥ç»§ç»­ä½ çš„æ¡Œé¢æ“ä½œã€‚ 1234567891011121314151617const fs = require('fs');console.log('sync start');fs.readFile('./test.md', 'utf8', (err, data) =&gt; &#123; console.log('test.md çš„å†…å®¹'); console.log(data);&#125;);console.log('sync progress');fs.readFile('./test2.md', 'utf8', (err, data) =&gt; &#123; console.log('test2.md çš„å†…å®¹'); console.log(data);&#125;);console.log('sync finish'); åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œè¦æ±‚æ˜¯ä¸€æ¬¡è¯»å–ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´å¹¶æ²¡æœ‰ç›¸å…³ä¾èµ–æ€§ï¼Œæ‰€ä»¥è¿™ç§ åœºæ™¯ä¸‹æˆ‘ä»¬æ›´å¸Œæœ›ä»–ä»¬å„åšå„çš„ï¼Œæ— éœ€åŽ»ç­‰ã€‚æ‰€ä»¥æ²¡æœ‰å¿…è¦åƒä¸Šé¢åŒæ­¥çš„æ–¹å¼ï¼Œç­‰ç¬¬ä¸€ä¸ªç»“æŸå†è¿›å…¥ç¬¬äºŒä¸ªçš„è¯»å–ï¼Œæ‰€ä»¥ä½¿ç”¨å¼‚æ­¥æ–¹å¼æ›´åˆé€‚ã€‚ ä»Žä¸Šé¢çš„æ‰§è¡Œç»“æžœä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œfs.readFile è¿™ä¸ªå¼‚æ­¥å›žè°ƒæ“ä½œå‡åœ¨ä¸‰ä¸ªåŒæ­¥ä»£ç  console çš„åŽé¢ï¼Œå¹¶æ²¡æœ‰åƒåŒæ­¥ç­‰å¾…è¯»æ“ä½œçš„ç»“æŸã€‚ ä¸‹é¢æ¥ä¸ªå›¾çœ‹çœ‹è¿™ä¸ªåŒæ­¥ API å’Œå¼‚æ­¥ API æœ‰ä½•å¼‚åŒã€‚ å›¾ç‰‡ä¸ŠåŠéƒ¨åˆ†æ˜¯å¼‚æ­¥è¯»æ–‡ä»¶ï¼Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œè¯»çš„æ“ä½œå¯ä»¥ç†è§£ä¸ºåŒæ—¶åˆ»æ‰§è¡Œçš„ã€‚ å›¾ç‰‡ä¸‹åŠéƒ¨åˆ†æ˜¯åŒæ­¥è¯»æ–‡ä»¶ï¼Œç¬¬äºŒä¸ªè¯»çš„æ“ä½œéœ€è¦å…ˆç­‰å¾…ç¬¬ä¸€ä¸ªè¯»å®Œæ‰å¯ä»¥ã€‚ ä¸¾ä¸ªçŽ°å®žç”Ÿæ´»ä¸­åŒæ­¥çš„åœºæ™¯ï¼Œè¿åŠ¨ä¼šæŽ¥åŠ›èµ›ï¼ŒA,B ä¸¤ä¸ªç­æ¯”èµ›æŽ¥åŠ›ï¼Œè™½ç„¶ A,B ä¸¤ä¸ªç­æ— ä¾èµ–ï¼Œä½†æ˜¯ A ç­çš„ç¬¬äºŒååŒå­¦åˆ™éœ€è¦ç¬¬ä¸€ååŒå­¦çš„æŽ¥åŠ›æ£’æ‹¿åˆ°åŽæ‰å¯ç»§ç»­è·‘ï¼Œæ­¤æ—¶ A ç­çš„è¿åŠ¨å‘˜ä¹‹é—´å°±å±žäºŽåŒæ­¥é˜»å¡žç±»åž‹ã€‚ åœ¨ä¸¾ä¸ªå¼‚æ­¥çš„åœºæ™¯ï¼Œè€æ¿é€šè¿‡å…¨å‘˜ä¼šè®®ä¸‹è¾¾äº†ä¸€ä¸ªä»»åŠ¡ï¼Œä»»åŠ¡æ˜¯å¤§å®¶åšä¸€ç™¾ä¸ªä¿¯å§æ’‘ï¼Œè°å…ˆåšå®Œä»»åŠ¡åˆ™å¯ä»¥é¢†å– 10000 å…ƒçº¢åŒ…çš„å¥–åŠ±ï¼Œå¤§å®¶å¬åˆ°åŽçº·çº·åŽŸåœ°åšèµ·ï¼Œåœ¨è¿™æ—¶å€™å„ä¸ªå‘˜å·¥ä¹‹é—´å°±æ˜¯å¼‚æ­¥çš„ï¼Œä»–ä»¬å„åšå„çš„ï¼Œè°å…ˆåšå®Œå°±å¯ä»¥æ‰§è¡Œè€æ¿ç»™ä»–ä»¬çš„å¼€å§‹è¯´çš„é¢†å–å¥–åŠ±æ“ä½œï¼Œè¿™ä¸ªæ“ä½œå¯ä»¥ç†è§£ä¸ºå¼‚æ­¥å›žè°ƒå‡½æ•°ã€‚ 2. å†™ä¸€ä¸ªæ–‡ä»¶Nodejs å†™æ–‡ä»¶ä¹Ÿæ˜¯æœ‰ä¸¤ä¸ªç±»åž‹ï¼ŒåŒæ­¥ä¸Žå¼‚æ­¥ï¼Œå®žé™…æ‰§è¡Œæµç¨‹ä¸Žä¸Šé¢çš„ â€œè¯»â€ æ˜¯ä¸€æ ·çš„ã€‚ ä¸‹é¢è¿›å…¥åŒæ­¥è¯»æ–‡ä»¶çš„ä¾‹å­ï¼Œæ‰§è¡Œä¸‹é¢çš„ä»£ç ä½ ä¼šå‘çŽ°å¤šäº†ä¸€ä¸ª test3.md æ–‡ä»¶ï¼Œå¹¶ä¸”å†™å…¥â€™### æˆ‘æ˜¯æµ‹è¯•æ–‡ä»¶ test3â€™çš„å†…å®¹ 1234const fs = require('fs');const body = '### æˆ‘æ˜¯æµ‹è¯•æ–‡ä»¶test3çš„å†…å®¹';fs.writeFileSync('./test3.md', body); å†æ¥çœ‹ä¸€ä¸‹å¼‚æ­¥å†™ä¸€ä¸ªæ–‡ä»¶çš„ä¾‹å­ï¼Œåšä¸€ä¸ªå¯¹æ¯”ã€‚ 1234567891011121314// æ¥ä¸€ä¸ªå¼‚æ­¥çš„çœ‹çœ‹ã€‚const fs = require('fs');const body = '### æˆ‘æ˜¯æµ‹è¯•æ–‡ä»¶test4çš„å†…å®¹';fs.writeFile('./test4.md', body, (err) =&gt; &#123; if (err) throw err; console.log('æ–‡ä»¶test4å·²è¢«ä¿å­˜');&#125;);const body2 = '### æˆ‘æ˜¯æµ‹è¯•æ–‡ä»¶test5çš„å†…å®¹';fs.writeFile('./test5.md', body2, (err) =&gt; &#123; if (err) throw err; console.log('æ–‡ä»¶test5å·²è¢«ä¿å­˜');&#125;); è¿™æ˜¯å†™æ–‡ä»¶çš„ç»“æžœï¼Œè¿™æ—¶å€™ä½ çš„æœ¬åœ°ä¼šå¤šå‡ºä¸¤ä¸ªæ–‡ä»¶ test4.md å’Œ test5.md å‡ºæ¥ã€‚ 3. å…¶ä»–æ–‡ä»¶æ“ä½œå…¶å®ž Nodejs æä¾›äº†ä¸°å¯Œçš„æ–‡ä»¶æ“ä½œæŽ¥å£ï¼Œé™¤äº†è¯»å†™ï¼Œè¿˜æœ‰åƒå¤åˆ¶ï¼Œç»™æ–‡ä»¶æŽˆæƒï¼Œåˆ é™¤ä¸€ä¸ªæ–‡ä»¶ï¼Œæ–‡ä»¶å¤¹çš„æ“ä½œï¼Œæ–‡ä»¶å†…å®¹çš„ç›‘å¬ç­‰ï¼Œå¦‚æžœä½ æœ‰å¯¹æ–‡ä»¶çš„æ“ä½œéœ€æ±‚ï¼Œè¯·å…ˆåœ¨æ–‡æ¡£æŸ¥ä¸€ä¸‹çœ‹æ˜¯å¦èƒ½å¤Ÿæ»¡è¶³ä½ ã€‚ æ–‡æ¡£åœ°å€ï¼šhttp://nodejs.cn/api/fs.html ä¸‹é¢æ¥ä¸€ä¸ªæ–‡ä»¶å†…å®¹ç›‘å¬çš„ä¾‹å­ï¼Œå¸¦ä½ çœ‹çœ‹ä¸€ä¸ªæ–‡ä»¶å˜åŒ–æ—¶ä¹Ÿèƒ½è¢«è§‚å¯Ÿåˆ°ä¹è¶£ã€‚ 12345678const fs = require('fs');fs.watch('./test6.md', 'utf8', (eventType, filename)=&gt;&#123; // eventType æ˜¯ 'rename' æˆ– 'change'ï¼Œ // filename æ˜¯è§¦å‘äº‹ä»¶çš„æ–‡ä»¶çš„åç§° console.log('eventType', eventType); console.log('filename', filename);&#125;); æˆ‘å°† test6.md çš„å†…å®¹è¿›è¡Œæ‰‹åŠ¨çš„å˜åŒ–ï¼Œå¹¶ä¸”æ”¹äº†åå­—ï¼Œè¿™é‡Œéƒ½è¢«ç›‘å¬åˆ°äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæœ‰è¶£ï¼Œè·Ÿæˆ‘ä¸€èµ·æ¥ç»ƒä¹ å§ã€‚ æ€»ç»“æœ¬æ–‡ä»Žå‰ç«¯å·¥ç¨‹å¸ˆä»¬æœ€å¸¸æŽ¥è§¦å´åˆä¸å±žäºŽå‰ç«¯é¢†åŸŸçš„ä¸¤ä¸ªæ–¹é¢ï¼Œhttp æœåŠ¡ä¸Žæ–‡ä»¶æ“ä½œå±•å¼€äº†å­¦ä¹ ï¼Œä»Žå‡ ä¸ªç®€å•æ˜“æ‡‚çš„ä¾‹å­å¸¦é¢†åŽ»äº†è§£äº† Nodejsã€‚å…¶å®žNodeéžè¯šç®€å•ä¾¿æ·ï¼Œå‡ è¡Œä»£ç å°±èƒ½åšå‡ºä¸€äº›æƒ³è¦çš„æ•ˆæžœï¼Œèƒ½å¿«é€Ÿçš„å®Œæˆè¦æ±‚ã€‚]]></content>
      <tags>
        <tag>Node</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git worktree çš„ä½¿ç”¨]]></title>
    <url>%2Farchives%2Fa2d3386.html</url>
    <content type="text"><![CDATA[é€‚ç”¨åœºæ™¯ åœ¨åŒä¸€ä¸ª git ä»“åº“ä¸­ï¼Œæœ‰æ—¶å€™ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µ, ä½ å°†ä½ åˆ†æ”¯çš„ä»£ç å¼€å‘å¥½äº†,æ­£åœ¨è¿è¡Œä»£ç æµ‹è¯•. è¿™æ—¶å€™ä½ æŽ¥åˆ°ä¸€ä¸ªä»»åŠ¡â€“&gt;ä¸»åˆ†æ”¯ä¸Šæœ‰ä¸€ä¸ªbugéœ€è¦ç«‹åˆ»å¤„ç†. è€Œä½ çš„ä»£ç æµ‹è¯•å·²ç»è·‘äº†ä¸€å¤§åŠäº†, ä½ ä¸æƒ³ç»“æŸè¿™ä¸ªæµ‹è¯•, ä½†è¿˜å¿…é¡»åŽ»ä¸»åˆ†æ”¯ä¸Šä¿®æ”¹è¿™ä¸ªBUG, è¿™æ—¶å€™git stashçš„æš‚å­˜æ˜Žæ˜¾æ˜¯ä¸èƒ½ç”¨çš„, è€Œé‡æ–°cloneä¸€ä¸ªæ–°çš„é¡¹ç›®ä¸‹æ¥æœ‰æ˜¾å¾—å¾ˆéº»çƒ¦. è¿™æ—¶å€™å°±æ˜¯Git WorkTree å¤§å±•èº«æ‰‹çš„æ—¶å€™äº† git ä»Ž 2.6.0 çš„ç‰ˆæœ¬å¼€å§‹å¢žåŠ äº†æ–°çš„æŒ‡ä»¤ï¼Œå¯ä»¥ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ï¼š git worktree ä¸€ä¸ª git ä»“åº“é»˜è®¤æœ‰ä¸€ä¸ª worktreeï¼Œå½“éœ€è¦åœ¨åŒä¸€ä¸ªä»“åº“å…¼é¡¾ä¸¤ä¸ªæˆ–è€…å¤šä¸ªåˆ†æ”¯çš„å¼€å‘æ—¶ï¼Œå¯ä»¥ä¸ºæ¯ä¸€ä¸ªåˆ†æ”¯æ–°å»ºä¸€ä¸ª worktree ã€‚ä»–ä»¬å½¼æ­¤ä¹‹é—´ä¸ä¼šç›¸äº’å½±å“ï¼Œå…¶è¡¨çŽ°ç›¸å½“äºŽåœ¨ä¸€ä¸ªå…¶ä»–çš„ç›®å½•é‡æ–° git clone äº†ä¸€æŠŠè¿™ä¸ª git ä»“åº“ã€‚å®žé™…ä¸Šä¸Žé‡å»ºç›®å½•ä¸åŒçš„æ˜¯ï¼Œä»–ä»¬å½¼æ­¤ä¹‹é—´åˆæœ‰å…³è”ï¼Œä»»ä½•ä¸€ä¸ª worktree çš„æäº¤éƒ½ä¼šæ— ç—›å¢žåŠ åˆ°å…¶ä»–çš„ worktree ï¼Œè€Œä¸éœ€è¦é€šè¿‡è¿œç¨‹ä»“åº“åšåŒæ­¥ã€‚ä¸€ä¸ªåˆ†æ”¯çš„å·¥ä½œç»“æŸä¹‹åŽï¼Œåˆ é™¤é‚£ä¸ªåˆ†æ”¯å¯¹åº”çš„ç›®å½•å³å¯å…³é—­è¿™ä¸ª worktreeã€‚æ€»ä¹‹å°±æ˜¯ï¼Œçœ‹æ¥è¿˜ç®—å®Œç¾Žçš„ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚ å¸¸ç”¨git worktree add &lt;path&gt; [&lt;branch&gt;]ï¼šå¢žåŠ ä¸€ä¸ªæ–°çš„ worktree ï¼Œå¹¶æŒ‡å®šäº†å…¶å…³è”çš„ç›®å½•æ˜¯ path ï¼Œå…³è”çš„åˆ†æ”¯æ˜¯ &lt;branch&gt; ã€‚åŽè€…æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œé»˜è®¤å€¼æ˜¯ HEAD åˆ†æ”¯ã€‚å¦‚æžœ &lt;branch&gt; å·²ç»è¢«å…³è”åˆ°äº†ä¸€ä¸ª worktree ï¼Œåˆ™è¿™æ¬¡ add ä¼šè¢«æ‹’ç»æ‰§è¡Œï¼Œå¯ä»¥é€šè¿‡å¢žåŠ  -f | --force é€‰é¡¹æ¥å¼ºåˆ¶æ‰§è¡Œã€‚ åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ -b &lt;new-branch&gt; åŸºäºŽ &lt;branch&gt; æ–°å»ºåˆ†æ”¯å¹¶ä½¿è¿™ä¸ªæ–°åˆ†æ”¯å…³è”åˆ°è¿™ä¸ªæ–°çš„ worktree ã€‚å¦‚æžœ &lt;new-branch&gt; å·²ç»å­˜åœ¨ï¼Œåˆ™è¿™æ¬¡ add ä¼šè¢«æ‹’ç»ï¼Œå¯ä»¥ä½¿ç”¨ -B ä»£æ›¿è¿™é‡Œçš„ -b æ¥å¼ºåˆ¶æ‰§è¡Œï¼Œåˆ™åŽŸæ¥çš„ &lt;new-branch&gt; çš„æäº¤è¿›åº¦ä¼šè¢«é‡ç½®ä¸ºå’Œ &lt;branch&gt; ä¸€æ ·çš„ä½ç½®ã€‚ git worktree list :åˆ—å‡ºå½“å‰ä»“åº“å·²ç»å­˜åœ¨çš„æ‰€æœ‰ worktree çš„è¯¦ç»†æƒ…å†µï¼ŒåŒ…æ‹¬æ¯ä¸ª worktree çš„å…³è”ç›®å½•ï¼Œå½“å‰çš„æäº¤ç‚¹çš„å“ˆå¸Œç å’Œå½“å‰ checkout åˆ°çš„å…³è”åˆ†æ”¯ã€‚è‹¥æ²¡æœ‰å…³è”åˆ†æ”¯ï¼Œåˆ™æ˜¯ detached HEAD ã€‚ å¯ä»¥å¢žåŠ  --porcelain é€‰é¡¹ï¼Œç”¨æ¥æ”¹å˜æ˜¾ç¤ºé£Žæ ¼ã€‚å³ï¼šä½¿ç”¨ label å¯¹åº” value çš„å½¢å¼æ˜¾ç¤ºä¸Šé¢æåˆ°çš„å†…å®¹ã€‚ä¸¾ä¾‹å®¹æ˜“çœ‹å‡ºå…¶ä¸­å·®åˆ«ï¼š 1234$ git worktree list/path/to/bare-source (bare)/path/to/linked-worktree abcd1234 [master]/path/to/other-linked-worktree 1234abc (detached HEAD) 1234567891011$ git worktree list --porcelainworktree /path/to/bare-sourcebareâ€‹worktree /path/to/linked-worktreeHEAD abcd1234abcd1234abcd1234abcd1234abcd1234branch refs/heads/masterâ€‹worktree /path/to/other-linked-worktreeHEAD 1234abc1234abc1234abc1234abc1234abc1234adetached prune :åœ¨åˆ é™¤ worktree çš„å…³è”ç›®å½•ä¹‹åŽï¼Œæ¸…é™¤ worktree çš„ä¿¡æ¯ã€‚ä»Žè€Œä½¿ä¸€ä¸ª worktree å®Œæ•´çš„åˆ é™¤ã€‚ å…¶ä»–git worktree lock :git ä¼šå®šæœŸçš„è‡ªåŠ¨æ¸…é™¤æŽ‰å·²ç»æ²¡æœ‰å…³è”ç›®å½•çš„é‚£äº› worktree çš„ä¿¡æ¯ã€‚å½“ä½ æŠŠä¸€ä¸ª worktree çš„å…³è”ç›®å½•åˆ›å»ºåˆ°äº†ä¸€ä¸ªå¯ç§»åŠ¨è®¾å¤‡æˆ–è€…ä¸€å—ä¸æ˜¯æ°¸ä¹…æŒ‚è½½çš„ç¡¬ç›˜é‡Œçš„æ—¶å€™ï¼Œä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¯ä»¥é˜²æ­¢è¿™ä¸ª worktree çš„ä¿¡æ¯è¢«ç§»é™¤ã€‚ git worktree unlock :ä¸Žä¸Šé¢çš„å‘½ä»¤æ˜¯ä¸€å¯¹ã€‚ä½œç”¨æ˜¯è§£é™¤é”å®šã€‚ æ€»ç»“çœ‹èµ·æ¥åªæ˜¯æŠŠ git çš„æ–‡æ¡£å¤§æ¦‚ç¿»è¯‘äº†ä¸€ä¸‹ï¼Œå†™ä¸€éåŠ æ·±ç†è§£å§ã€‚ä¹Ÿæ˜¯åˆšå¼€å§‹ä½¿ç”¨çš„æ–°å‘½ä»¤ï¼Œè®¾è®¡ä¹Ÿæ˜¯å¾ˆç¨³é‡çš„ï¼Œæ²¡æœ‰é‚£ä¹ˆå¤šèŠ±å“¨ï¼Œæ²¡ä»€ä¹ˆå¥½çš„æŠ€å·§å¯è°ˆï¼Œä½†ç»å¯¹æ˜¯äº”æ˜ŸæŽ¨èçš„å¥½ç”¨ã€‚ å‚è€ƒgit worktree]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Git stash æš‚å­˜çš„æ“ä½œ]]></title>
    <url>%2Farchives%2F64676934.html</url>
    <content type="text"><![CDATA[é€‚ç”¨åœºæ™¯ æˆ‘ä»¬åœ¨å¤šäººå¼€å‘çš„æ—¶å€™,ç»å¸¸é‡åˆ°å¼€å‘æŸä¸€ä¸ªåˆ†æ”¯æ—¶,éœ€è¦å¤„ç†å…¶ä»–åˆ†æ”¯çš„äº‹æƒ…. è¿™æ—¶å°±å¯ä»¥æš‚å­˜æ‰‹å¤´çš„å·¥ä½œ,åˆ‡åˆ°å…¶å®ƒåˆ†æ”¯,è¿›è¡Œå·¥ä½œ. å®Œäº‹åŽå†æŽ¥å›žåŽŸæ¥çš„åˆ†æ”¯å¹¶æ¢å¤ä¹‹å‰çš„å†…å®¹, ç»§ç»­å·¥ä½œ Cool! 1. æš‚å­˜æ“ä½œ12345git status // æŸ¥çœ‹å½“å‰çŠ¶æ€git add . // å¦‚æžœæœ‰ä¿®æ”¹,æ·»åŠ ä¿®æ”¹æ–‡ä»¶git stash save 'æœ¬æ¬¡æš‚å­˜çš„æ ‡è¯†åå­—' // æš‚å­˜æ“ä½œ 2. æŸ¥çœ‹å½“å‰æš‚å­˜çš„è®°å½•1git stash list // æŸ¥çœ‹è®°å½• 3. æ¢å¤æš‚å­˜çš„å·¥ä½œ popå‘½ä»¤æ¢å¤,æ¢å¤åŽ,æš‚å­˜åŒºåŸŸä¼šåˆ é™¤å½“å‰çš„è®°å½• 1git stash pop stash@&#123;index&#125; // æ¢å¤æŒ‡å®šçš„æš‚å­˜å·¥ä½œ, æš‚å­˜è®°å½•ä¿å­˜åœ¨listå†…,éœ€è¦é€šè¿‡listç´¢å¼•indexå–å‡ºæ¢å¤ applyå‘½ä»¤æ¢å¤,æ¢å¤åŽ,æš‚å­˜åŒºåŸŸä¼šä¿ç•™å½“å‰çš„è®°å½• 1git stash apply stash@&#123;index&#125; // æ¢å¤æŒ‡å®šçš„æš‚å­˜å·¥ä½œ, æš‚å­˜è®°å½•ä¿å­˜åœ¨listå†…,éœ€è¦é€šè¿‡listç´¢å¼•indexå–å‡ºæ¢å¤ 4. åˆ é™¤æš‚å­˜123git stash drop stash@&#123;index&#125; // åˆ é™¤æŸä¸ªæš‚å­˜, æš‚å­˜è®°å½•ä¿å­˜åœ¨listå†…,éœ€è¦é€šè¿‡listç´¢å¼•indexå–å‡ºæ¢å¤git stash clear // åˆ é™¤å…¨éƒ¨æš‚å­˜]]></content>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è½¬ã€‘ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢JavaScriptçš„Optional Chaining]]></title>
    <url>%2Farchives%2Ffafa2f28.html</url>
    <content type="text"><![CDATA[å‰è¨€ JavaScript çš„ç‰¹æ€§æžå¤§åœ°æ”¹å˜äº†ä½ çš„ç¼–ç æ–¹å¼ã€‚ä»Ž ES2015 å¼€å§‹ï¼Œå¯¹æˆ‘ä»£ç å½±å“æœ€å¤šçš„åŠŸèƒ½æ˜¯è§£æž„ã€ç®­å¤´å‡½æ•°ã€ç±»å’Œæ¨¡å—ç³»ç»Ÿã€‚æˆªè‡³ 2019 å¹´ 8 æœˆï¼Œä¸€é¡¹æ–°ææ¡ˆ optional chaining è¾¾åˆ°äº†ç¬¬3é˜¶æ®µï¼Œè¿™å°†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ”¹è¿›ã€‚Optional Chaining æ”¹å˜äº†ä»Žæ·±å±‚å¯¹è±¡ç»“æž„è®¿é—®å±žæ€§çš„æ–¹å¼ã€‚ä¸‹é¢è®©æˆ‘ä»¬æ¥çœ‹çœ‹ optional chaining æ˜¯å¦‚ä½•é€šè¿‡åœ¨æ·±åº¦è®¿é—®å¯èƒ½ç¼ºå°‘çš„å±žæ€§æ—¶åˆ é™¤æ ·æ¿æ¡ä»¶å’Œå˜é‡æ¥ç®€åŒ–ä»£ç çš„ã€‚ 1. é—®é¢˜ç”±äºŽ JavaScript çš„åŠ¨æ€ç‰¹æ€§ï¼Œå¯¹è±¡å¯ä»¥æœ‰åŒºåˆ«å¾ˆå¤§çš„åµŒå¥—å¯¹è±¡ç»“æž„ã€‚ é€šå¸¸ï¼Œä½ åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¤„ç†æ­¤ç±»å¯¹è±¡ï¼š èŽ·å–è¿œç¨‹ JSON æ•°æ® ä½¿ç”¨é…ç½®å¯¹è±¡ å…·æœ‰ optional å±žæ€§ è™½ç„¶è¿™ä¸ºå¯¹è±¡æä¾›äº†æ”¯æŒä¸åŒç»“æž„æ•°æ®çš„çµæ´»æ€§ï¼Œä½†æ˜¯åœ¨è®¿é—®è¿™äº›å¯¹è±¡çš„å±žæ€§æ—¶ä¼šå¢žåŠ å¤æ‚æ€§ã€‚ bigObject åœ¨è¿è¡Œæ—¶å¯ä»¥æœ‰ä¸åŒçš„å±žæ€§é›†ï¼š 12345678910111213141516171819// One version of bigObjectconst bigObject = &#123; // ... prop1: &#123; //... prop2: &#123; // ... value: 'Some value' &#125; &#125;&#125;;// Other version of bigObjectconst bigObject = &#123; // ... prop1: &#123; // Nothing here &#125;&#125;; å› æ­¤ï¼Œä½ å¿…é¡»æ‰‹åŠ¨æ£€æŸ¥å±žæ€§æ˜¯å¦å­˜åœ¨ï¼š 123456// Laterif (bigObject &amp;&amp; bigObject.prop1 != null &amp;&amp; bigObject.prop1.prop2 != null) &#123; let result = bigObject.prop1.prop2.value;&#125; è¿™ä¼šäº§ç”Ÿå¾ˆå¤šæ ·æ¿ä»£ç ã€‚å¦‚æžœä¸éœ€è¦å†™è¿™äº›ä»£ç é‚£å°±å¤ªå¥½äº†ã€‚ è®©æˆ‘ä»¬çœ‹çœ‹ optional chaining å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶å‡å°‘æ ·æ¿æ¡ä»¶ã€‚ 2. è½»æ¾çš„æ·±å…¥è®¿é—®å±žæ€§è®©æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªä¿å­˜ç”µå½±ä¿¡æ¯çš„å¯¹è±¡ã€‚è¯¥å¯¹è±¡åŒ…å«ä¸€ä¸ª title å±žæ€§ï¼Œä»¥åŠå¯é€‰çš„ director å’Œ actorsã€‚ movieSmall å¯¹è±¡åªåŒ…å« titleï¼Œè€Œ movieFull åŒ…å«å®Œæ•´çš„å±žæ€§é›†ï¼š 123456789const movieSmall = &#123; title: 'Heat'&#125;;const movieFull = &#123; title: 'Blade Runner', director: &#123; name: 'Ridley Scott' &#125;, actors: [&#123; name: 'Harrison Ford' &#125;, &#123; name: 'Rutger Hauer' &#125;]&#125;; è®©æˆ‘ä»¬å†™ä¸€ä¸ªèŽ·å–å¯¼æ¼”åå­—çš„å‡½æ•°ã€‚è¯·è®°ä½ï¼Œdirector å±žæ€§å¯èƒ½ä¼šä¸å­˜åœ¨ï¼š 12345678function getDirector(movie) &#123; if (movie.director != null) &#123; return movie.director.name; &#125;&#125;getDirector(movieSmall); // =&gt; undefinedgetDirector(movieFull); // =&gt; 'Ridley Scott' if (movie.director) {...} æ¡ä»¶ç”¨äºŽéªŒè¯ director å±žæ€§æ˜¯å¦å·²å®šä¹‰ã€‚å¦‚æžœæ²¡æœ‰è¿™ä¸ªé¢„é˜²æŽªæ–½ï¼Œåœ¨è®¿é—®movieSmall å¯¹è±¡ director çš„æ—¶å€™ï¼ŒJavaScript ä¼šæŠ›å‡ºé”™è¯¯ TypeError: Cannot read property &#39;name&#39; of undefinedã€‚ è¿™æ˜¯ä½¿ç”¨æ–°çš„ optional chaining åŠŸèƒ½çš„æ­£ç¡®ä½ç½®ï¼Œå¹¶åˆ é™¤ movie.director çš„å­˜åœ¨éªŒè¯ã€‚æ–°ç‰ˆæœ¬çš„getDirector()çœ‹èµ·æ¥è¦çŸ­å¾—å¤šï¼š 123456function getDirector(movie) &#123; return movie.director?.name;&#125;getDirector(movieSmall); // =&gt; undefinedgetDirector(movieFull); // =&gt; 'Ridley Scott' åœ¨è¡¨è¾¾å¼ movie.director?.name ä¸­ä½ å¯ä»¥æ‰¾åˆ° ?.ï¼š optional chaining è¿ç®—ç¬¦ã€‚ åœ¨ movieSmall çš„æƒ…å†µä¸‹ï¼Œå¦‚æžœå±žæ€§ director ä¸¢å¤±äº†ã€‚é‚£ä¹ˆ movie.director?.name çš„è®¡ç®—ç»“æžœä¸º undefinedã€‚ optional chaining è¿ç®—ç¬¦å¯é˜²æ­¢æŠ›å‡º TypeError:Cannot read property &#39;name&#39; of undefinedã€‚ ç›¸åï¼Œåœ¨ movieFull çš„æƒ…å†µä¸‹ï¼Œå±žæ€§ director å¯ç”¨ã€‚ movie.director?.name çš„å€¼ä¸º &#39;Ridley Scott&#39;.ã€‚ ç®€å•æ¥è¯´ï¼Œä»£ç ç‰‡æ®µï¼š 1let name = movie.director?.name; ç›¸å½“äºŽï¼š 1234let name;if (movie.director != null) &#123; name = movie.director.name;&#125; ?. é€šè¿‡å‡å°‘ 2 è¡Œä»£ç ç®€åŒ–äº† getDirector() å‡½æ•°ã€‚è¿™å°±æ˜¯æˆ‘å–œæ¬¢ optional chaining çš„åŽŸå› ã€‚ 2.1 æ•°ç»„é¡¹ä½†æ˜¯ optional chaining åŠŸèƒ½å¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ã€‚ä½ å¯ä»¥åœ¨åŒä¸€è¡¨è¾¾å¼ä¸­ä½¿ç”¨å¤šä¸ª optional chaining è¿ç®—ç¬¦ã€‚ç”šè‡³å¯ä»¥ä½¿ç”¨å®ƒæ¥å®‰å…¨åœ°è®¿é—®æ•°ç»„é¡¹ç›®ï¼ æŽ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯ç¼–å†™ä¸€ä¸ªè¿”å›žç”µå½±ä¸»è§’åå­—çš„å‡½æ•°ã€‚ åœ¨ movie å¯¹è±¡ä¸­ï¼Œactors æ•°ç»„å¯ä»¥ä¸ºç©ºç”šè‡³ä¸¢å¤±ï¼Œå› æ­¤ä½ å¿…é¡»æ·»åŠ å…¶ä»–æ¡ä»¶ï¼š 12345678function getLeadingActor(movie) &#123; if (movie.actors &amp;&amp; movie.actors.length &gt; 0) &#123; return movie.actors[0].name; &#125;&#125;getLeadingActor(movieSmall); // =&gt; undefinedgetLeadingActor(movieFull); // =&gt; &apos;Harrison Ford&apos; if (movie.actors &amp;&amp; movies.actors.length &gt; 0) {...} æ¡ä»¶éœ€è¦ç¡®ä¿ movie ä¸­åŒ…å« actors å±žæ€§ï¼Œå¹¶ä¸”æ­¤å±žæ€§è‡³å°‘æœ‰ä¸€ä¸ª actorã€‚ é€šè¿‡ä½¿ç”¨ optional chainingï¼Œæ­¤ä»»åŠ¡å¾ˆå®¹æ˜“è§£å†³ï¼š 123456function getLeadingActor(movie) &#123; return movie.actors?.[0]?.name;&#125;getLeadingActor(movieSmall); // =&gt; undefinedgetLeadingActor(movieFull); // =&gt; &apos;Harrison Ford&apos; actors?. ç¡®ä¿ actors å±žæ€§å­˜åœ¨ã€‚ [0]?. ç¡®ä¿ç¬¬ä¸€ä¸ª actor å­˜åœ¨äºŽåˆ—è¡¨ä¸­ã€‚å¾ˆå¥½ï¼ 3. nullish åˆå¹¶åä¸º nullish coalescing operator çš„æ–°ææ¡ˆå»ºè®®ç”¨ ?? å¤„ç† undefinedæˆ–nullï¼Œå°†å®ƒä»¬é»˜è®¤ä¸ºç‰¹å®šçš„å€¼ã€‚ å¦‚æžœ variable æ˜¯undefinedæˆ–nullï¼Œåˆ™è¡¨è¾¾å¼ variable ?? defaultValue çš„ç»“æžœä¸ºdefaultValueï¼Œ å¦åˆ™è¡¨è¾¾å¼çš„å€¼ä¸ºvariable çš„å€¼ã€‚ 12345const noValue = undefined;const value = &apos;Hello&apos;;noValue ?? &apos;Nothing&apos;; // =&gt; &apos;Nothing&apos;value ?? &apos;Nothing&apos;; // =&gt; &apos;Hello&apos; å½“è¯„ä¼°ä¸º undefined æ—¶ï¼ŒNullish åˆå¹¶å¯ä»¥é€šè¿‡é»˜è®¤å€¼æ¥æ”¹è¿› optional chainingã€‚ ä¾‹å¦‚ï¼Œå½“ movie å¯¹è±¡ä¸­æ²¡æœ‰ actor æ—¶ï¼Œè®©æˆ‘ä»¬æ”¹å˜ getLeading() å‡½æ•°è¿”å›ž &quot;Unknown actor&quot;ï¼š 123456function getLeadingActor(movie) &#123; return movie.actors?.[0]?.name ?? &apos;Unknown actor&apos;;&#125;getLeadingActor(movieSmall); // =&gt; &apos;Unknown actor&apos;getLeadingActor(movieFull); // =&gt; &apos;Harrison Ford&apos; 4. optional chaining çš„ 3 ç§å½¢å¼å¯ä»¥ç”¨ä»¥ä¸‹ 3 ç§å½¢å¼ä½¿ç”¨ optional chaining ã€‚ ç¬¬ä¸€ç§å½¢å¼ object?.property ç”¨äºŽè®¿é—®é™æ€å±žæ€§ï¼š 12const object = null;object?.property; // =&gt; undefined ç¬¬äºŒç§å½¢å¼ objectï¼Ÿ.[expression] ç”¨äºŽè®¿é—®åŠ¨æ€å±žæ€§æˆ–æ•°ç»„é¡¹ï¼š 123456const object = null;const name = &apos;property&apos;;object?.[name]; // =&gt; undefinedconst array = null;array?.[0]; // =&gt; undefined æœ€åŽï¼Œç¬¬ä¸‰ç§å½¢å¼ object?.([arg1,[arg2,...]]) æ‰§è¡Œä¸€ä¸ªå¯¹è±¡æ–¹æ³•ï¼š 12const object = null;object?.method(&apos;Some value&apos;); // =&gt; undefined å¦‚æžœéœ€è¦ï¼Œå¯ä»¥é€šè¿‡ç»„åˆè¿™äº›è¡¨å•æ¥åˆ›å»ºé•¿çš„å¯é€‰é“¾ï¼š 1const value = object.maybeUndefinedProp?.maybeNull()?.[propName]; 5. çŸ­è·¯ï¼šåœæ­¢äºŽ null/undefinedæœ‰å…³ optional chaining è¿ç®—ç¬¦çš„æœ‰è¶£ä¹‹å¤„åœ¨äºŽï¼Œåªè¦åœ¨å…¶å·¦ä¾§ leftHandSide?.rightHandSide ä¸­é‡åˆ°æ— æ•ˆå€¼ï¼Œå³ä¾§è®¿é—®å™¨çš„è¯„ä¼°å°±ä¼šåœæ­¢ã€‚è¿™ç§°ä¸ºçŸ­è·¯ã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š 12345const nothing = null;let index = 0;nothing?.[index++]; // =&gt; undefinedindex; // =&gt; 0 nothing ä¿æŒä¸€ä¸ª nullish å€¼ï¼Œå› æ­¤ optional chaining è¯„ä¼°ä¸º undefined ï¼Œå¹¶è·³è¿‡å³ä¾§è®¿é—®å™¨çš„è¯„ä¼°ã€‚å› ä¸º index ç¼–å·ä¸ä¼šå¢žåŠ ã€‚ 6. ä½•æ—¶ä½¿ç”¨ optional chainingä¸€å®šè¦å…‹åˆ¶ä½¿ç”¨ optional chaining æ“ä½œç¬¦è®¿é—®ä»»ä½•ç±»åž‹å±žæ€§çš„å†²åŠ¨ï¼šè¿™å°†ä¼šå¯¼è‡´è¯¯å¯¼ä½¿ç”¨ã€‚ä¸‹ä¸€èŠ‚å°†ä»‹ç»ä½•æ—¶æ­£ç¡®ä½¿ç”¨å®ƒã€‚ 6.1 è®¿é—®å¯èƒ½æ— æ•ˆçš„å±žæ€§?. å¿…é¡»åªåœ¨å¯èƒ½æ— æ•ˆçš„å±žæ€§é™„è¿‘ä½¿ç”¨ï¼šmaybeNullish?.propã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œä½¿ç”¨æ—§çš„å±žæ€§è®¿é—®å™¨ï¼š.property æˆ– [propExpression]ã€‚ å›žæƒ³ä¸€ä¸‹ movie å¯¹è±¡ã€‚æŸ¥çœ‹è¡¨è¾¾å¼ movie.director?.nameï¼Œå›  ä¸ºdirector å¯ä»¥æ˜¯ undefinedï¼Œåœ¨directorå±žæ€§é™„è¿‘ä½¿ç”¨ optional chaining è¿ç®—ç¬¦æ˜¯æ­£ç¡®çš„ã€‚ ç›¸åï¼Œä½¿ç”¨ ?. æ¥è®¿é—®ç”µå½±æ ‡é¢˜æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼šmovie?.titleã€‚movie å¯¹è±¡ä¸ä¼šæ˜¯æ— æ•ˆçš„ã€‚ 1234567891011121314// Goodfunction logMovie(movie) &#123; console.log(movie.director?.name); console.log(movie.title);&#125;// Badfunction logMovie(movie) &#123; // director needs optional chaining console.log(movie.director.name); // movie doesn&apos;t need optional chaining console.log(movie?.title);&#125; 6.2 é€šå¸¸æœ‰æ›´å¥½çš„é€‰æ‹©ä»¥ä¸‹å‡½æ•° hasPadding() æŽ¥å—å¸¦æœ‰å¯é€‰ padding å±žæ€§çš„æ ·å¼å¯¹è±¡ã€‚ padding å…·æœ‰å¯é€‰å±žæ€§leftã€topã€rightã€bottomã€‚ ä¸‹é¢å°è¯•ä½¿ç”¨ optional chaining è¿ç®—ç¬¦ï¼š 1234567891011function hasPadding(&#123; padding &#125;) &#123; const top = padding?.top ?? 0; const right = padding?.right ?? 0; const bottom = padding?.bottom ?? 0; const left = padding?.left ?? 0; return left + top + right + bottom !== 0;&#125;hasPadding(&#123; color: &apos;black&apos; &#125;); // =&gt; falsehasPadding(&#123; padding: &#123; left: 0 &#125; &#125;); // =&gt; falsehasPadding(&#123; padding: &#123; right: 10 &#125;&#125;); // =&gt; true è™½ç„¶å‡½æ•°æ­£ç¡®åœ°ç¡®å®šå…ƒç´ æ˜¯å¦å…·æœ‰å¡«å……ï¼Œä½†æ˜¯å¯¹äºŽæ¯ä¸ªå±žæ€§éƒ½ä½¿ç”¨ optional chaining æ˜¯éžå¸¸å›°éš¾çš„ã€‚ æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦å°†å¡«å……å¯¹è±¡é»˜è®¤ä¸ºé›¶å€¼ï¼š 1234567891011121314function hasPadding(&#123; padding &#125;) &#123; const p = &#123; top: 0, right: 0, bottom: 0, left: 0, ...padding &#125;; return p.top + p.left + p.right + p.bottom !== 0;&#125;hasPadding(&#123; color: &apos;black&apos; &#125;); // =&gt; falsehasPadding(&#123; padding: &#123; left: 0 &#125; &#125;); // =&gt; falsehasPadding(&#123; padding: &#123; right: 10 &#125;&#125;); // =&gt; true åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¸ªç‰ˆæœ¬çš„ hasPadding() æ›´å®¹æ˜“é˜…è¯»ã€‚ 7. ä¸ºä»€ä¹ˆæˆ‘å–œæ¬¢å®ƒï¼Ÿæˆ‘å–œæ¬¢ optional chaining è¿ç®—ç¬¦ï¼Œå› ä¸ºå®ƒå…è®¸ä»ŽåµŒå¥—å¯¹è±¡è½»æ¾è®¿é—®å±žæ€§ã€‚å®ƒå¯ä»¥å‡å°‘é€šè¿‡ç¼–å†™æ ·æ¿æ–‡ä»¶æ¥éªŒè¯æ¥è‡ªè®¿é—®å™¨é“¾çš„æ¯ä¸ªå±žæ€§è®¿é—®å™¨ä¸Šæ— æ•ˆå€¼çš„å·¥ä½œã€‚ å½“ optional chaining ä¸Žæ— æ•ˆåˆå¹¶è¿ç®—ç¬¦ç»„åˆæ—¶ï¼Œä½ å¯ä»¥èŽ·å¾—æ›´å¥½çš„ç»“æžœï¼Œèƒ½å¤Ÿæ›´è½»æ¾åœ°å¤„ç†é»˜è®¤å€¼ã€‚ è½¬è½½ä¿¡æ¯ä½œè€…ï¼šDmitri Pavlutinç¿»è¯‘ï¼šç–¯ç‹‚çš„æŠ€æœ¯å®…åŽŸæ–‡ï¼šhttps://dmitripavlutin.com/jaâ€¦æ¥æºï¼šæ€å¦]]></content>
      <tags>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è½¬ã€‘ç½‘ä¸Šéƒ½è¯´æ“ä½œçœŸå®ž DOM æ…¢ï¼Œä½†æµ‹è¯•ç»“æžœå´æ¯” React æ›´å¿«ï¼Œä¸ºä»€ä¹ˆï¼Ÿ]]></title>
    <url>%2Farchives%2F3f0a5b42.html</url>
    <content type="text"><![CDATA[1. åŽŸç”Ÿ DOM æ“ä½œ vs. é€šè¿‡æ¡†æž¶å°è£…æ“ä½œã€‚è¿™æ˜¯ä¸€ä¸ªæ€§èƒ½ vs. å¯ç»´æŠ¤æ€§çš„å–èˆã€‚æ¡†æž¶çš„æ„ä¹‰åœ¨äºŽä¸ºä½ æŽ©ç›–åº•å±‚çš„ DOM æ“ä½œï¼Œè®©ä½ ç”¨æ›´å£°æ˜Žå¼çš„æ–¹å¼æ¥æè¿°ä½ çš„ç›®çš„ï¼Œä»Žè€Œè®©ä½ çš„ä»£ç æ›´å®¹æ˜“ç»´æŠ¤ã€‚æ²¡æœ‰ä»»ä½•æ¡†æž¶å¯ä»¥æ¯”çº¯æ‰‹åŠ¨çš„ä¼˜åŒ– DOM æ“ä½œæ›´å¿«ï¼Œå› ä¸ºæ¡†æž¶çš„ DOM æ“ä½œå±‚éœ€è¦åº”å¯¹ä»»ä½•ä¸Šå±‚ API å¯èƒ½äº§ç”Ÿçš„æ“ä½œï¼Œå®ƒçš„å®žçŽ°å¿…é¡»æ˜¯æ™®é€‚çš„ã€‚é’ˆå¯¹ä»»ä½•ä¸€ä¸ª benchmarkï¼Œæˆ‘éƒ½å¯ä»¥å†™å‡ºæ¯”ä»»ä½•æ¡†æž¶æ›´å¿«çš„æ‰‹åŠ¨ä¼˜åŒ–ï¼Œä½†æ˜¯é‚£æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿåœ¨æž„å»ºä¸€ä¸ªå®žé™…åº”ç”¨çš„æ—¶å€™ï¼Œä½ éš¾é“ä¸ºæ¯ä¸€ä¸ªåœ°æ–¹éƒ½åŽ»åšæ‰‹åŠ¨ä¼˜åŒ–å—ï¼Ÿå‡ºäºŽå¯ç»´æŠ¤æ€§çš„è€ƒè™‘ï¼Œè¿™æ˜¾ç„¶ä¸å¯èƒ½ã€‚æ¡†æž¶ç»™ä½ çš„ä¿è¯æ˜¯ï¼Œä½ åœ¨ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¾ç„¶å¯ä»¥ç»™ä½ æä¾›è¿‡å¾—åŽ»çš„æ€§èƒ½ã€‚ 2. å¯¹ React çš„ Virtual DOM çš„è¯¯è§£ã€‚React ä»Žæ¥æ²¡æœ‰è¯´è¿‡ â€œReact æ¯”åŽŸç”Ÿæ“ä½œ DOM å¿«â€ã€‚React çš„åŸºæœ¬æ€ç»´æ¨¡å¼æ˜¯æ¯æ¬¡æœ‰å˜åŠ¨å°±æ•´ä¸ªé‡æ–°æ¸²æŸ“æ•´ä¸ªåº”ç”¨ã€‚å¦‚æžœæ²¡æœ‰ Virtual DOMï¼Œç®€å•æ¥æƒ³å°±æ˜¯ç›´æŽ¥é‡ç½® innerHTMLã€‚å¾ˆå¤šäººéƒ½æ²¡æœ‰æ„è¯†åˆ°ï¼Œåœ¨ä¸€ä¸ªå¤§åž‹åˆ—è¡¨æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æƒ…å†µä¸‹ï¼Œé‡ç½® innerHTML å…¶å®žæ˜¯ä¸€ä¸ªè¿˜ç®—åˆç†çš„æ“ä½œâ€¦ çœŸæ­£çš„é—®é¢˜æ˜¯åœ¨ â€œå…¨éƒ¨é‡æ–°æ¸²æŸ“â€ çš„æ€ç»´æ¨¡å¼ä¸‹ï¼Œå³ä½¿åªæœ‰ä¸€è¡Œæ•°æ®å˜äº†ï¼Œå®ƒä¹Ÿéœ€è¦é‡ç½®æ•´ä¸ª innerHTMLï¼Œè¿™æ—¶å€™æ˜¾ç„¶å°±æœ‰å¤§é‡çš„æµªè´¹ã€‚ æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸€ä¸‹ innerHTML vs. Virtual DOM çš„é‡ç»˜æ€§èƒ½æ¶ˆè€—ï¼š innerHTML: render html string O(template size) + é‡æ–°åˆ›å»ºæ‰€æœ‰ DOM å…ƒç´  O(DOM size) Virtual DOM: render Virtual DOM + diff O(template size) + å¿…è¦çš„ DOM æ›´æ–° O(DOM change) Virtual DOM render + diff æ˜¾ç„¶æ¯”æ¸²æŸ“ html å­—ç¬¦ä¸²è¦æ…¢ï¼Œä½†æ˜¯ï¼å®ƒä¾ç„¶æ˜¯çº¯ js å±‚é¢çš„è®¡ç®—ï¼Œæ¯”èµ·åŽé¢çš„ DOM æ“ä½œæ¥è¯´ï¼Œä¾ç„¶ä¾¿å®œäº†å¤ªå¤šã€‚å¯ä»¥çœ‹åˆ°ï¼ŒinnerHTML çš„æ€»è®¡ç®—é‡ä¸ç®¡æ˜¯ js è®¡ç®—è¿˜æ˜¯ DOM æ“ä½œéƒ½æ˜¯å’Œæ•´ä¸ªç•Œé¢çš„å¤§å°ç›¸å…³ï¼Œä½† Virtual DOM çš„è®¡ç®—é‡é‡Œé¢ï¼Œåªæœ‰ js è®¡ç®—å’Œç•Œé¢å¤§å°ç›¸å…³ï¼ŒDOM æ“ä½œæ˜¯å’Œæ•°æ®çš„å˜åŠ¨é‡ç›¸å…³çš„ã€‚å‰é¢è¯´äº†ï¼Œå’Œ DOM æ“ä½œæ¯”èµ·æ¥ï¼Œjs è®¡ç®—æ˜¯æžå…¶ä¾¿å®œçš„ã€‚è¿™æ‰æ˜¯ä¸ºä»€ä¹ˆè¦æœ‰ Virtual DOMï¼šå®ƒä¿è¯äº† 1ï¼‰ä¸ç®¡ä½ çš„æ•°æ®å˜åŒ–å¤šå°‘ï¼Œæ¯æ¬¡é‡ç»˜çš„æ€§èƒ½éƒ½å¯ä»¥æŽ¥å—ï¼›2) ä½ ä¾ç„¶å¯ä»¥ç”¨ç±»ä¼¼ innerHTML çš„æ€è·¯åŽ»å†™ä½ çš„åº”ç”¨ã€‚ 3. MVVM vs. Virtual DOMç›¸æ¯”èµ· Reactï¼Œå…¶ä»– MVVM ç³»æ¡†æž¶æ¯”å¦‚ Angular, Knockout ä»¥åŠ Vueã€Avalon é‡‡ç”¨çš„éƒ½æ˜¯æ•°æ®ç»‘å®šï¼šé€šè¿‡ Directive/Binding å¯¹è±¡ï¼Œè§‚å¯Ÿæ•°æ®å˜åŒ–å¹¶ä¿ç•™å¯¹å®žé™… DOM å…ƒç´ çš„å¼•ç”¨ï¼Œå½“æœ‰æ•°æ®å˜åŒ–æ—¶è¿›è¡Œå¯¹åº”çš„æ“ä½œã€‚MVVM çš„å˜åŒ–æ£€æŸ¥æ˜¯æ•°æ®å±‚é¢çš„ï¼Œè€Œ React çš„æ£€æŸ¥æ˜¯ DOM ç»“æž„å±‚é¢çš„ã€‚MVVM çš„æ€§èƒ½ä¹Ÿæ ¹æ®å˜åŠ¨æ£€æµ‹çš„å®žçŽ°åŽŸç†æœ‰æ‰€ä¸åŒï¼šAngular çš„è„æ£€æŸ¥ä½¿å¾—ä»»ä½•å˜åŠ¨éƒ½æœ‰å›ºå®šçš„ O(watcher count) çš„ä»£ä»·ï¼›Knockout/Vue/Avalon éƒ½é‡‡ç”¨äº†ä¾èµ–æ”¶é›†ï¼Œåœ¨ js å’Œ DOM å±‚é¢éƒ½æ˜¯ O(change)ï¼š è„æ£€æŸ¥ï¼šscope digest O(watcher count) + å¿…è¦ DOM æ›´æ–° O(DOM change) ä¾èµ–æ”¶é›†ï¼šé‡æ–°æ”¶é›†ä¾èµ– O(data change) + å¿…è¦ DOM æ›´æ–° O(DOM change) å¯ä»¥çœ‹åˆ°ï¼ŒAngular æœ€ä¸æ•ˆçŽ‡çš„åœ°æ–¹åœ¨äºŽä»»ä½•å°å˜åŠ¨éƒ½æœ‰çš„å’Œ watcher æ•°é‡ç›¸å…³çš„æ€§èƒ½ä»£ä»·ã€‚ä½†æ˜¯ï¼å½“æ‰€æœ‰æ•°æ®éƒ½å˜äº†çš„æ—¶å€™ï¼ŒAngular å…¶å®žå¹¶ä¸åƒäºã€‚ä¾èµ–æ”¶é›†åœ¨åˆå§‹åŒ–å’Œæ•°æ®å˜åŒ–çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°æ”¶é›†ä¾èµ–ï¼Œè¿™ä¸ªä»£ä»·åœ¨å°é‡æ›´æ–°çš„æ—¶å€™å‡ ä¹Žå¯ä»¥å¿½ç•¥ï¼Œä½†åœ¨æ•°æ®é‡åºžå¤§çš„æ—¶å€™ä¹Ÿä¼šäº§ç”Ÿä¸€å®šçš„æ¶ˆè€—ã€‚ MVVM æ¸²æŸ“åˆ—è¡¨çš„æ—¶å€™ï¼Œç”±äºŽæ¯ä¸€è¡Œéƒ½æœ‰è‡ªå·±çš„æ•°æ®ä½œç”¨åŸŸï¼Œæ‰€ä»¥é€šå¸¸éƒ½æ˜¯æ¯ä¸€è¡Œæœ‰ä¸€ä¸ªå¯¹åº”çš„ ViewModel å®žä¾‹ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªç¨å¾®è½»é‡ä¸€äº›çš„åˆ©ç”¨åŽŸåž‹ç»§æ‰¿çš„ â€œscopeâ€ å¯¹è±¡ï¼Œä½†ä¹Ÿæœ‰ä¸€å®šçš„ä»£ä»·ã€‚æ‰€ä»¥ï¼ŒMVVM åˆ—è¡¨æ¸²æŸ“çš„åˆå§‹åŒ–å‡ ä¹Žä¸€å®šæ¯” React æ…¢ï¼Œå› ä¸ºåˆ›å»º ViewModel / scope å®žä¾‹æ¯”èµ· Virtual DOM æ¥è¯´è¦æ˜‚è´µå¾ˆå¤šã€‚è¿™é‡Œæ‰€æœ‰ MVVM å®žçŽ°çš„ä¸€ä¸ªå…±åŒé—®é¢˜å°±æ˜¯åœ¨åˆ—è¡¨æ¸²æŸ“çš„æ•°æ®æºå˜åŠ¨æ—¶ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®æ˜¯å…¨æ–°çš„å¯¹è±¡æ—¶ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°å¤ç”¨å·²ç»åˆ›å»ºçš„ ViewModel å®žä¾‹å’Œ DOM å…ƒç´ ã€‚å‡å¦‚æ²¡æœ‰ä»»ä½•å¤ç”¨æ–¹é¢çš„ä¼˜åŒ–ï¼Œç”±äºŽæ•°æ®æ˜¯ â€œå…¨æ–°â€ çš„ï¼ŒMVVM å®žé™…ä¸Šéœ€è¦é”€æ¯ä¹‹å‰çš„æ‰€æœ‰å®žä¾‹ï¼Œé‡æ–°åˆ›å»ºæ‰€æœ‰å®žä¾‹ï¼Œæœ€åŽå†è¿›è¡Œä¸€æ¬¡æ¸²æŸ“ï¼è¿™å°±æ˜¯ä¸ºä»€ä¹ˆé¢˜ç›®é‡Œé“¾æŽ¥çš„ angular/knockout å®žçŽ°éƒ½ç›¸å¯¹æ¯”è¾ƒæ…¢ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒReact çš„å˜åŠ¨æ£€æŸ¥ç”±äºŽæ˜¯ DOM ç»“æž„å±‚é¢çš„ï¼Œå³ä½¿æ˜¯å…¨æ–°çš„æ•°æ®ï¼Œåªè¦æœ€åŽæ¸²æŸ“ç»“æžœæ²¡å˜ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åšæ— ç”¨åŠŸã€‚ Angular å’Œ Vue éƒ½æä¾›äº†åˆ—è¡¨é‡ç»˜çš„ä¼˜åŒ–æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯ â€œæç¤ºâ€ æ¡†æž¶å¦‚ä½•æœ‰æ•ˆåœ°å¤ç”¨å®žä¾‹å’Œ DOM å…ƒç´ ã€‚æ¯”å¦‚æ•°æ®åº“é‡Œçš„åŒä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨ä¸¤æ¬¡å‰ç«¯ API è°ƒç”¨é‡Œé¢ä¼šæˆä¸ºä¸åŒçš„å¯¹è±¡ï¼Œä½†æ˜¯å®ƒä»¬ä¾ç„¶æœ‰ä¸€æ ·çš„ uidã€‚è¿™æ—¶å€™ä½ å°±å¯ä»¥æç¤º track by uid æ¥è®© Angular çŸ¥é“ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡å…¶å®žæ˜¯åŒä¸€ä»½æ•°æ®ã€‚é‚£ä¹ˆåŽŸæ¥è¿™ä»½æ•°æ®å¯¹åº”çš„å®žä¾‹å’Œ DOM å…ƒç´ éƒ½å¯ä»¥å¤ç”¨ï¼Œåªéœ€è¦æ›´æ–°å˜åŠ¨äº†çš„éƒ¨åˆ†ã€‚æˆ–è€…ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æŽ¥ track by $index æ¥è¿›è¡Œ â€œåŽŸåœ°å¤ç”¨â€ï¼šç›´æŽ¥æ ¹æ®åœ¨æ•°ç»„é‡Œçš„ä½ç½®è¿›è¡Œå¤ç”¨ã€‚åœ¨é¢˜ç›®ç»™å‡ºçš„ä¾‹å­é‡Œï¼Œå¦‚æžœ angular å®žçŽ°åŠ ä¸Š track by $index çš„è¯ï¼ŒåŽç»­é‡ç»˜æ˜¯ä¸ä¼šæ¯” React æ…¢å¤šå°‘çš„ã€‚ç”šè‡³åœ¨ dbmonster æµ‹è¯•ä¸­ï¼ŒAngular å’Œ Vue ç”¨äº† track by $index ä»¥åŽéƒ½æ¯” React å¿«ã€‚ é¡ºé“è¯´ä¸€å¥ï¼ŒReact æ¸²æŸ“åˆ—è¡¨çš„æ—¶å€™ä¹Ÿéœ€è¦æä¾› key è¿™ä¸ªç‰¹æ®Š propï¼Œæœ¬è´¨ä¸Šå’Œ track-by æ˜¯ä¸€å›žäº‹ã€‚ 4. æ€§èƒ½æ¯”è¾ƒä¹Ÿè¦çœ‹åœºåˆåœ¨æ¯”è¾ƒæ€§èƒ½çš„æ—¶å€™ï¼Œè¦åˆ†æ¸…æ¥šåˆå§‹æ¸²æŸ“ã€å°é‡æ•°æ®æ›´æ–°ã€å¤§é‡æ•°æ®æ›´æ–°è¿™äº›ä¸åŒçš„åœºåˆã€‚Virtual DOMã€è„æ£€æŸ¥ MVVMã€æ•°æ®æ”¶é›† MVVM åœ¨ä¸åŒåœºåˆå„æœ‰ä¸åŒçš„è¡¨çŽ°å’Œä¸åŒçš„ä¼˜åŒ–éœ€æ±‚ã€‚Virtual DOM ä¸ºäº†æå‡å°é‡æ•°æ®æ›´æ–°æ—¶çš„æ€§èƒ½ï¼Œä¹Ÿéœ€è¦é’ˆå¯¹æ€§çš„ä¼˜åŒ–ï¼Œæ¯”å¦‚ shouldComponentUpdate æˆ–æ˜¯ immutable dataã€‚ åˆå§‹æ¸²æŸ“ï¼šVirtual DOM &gt; è„æ£€æŸ¥ &gt;= ä¾èµ–æ”¶é›† å°é‡æ•°æ®æ›´æ–°ï¼šä¾èµ–æ”¶é›† &gt;&gt; Virtual DOM + ä¼˜åŒ– &gt; è„æ£€æŸ¥ï¼ˆæ— æ³•ä¼˜åŒ–ï¼‰ &gt; Virtual DOM æ— ä¼˜åŒ– å¤§é‡æ•°æ®æ›´æ–°ï¼šè„æ£€æŸ¥ + ä¼˜åŒ– &gt;= ä¾èµ–æ”¶é›† + ä¼˜åŒ– &gt; Virtual DOMï¼ˆæ— æ³•/æ— éœ€ä¼˜åŒ–ï¼‰&gt;&gt; MVVM æ— ä¼˜åŒ– ä¸è¦å¤©çœŸåœ°ä»¥ä¸º Virtual DOM å°±æ˜¯å¿«ï¼Œdiff ä¸æ˜¯å…è´¹çš„ï¼Œbatching ä¹ˆ MVVM ä¹Ÿèƒ½åšï¼Œè€Œä¸”æœ€ç»ˆ patch çš„æ—¶å€™è¿˜ä¸æ˜¯è¦ç”¨åŽŸç”Ÿ APIã€‚åœ¨æˆ‘çœ‹æ¥ Virtual DOM çœŸæ­£çš„ä»·å€¼ä»Žæ¥éƒ½ä¸æ˜¯æ€§èƒ½ï¼Œè€Œæ˜¯å®ƒ ä¸ºå‡½æ•°å¼çš„ UI ç¼–ç¨‹æ–¹å¼æ‰“å¼€äº†å¤§é—¨ï¼› å¯ä»¥æ¸²æŸ“åˆ° DOM ä»¥å¤–çš„ backendï¼Œæ¯”å¦‚ ReactNativeã€‚ 5. æ€»ç»“ä»¥ä¸Šè¿™äº›æ¯”è¾ƒï¼Œæ›´å¤šçš„æ˜¯å¯¹äºŽæ¡†æž¶å¼€å‘ç ”ç©¶è€…æä¾›ä¸€äº›å‚è€ƒã€‚ä¸»æµçš„æ¡†æž¶ + åˆç†çš„ä¼˜åŒ–ï¼Œè¶³ä»¥åº”å¯¹ç»å¤§éƒ¨åˆ†åº”ç”¨çš„æ€§èƒ½éœ€æ±‚ã€‚å¦‚æžœæ˜¯å¯¹æ€§èƒ½æœ‰æžè‡´éœ€æ±‚çš„ç‰¹æ®Šæƒ…å†µï¼Œå…¶å®žåº”è¯¥ç‰ºç‰²ä¸€äº›å¯ç»´æŠ¤æ€§é‡‡å–æ‰‹åŠ¨ä¼˜åŒ–ï¼šæ¯”å¦‚ Atom ç¼–è¾‘å™¨åœ¨æ–‡ä»¶æ¸²æŸ“çš„å®žçŽ°ä¸Šæ”¾å¼ƒäº† React è€Œé‡‡ç”¨äº†è‡ªå·±å®žçŽ°çš„ tile-based renderingï¼›åˆæ¯”å¦‚åœ¨ç§»åŠ¨ç«¯éœ€è¦ DOM-pooling çš„è™šæ‹Ÿæ»šåŠ¨ï¼Œä¸éœ€è¦è€ƒè™‘é¡ºåºå˜åŒ–ï¼Œå¯ä»¥ç»•è¿‡æ¡†æž¶çš„å†…ç½®å®žçŽ°è‡ªå·±æžä¸€ä¸ªã€‚ è½¬è½½ä¿¡æ¯ä½œè€…ï¼šå°¤é›¨æºªé“¾æŽ¥ï¼šhttps://www.zhihu.com/question/31809713/answer/53544875æ¥æºï¼šçŸ¥ä¹Ž]]></content>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç”¨ä¼˜é›…çš„æ–¹å¼è¿›è¡Œæ•°ç»„åŽ»é‡]]></title>
    <url>%2Farchives%2F9c7dd70f.html</url>
    <content type="text"><![CDATA[æƒ³å¿…,æ•°ç»„åŽ»é‡å·²ç»æ˜¯ä¸€ä¸ªè€ç”Ÿå¸¸è°ˆçš„é—®é¢˜äº†, åˆ°çŽ°åœ¨ä¸ºæ­¢æˆ‘ä»¬è¦è€ƒè™‘çš„å¹¶ä¸æ˜¯æ€Žä¹ˆåŽ»å®žçŽ°ä¸€ä¸ªæ•°ç»„åŽ»é‡, è€Œæ›´åº”è¯¥å…³æ³¨,æ€Žæ ·ä½¿ç”¨ä¸€æ®µæ›´çŸ­çš„ä»£ç , æ›´ä¼˜é›…, æ›´ç®€æ´çš„è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•ˆæžœ. å¼€ç¯‡ æˆ‘ä»¬è¿™é‡Œç›´æŽ¥åˆ—å‡ºä¸‰ç§æ¯”è¾ƒä¼˜é›…çš„æ•°ç»„åŽ»é‡çš„æ–¹æ³•,åœ¨åŽé¢å¯¹æ¯ä¸ªè¿›è¡Œè¯¦ç»†çš„è§£æž 1234567const originalArray = [1, 2, 'å’©', 1, 'Super Ball', 'å’©', 'å’©', 'Super Ball', 4]const bySet = [...new Set(originalArray)]const byFilter = originalArray.filter((item, index) =&gt; originalArray.indexOf(item) === index)const byReduce = originalArray.reduce((unique, item) =&gt; unique.includes(item) ? unique : [...unique, item], []) Setå…ˆè®©æˆ‘ä»¬æ¥çœ‹çœ‹ Set åˆ°åº•æ˜¯ä¸ªå•¥ Set å¯¹è±¡å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»åž‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŽŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ã€‚https://developer.mozilla.orgâ€¦ é¦–å…ˆï¼Œ Set ä¸­åªå…è®¸å‡ºçŽ°å”¯ä¸€å€¼å”¯ä¸€æ€§æ˜¯æ¯”å¯¹åŽŸå§‹å€¼æˆ–è€…å¯¹è±¡å¼•ç”¨ const bySet = [...new Set(originalArray)]è¿™ä¸€æ®µçš„æ“ä½œï¼Œæˆ‘ä»¬å°†å®ƒæ‹†åˆ†æ¥çœ‹ï¼š 1234567const originalArray = [1, 2, 'å’©', 1, 'Super Ball', 'å’©', 'å’©', 'Super Ball', 4]const uniqueSet = new Set(originalArray)// å¾—åˆ° Set(5) [ 1, 2, "å’©", "Super Ball", 4 ]const bySet = [...uniqueSet]// å¾—åˆ° Array(5) [ 1, 2, "å’©", "Super Ball", 4 ] åœ¨å°† Set è½¬ä¸º Array æ—¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Array.from(set)ã€‚ Array.prototype.filterè¦ç†è§£ filter æ–¹æ³•ä¸ºä»€ä¹ˆå¯ä»¥åŽ»é‡ï¼Œéœ€è¦å…³æ³¨ä¸€ä¸‹å¦ä¸€ä¸ªæ–¹æ³• indexOf indexOf()æ–¹æ³•è¿”å›žåœ¨æ•°ç»„ä¸­å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªç»™å®šå…ƒç´ çš„ç¬¬ä¸€ä¸ªç´¢å¼•ï¼Œå¦‚æžœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ž -1ã€‚https://developer.mozilla.orgâ€¦ 1234567891011const beasts = ['ant', 'bison', 'camel', 'duck', 'bison'];console.log(beasts.indexOf('bison'));// expected output: 1// start from index 2console.log(beasts.indexOf('bison', 2));// expected output: 4console.log(beasts.indexOf('giraffe'));// expected output: -1 filter() æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, å…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®žçŽ°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚https://developer.mozilla.orgâ€¦ filter æ–¹æ³•æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼š ç¬¬ä¸€ä¸ªå‚æ•°ï¼šä¸€ä¸ªå›žè°ƒå‡½æ•°ï¼Œ filter ä¼šå°†æ•°æ®ä¸­çš„æ¯ä¸€é¡¹éƒ½ä¼ é€’ç»™è¯¥å‡½æ•°ï¼Œè‹¥è¯¥å‡½æ•°è¿”å›ž çœŸå€¼ï¼Œåˆ™æ•°æ®ä¿å­˜ï¼Œè¿”å›ž å‡å€¼ï¼Œåˆ™æ•°æ®å°†ä¸ä¼šå‡ºçŽ°åœ¨æ–°ç”Ÿæˆçš„æ•°æ®ä¸­ ç¬¬äºŒä¸ªå‚æ•°ï¼šå›žè°ƒå‡½æ•°ä¸­ this çš„æŒ‡å‘ æˆ‘ä»¬å°†ä¸Šé¢çš„åŽ»é‡æ–¹æ³•æŒ‰ä¸‹é¢è¿™æ ·é‡å†™ä¸€ä¸‹ï¼Œå°±å¯ä»¥çœ‹æ¸…æ•´ä¸ª filter çš„æ‰§è¡Œè¿‡ç¨‹äº†ã€‚ 1234567891011121314151617const originalArray = [1, 2, 'å’©', 1, 'Super Ball', 'å’©', 'å’©', 'Super Ball', 4]const table = []const byFilter = originalArray.filter((item, index) =&gt; &#123; // å¦‚æžœæ‰¾åˆ°çš„ç´¢å¼•ä¸Žå½“å‰ç´¢å¼•ä¸€è‡´ï¼Œåˆ™ä¿ç•™è¯¥å€¼ const shouldKeep = originalArray.indexOf(item) === index table.push(&#123; åºå·: index, å€¼: item, æ˜¯å¦åº”è¯¥ä¿ç•™: shouldKeep ? 'ä¿ç•™' : 'åˆ é™¤' &#125;) return shouldKeep&#125;)console.log(byFilter)console.table(table) åºå· å€¼ æ˜¯å¦åº”è¯¥ä¿ç•™ å‡ºçŽ° 0 1 ä¿ç•™ ç¬¬ä¸€æ¬¡å‡ºçŽ° 1 2 ä¿ç•™ ç¬¬ä¸€æ¬¡å‡ºçŽ° 2 å’© ä¿å­˜ ç¬¬ä¸€æ¬¡å‡ºçŽ° 3 1 åˆ é™¤ ç¬¬äºŒæ¬¡å‡ºçŽ° 4 Super Ball ä¿ç•™ ç¬¬ä¸€æ¬¡å‡ºçŽ° 5 å’© åˆ é™¤ ç¬¬äºŒæ¬¡å‡ºçŽ° 6 å’© åˆ é™¤ ç¬¬ä¸‰æ¬¡å‡ºçŽ° 7 Super Ball åˆ é™¤ ç¬¬äºŒæ¬¡å‡ºçŽ° 8 4 ä¿ç•™ ç¬¬ä¸€æ¬¡å‡ºçŽ° Array.prototype.reduce reduce() æ–¹æ³•å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç”±æ‚¨æä¾›çš„ reducer å‡½æ•°(å‡åºæ‰§è¡Œ)ï¼Œå°†å…¶ç»“æžœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›žå€¼ã€‚https://developer.mozilla.orgâ€¦ Array.prototype.reduce æ–¹æ³•æŽ¥å—ä¸¤ä¸ªå‚æ•°ï¼š Callbackï¼šå›žè°ƒå‡½æ•°ï¼Œå®ƒå¯ä»¥æŽ¥æ”¶å››ä¸ªå‚æ•° Accumulatorï¼šç´¯è®¡å™¨ï¼Œè¿™ä¸ªå…¶å®žæ˜¯è®©å¾ˆå¤šäººå¿½ç•¥çš„ä¸€ç‚¹ï¼Œå°±æ˜¯ï¼Œç´¯è®¡å™¨å…¶å®žå¯ä»¥æ˜¯ä»»ä½•ç±»åž‹çš„æ•°æ® Current Valueï¼šå½“å‰å€¼ Current Indexï¼šå½“å‰å€¼çš„ç´¢å¼• Source Arrayï¼šæºæ•°ç»„ Initial Valueï¼šç´¯è®¡å™¨çš„åˆå§‹å€¼ï¼Œå°±è·Ÿç´¯è®¡å™¨ä¸€æ ·ï¼Œè¿™ä¸ªå‚æ•°ä¹Ÿæ€»æ˜¯è¢«ç»å¤§å¤šæ•°äººå¿½ç•¥ å°±åƒ filter ç« èŠ‚ä¸€æ ·ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ reduce çš„æ‰§è¡Œè¿‡ç¨‹ï¼š 12345678910111213const originalArray = [1, 2, 'å’©', 1, 'Super Ball', 'å’©', 'å’©', 'Super Ball', 4]const byReduce = originalArray.reduce((unique, item, index, source) =&gt; &#123; const exist = unique.includes(item) const next = unique.includes(item) ? unique : [...unique, item] console.group(`éåŽ†ç¬¬ $&#123;index&#125; ä¸ªå€¼`) console.log('å½“å‰ç´¯è®¡å™¨ï¼š', unique) console.log('å½“å‰å€¼ï¼š', item) console.log('æ˜¯å¦å·²æ·»åŠ è¿›ç´¯è®¡å™¨ï¼Ÿ', exist) console.log('æ–°å€¼', next) console.groupEnd() return next&#125;, [])]]></content>
      <tags>
        <tag>JavaScript</tag>
        <tag>ES6</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•åœ¨ä¸€å°è®¾å¤‡ä¸ŠåŒæ—¶é…ç½®githubå’Œgitlabçš„SSH]]></title>
    <url>%2Farchives%2Fd97dbbe6.html</url>
    <content type="text"><![CDATA[èƒŒæ™¯ åœ¨å·¥ä½œä¸­ï¼Œå¾ˆæœ‰å¯èƒ½é‡åˆ°è¿™æ ·çš„æƒ…å†µï¼šå…¬å¸ç”¨gitlabæ­å»ºäº†ä¸€ä¸ªä»“åº“ï¼Œè‡ªå·±å¹³å¸¸ä½¿ç”¨githubæ¥å­˜å‚¨è‡ªå·±çš„ä»£ç ã€‚è¿™æ ·å°±é€ æˆåœ¨åªè®¾ç½®äº†å…¬å¸çš„gitlab SSHçš„æ—¶å€™ï¼Œcloneè‡ªå·±githubä»“åº“ä»£ç æ—¶ï¼Œåªèƒ½ä½¿ç”¨HTTPSçš„æ–¹å¼cloneï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚æ‰€ä»¥è¿™ç¯‡æ–‡ç« ä¼šæ•™ä¼šä½ åŒæ—¶åœ¨ä¸€å°ç”µè„‘ä¸Šé…ç½®ä¸¤ä¸ªSSHï¼Œä»¥æ–¹ä¾¿è‡ªå·±åœ¨å·¥ä½œå’Œä¸ªäººç©ºé—´ä¸Šçš„å¿«é€Ÿåˆ‡æ¢ï¼Œæé«˜æ•ˆçŽ‡ã€‚ æ­£æ–‡é¦–å…ˆï¼Œè¦æ‰¾åˆ°ä½äºŽç”¨æˆ·ä¸‹çš„.sshæ–‡ä»¶ï¼Œç›´æŽ¥ï¼š 1cd ~/.ssh ç„¶åŽ, éœ€è¦è®¾ç½®å…¨å±€çš„nameå’Œemail(è¿™é‡Œæ³¨æ„,å“ªä¸ªå¸¸ç”¨è®¾ç½®å“ªä¸ª,æˆ‘æ˜¯å…¬å¸å¸¸ç”¨,å°±è®¾ç½®çš„å…¬å¸çš„) 12git config --global user.name 'xxx'git config --global user.email 'xxx@baijia.com' æŽ¥ä¸‹æ¥, å¼€å§‹ç”Ÿæˆç§˜é’¥æ–‡ä»¶. è¿™é‡Œç›´æŽ¥ä¸¤ä¸ªéƒ½ç”Ÿæˆä¸€ä¸‹ 1234ssh-keygen -t rsa -C 'xxx@bai'jia.com' // GitLab// Enter file in which to save the key (/Users/tomatoro/.ssh/id_rsa): id_rsa_gitlabssh-keygen -t rsa -C 'tomatoro@163.com' // GitHub// Enter file in which to save the key (/Users/tomatoro/.ssh/id_rsa): id_rsa_github è¿›å…¥åˆ°.sshæ–‡ä»¶ä¸‹,æ‰¾åˆ°id_rsa_gitlab.pubå’Œid_rsa_github.pub å°†é‡Œé¢çš„å†…å®¹å…¨éƒ¨å¤åˆ¶ç²˜è´´åˆ°github å’Œ gitlab çš„SSHKEYä¸Š 12cat id_rsa_gitlab.pubcat id_rsa_github.pub è¿™é‡Œåå­—éšä¾¿èµ·, ç„¶åŽè®°å¾—.pubæ–‡ä»¶é‡Œå†…å®¹å…¨éƒ¨å¤åˆ¶å°±å¥½äº†. å®Œäº†ä¹‹åŽç‚¹ä¿å­˜. gitlabåŒç†. æŽ¥ä¸‹æ¥å°±è¦å°†ä¸¤ä¸ªkeyåœ¨æœ¬åœ°å­˜å‚¨èµ·æ¥æ‰“å¼€agent 123ssh-agent -sssh-add ~/.ssh/id_rsa_github // è¾“å…¥ç”Ÿæˆç§˜é’¥æ—¶è®¾ç½®çš„å¯†ç ssh-add ~/.ssh/id_rsa_gitlab // è¾“å…¥ç”Ÿæˆç§˜é’¥æ—¶è®¾ç½®çš„å¯†ç  ç„¶åŽéœ€è¦ä¸€ä¸ªconfigæ–‡ä»¶æ¥ç®¡ç†è¿™ä¸¤ä¸ªkey,ä»¥è®©gitçŸ¥é“åˆ†é…ç»™è°åœ¨.sshç›®å½•ä¸‹åˆ›å»ºconfigæ–‡ä»¶ 1touch ~/.ssh/config æ‰“å¼€configç¼–è¾‘å¦‚ä¸‹å†…å®¹ 12345678910111213Host github.com // ä¸åŠ¨ HostName github.com // ä¸åŠ¨ User tomatoro@163.com // ä½ è‡ªå·±çš„githubé‚®ç®± PreferredAuthentications publickey // ä¸åŠ¨ IdentityFile ~/.ssh/id_rsa_github // ä¸åŠ¨ Port 443 // å¦‚æžœssh -T git@github.comçš„æ—¶å€™æŠ¥ ssh: connect to host github.com port 22: Operation timed outå°±æŠŠPortè¿™æ¡åŠ ä¸Šå§,è¿™ä¸ªå‘å‘äº†æˆ‘å¥½ä¹…!!Host 192.168.0.231 // ä½ ä»¬å…¬å¸gitlabçš„ipåœ°å€ HostName 192.168.0.231 //ä¸ŽHostä¿æŒä¸€è‡´ User xxx@baijia.com // ä½ gitlabçš„é‚®ç®± IdentityFile ~/.ssh/id_rsa_gitlab // ä¸åŠ¨ Port 64222 // ä½ ä»¬å…¬å¸gitlabçš„ipç«¯å£ æ²¡æœ‰çš„è¯å¯ä»¥ä¸å†™ å¥½äº†,åˆ°äº†è¿™ä¸€æ­¥,è®¾ç½®å°±åŸºæœ¬å…¨éƒ¨å®Œæˆäº†,æŽ¥ä¸‹æ¥åªéœ€è¦è·Ÿè¿œç«¯çš„SSHåŒæ­¥ä¸€ä¸‹å°±OKäº† å…¬å¸ä»“åº“ä¸‹ 123ssh -T git@192.168.0.231è¾“å…¥å¯†ç git clone ssh://git@192.168.0.231:64222/MLE/skillCenter.git ä¸ªäººä»“åº“ä¸‹ 123456git init // --localéœ€è¦åœ¨æœ‰gitä»“åº“çš„æƒ…å†µä¸‹æ‰å¯ä»¥æ‰§è¡Œgit config â€”local user.name 'tomatoro'git config â€”local user.email 'tomatoro@163.com'ssh -T git@github.comè¾“å…¥å¯†ç git clone ssh://git@github.com:443/Tomatoro/TypeScript-study.git æ•´ä¸ªæµç¨‹ä¸‹æ¥å°±æ˜¯è¿™ä¸ªæ ·å­ è‡³æ­¤,å°±å…¨éƒ¨ç»“æŸäº†. æƒ³æƒ³æˆ‘åœ¨æžè¿™ä¸ªä¸œè¥¿çš„æ—¶å€™é‡åˆ°çš„å‘,çŽ°åœ¨éƒ½è§‰å¾—å¥½æ¶å¿ƒ. æ•´æ•´å¼„äº†ä¸€ä¸‹åˆ, å¸Œæœ›å¯¹åŽæ¥è€…æœ‰äº›è®¸å¸®åŠ©å§.å…¨éƒ¨åŽŸåˆ›,æ¬¢è¿Žè½¬è½½!è½¬è½½è¯·æ³¨æ˜Žå‡ºå¤„.è°¢è°¢!]]></content>
      <tags>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•å°†ä¸ªäººåšå®¢åŒæ—¶éƒ¨ç½²åˆ°GitHubå’ŒCodingä¸Š]]></title>
    <url>%2Farchives%2F3de92cb5.html</url>
    <content type="text"><![CDATA[å‰è¨€ ä¹‹å‰æˆ‘ä»¬æŠŠhexoæ‰˜ç®¡åœ¨githubï¼Œä½†æ˜¯æ¯•ç«Ÿgithubæ˜¯å›½å¤–çš„ï¼Œè®¿é—®é€Ÿåº¦ä¸Šè¿˜æ˜¯æœ‰ç‚¹æ…¢ï¼Œæ‰€ä»¥æƒ³ä¹Ÿéƒ¨ç½²ä¸€å¥—åœ¨å›½å†…çš„æ‰˜ç®¡å¹³å°ï¼Œä¸‹é¢ç»™å¤§å®¶æŽ¨èä¸€ä¸ªå›½å†…ä»£ç æ‰˜ç®¡çš„å¹³å°Codingã€‚ å¯ä»¥å­¦åˆ°ä»€ä¹ˆ é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å¯ä»¥å°†æˆ‘ä»¬çš„ä¸ªäººåšå®¢åŒæ—¶éƒ¨ç½²åœ¨å›½å†…å’Œå›½å¤–ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šã€‚è¿™æ ·ï¼Œå¦‚æžœæ˜¯å›½å†…è®¿é—®åšå®¢ï¼Œä¼šè‡ªåŠ¨é‡‡ç”¨å›½å†…çš„èŠ‚ç‚¹ï¼Œå®žçŽ°å¿«é€Ÿè®¿é—®ã€‚å¦‚æžœæ˜¯å›½å¤–è®¿é—®åšå®¢ï¼Œä¾¿ä¼šé‡‡ç”¨å›½å¤–çš„èŠ‚ç‚¹ï¼Œä»¥ä¿è¯è¿žæŽ¥çš„å¯å®žçŽ°ã€‚ æ­£æ–‡_config.ymlé…ç½® æƒ³è¦åŒæ—¶éƒ¨ç½²åˆ°2ä¸ªå¹³å°ï¼Œå°±è¦ä¿®æ”¹åšå®¢æ ¹ç›®å½•ä¸‹é¢çš„_config.ymlæ–‡ä»¶ä¸­çš„deployå¦‚ä¸‹æ ¹æ®Hexoå®˜æ–¹æ–‡æ¡£éœ€è¦ä¿®æ”¹æˆä¸‹é¢çš„å½¢å¼ 123456deploy: type: git repo: github: &lt;repository url&gt; coding: &lt;repository url&gt; branch: [branch] æ¯”å¦‚æˆ‘è¿™æ · æˆ‘è¿™è¾¹æäº¤é‡‡ç”¨çš„SSHå¯†é’¥ï¼Œè¿™ä¸ªæ–¹æ³•æœ‰ä¸ªå¥½å¤„ï¼Œæäº¤çš„æ—¶å€™ä¸ç”¨è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚å¦‚æžœä½ ä¹ æƒ¯ç”¨httpçš„æ–¹å¼ï¼Œåªè¦å°†åœ°å€æ”¹æˆç›¸åº”çš„httpåœ°å€å³å¯ã€‚ codingä¸Šåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® è¿™é‡Œåªä»‹ç»codingä¸Šé¢å¦‚ä½•åˆ›å»ºé¡¹ç›®ï¼Œä»¥åŠæŠŠæœ¬åœ°hexoéƒ¨ç½²åˆ°codingä¸Šé¢ï¼Œè¿˜ä¸æ‡‚å¦‚ä½•åˆ›å»ºhexoçš„è¯·çœ‹æˆ‘ä¹‹å‰çš„ç³»ç±»æ–‡ç« ã€‚é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œåˆ›å»ºåŽè¿›å…¥é¡¹ç›®çš„ä»£ç æ¨¡å—ï¼ŒèŽ·å–åˆ°è¿™ä¸ªé¡¹ç›®çš„sshåœ°å€ åŒæ­¥æœ¬åœ°hexoåˆ°codingä¸Š æŠŠèŽ·å–åˆ°äº†sshé…ç½®åœ¨ä¸Šé¢çš„_config.ymlæ–‡ä»¶ä¸­çš„deployä¸‹ï¼Œæœ¬åœ°æ‰“å¼€ id_rsa.pub æ–‡ä»¶ï¼Œå¤åˆ¶å…¶ä¸­å…¨éƒ¨å†…å®¹ï¼Œå¡«å†™åˆ°SSH_RSAå…¬é’¥keyä¸‹çš„ä¸€æ ï¼Œå…¬é’¥åç§°å¯ä»¥éšæ„èµ·åå­—ã€‚å®ŒæˆåŽç‚¹å‡»â€œæ·»åŠ â€ï¼Œç„¶åŽè¾“å…¥å¯†ç æˆ–åŠ¨æ€ç å³å¯æ·»åŠ å®Œæˆã€‚ æ·»åŠ åŽï¼Œåœ¨git bashå‘½ä»¤è¾“å…¥ï¼š 1ssh -T git@git.coding.net å¦‚æžœå¾—åˆ°ä¸‹é¢æç¤ºå°±è¡¨ç¤ºå…¬é’¥æ·»åŠ æˆåŠŸäº†ï¼š 1Coding.net Tips : [Hello ! You&apos;ve conected to Coding.net by SSH successfully! ] æœ€åŽä½¿ç”¨éƒ¨ç½²å‘½ä»¤å°±èƒ½æŠŠåšå®¢åŒæ­¥åˆ°codingä¸Šé¢ï¼š 1hexo deploy -g pagesæœåŠ¡æ–¹å¼éƒ¨ç½² éƒ¨ç½²åšå®¢æ–¹å¼æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§å°±æ˜¯pagesæœåŠ¡çš„æ–¹å¼ï¼Œä¹ŸæŽ¨èè¿™ç§æ–¹å¼ï¼Œå› ä¸ºå¯ä»¥ç»‘å®šåŸŸåï¼Œè€Œç¬¬äºŒç§æ¼”ç¤ºçš„æ–¹å¼å¿…é¡»å‡çº§ä¼šå‘˜æ‰èƒ½ç»‘å®šè‡ªå®šä¹‰åŸŸåã€‚pagesæ–¹å¼ä¹Ÿå¾ˆç®€å• åˆ†æ”¯é€‰æ‹©masterï¼Œå› ä¸ºå‰é¢é…ç½®çš„åˆ†æ”¯æ˜¯master,å› æ­¤å¼€å¯ä¹‹åŽï¼Œä¹Ÿéœ€è¦æ˜¯masterã€‚ç„¶åŽçœ‹èµ·ä¹‹åŽå°±å¯è®¿é—®äº†ã€‚ æ³¨æ„ï¼š å¦‚æžœä½ çš„é¡¹ç›®åç§°è·Ÿä½ codingçš„ç”¨æˆ·åä¸€æ ·ï¼Œæ¯”å¦‚æˆ‘çš„ç”¨æˆ·æ˜¯å«tengj,åšå®¢é¡¹ç›®åä¹Ÿå«tengj é‚£ç›´æŽ¥è®¿é—® tengj.coding.meå°±èƒ½è®¿é—®åšå®¢ï¼Œå¦åˆ™å°±è¦å¸¦ä¸Šé¡¹ç›®åï¼štengj.coding.me/é¡¹ç›®å æ‰èƒ½è®¿é—®æŽ¨èé¡¹ç›®åè·Ÿç”¨æˆ·åä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥çœç•¥é¡¹ç›®åäº† è¿™é‡Œéœ€è¦å°†è‡ªå®šä¹‰åŸŸåå¡«ä¸Šä½ è‡ªå·±çš„åŸŸåå°±å¯ä»¥äº† SSL/TLSå®‰å…¨è¯ä¹¦è¿™é‡Œæœ‰ä¸ªå‘,å°±æ˜¯å¦‚æžœä½ ä¹‹å‰å·²ç»åˆ›å»ºç»‘å®šè¿‡githubçš„ä»£ç ä»“åº“,é‚£ä¹ˆç›´æŽ¥ç”Ÿæˆè¿™ä¸ªè¯ä¹¦æ˜¯ç”Ÿæˆä¸äº†çš„,ä»–ä¼šæ˜¾ç¤ºå¤±è´¥çš„çŠ¶æ€,éœ€è¦è¿‡30åˆ†é’Ÿæ‰å¯ä»¥å†æ¬¡ç”³è¯·ã€‚ æ‰€ä»¥åˆ°è¿™ä¸€æ­¥çš„å°ä¼™ä¼´ï¼Œå¯ä»¥å…ˆæŠŠè¿™ä¸€æ­¥ç©ºä¸‹æ¥ï¼Œç»§ç»­ç½‘ä¸‹çœ‹ï¼Œä¼šå‘Šè¯‰è¯¥æ€Žä¹ˆæ“ä½œæ‰æ­£ç¡®ã€‚ ä¸ªäººåŸŸåç»‘å®š æˆ‘æ˜¯åœ¨é˜¿é‡Œä¸Šä¹°çš„tomatoro.cnçš„è¿™ä¸ªåŸŸåï¼ŒçŽ°åœ¨è¦å®žçŽ°å›½å†…çš„èµ°codingï¼Œæµ·å¤–çš„èµ°githubï¼Œåªè¦é…ç½®2ä¸ªCNAMEå°±è¡Œã€‚åŸŸåè§£æžå¦‚ä¸‹ï¼š æ³¨æ„ï¼šè¿™é‡Œå°±è¯´ä¸€ä¸‹å¦‚æžœä¹‹å‰æœ‰è®¾ç½®è¿‡githubçš„åŸŸåè§£æž, çŽ°åœ¨è¦å†ç»‘å®šä¸€ä¸ªcodingçš„åŸŸåè§£æž, éœ€è¦æ³¨æ„çš„ç‚¹:åœ¨codingåŽ»ç”³è¯· SSL/TLSå®‰å…¨è¯ä¹¦ä¹‹å‰,éœ€è¦å°†å›¾ä¸­æ¡†èµ·æ¥çš„ä¸¤ä¸ªåŸŸåå…ˆæš‚åœ, ç„¶åŽ, æˆ‘ä»¬å†åŽ»ç”³è¯· SSL/TLSå®‰å…¨è¯ä¹¦, ä¸€èˆ¬åªéœ€è¦ç­‰å‡ ç§’å°±æˆåŠŸäº†, ç„¶åŽå†æŠŠè¿™ä¸¤ä¸ªåŸŸåè§£æžé©±åŠ¨å°±å¯ä»¥äº†. ä¸€å®šè¦æ³¨æ„å•Š, æˆ‘å°±æ˜¯å› ä¸ºè¿™ä¸ªç­‰äº†åŠä¸ªå°æ—¶æ‰èƒ½æŽ¥ç€ç”³è¯·çš„. è¿‡å‡ åˆ†é’ŸåŽæ£€æµ‹tomatoro.cnçœ‹åˆ°çš„è§£æžæ˜¯æ­£ç¡®çš„ï¼Œå›½å†…è§£æžåˆ°Codingï¼Œå›½å¤–è§£æžåˆ°Githubï¼Œå¦‚å›¾ï¼š æ€»ç»“ åˆ°æ­¤ä¸ºæ­¢ï¼Œç»ˆäºŽå¯ä»¥å®žçŽ°éƒ¨ç½²ä¸€æ¬¡ï¼Œgithubå’Œcodingä¸¤ä¸ªåŒæ­¥éƒ½æžå®šäº†ã€‚è®¿é—®é€Ÿåº¦ä¹Ÿæ˜¯å”°å”°å”°çš„å¿«ï¼Œå¸Œæœ›å¯¹è¿˜åœ¨æ­å»ºhexoç‹¬ç«‹åšå®¢çš„å°ä¼™ä¼´æœ‰å¸®åŠ©ã€‚]]></content>
      <tags>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•æ­å»ºå±žäºŽè‡ªå·±çš„åšå®¢]]></title>
    <url>%2Farchives%2Fd2ee919b.html</url>
    <content type="text"></content>
      <tags>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Tomatoro]]></title>
    <url>%2Farchives%2Fbe5a804b.html</url>
    <content type="text"><![CDATA[å‰è¨€ è¿™æ˜¯æˆ‘æœ¬äººå¼€å§‹å†™çš„ç¬¬ä¸€ä¸ªåšå®¢ï¼Œåœ¨è¿™ä¹‹å‰æœ‰è®¸å¤šè®¸å¤šæ¬¡æœºä¼šæ¥å¼€å§‹è¿™ä»¶äº‹æƒ…ï¼Œæœ€å¼€å§‹å†™è‡ªå·±çš„æ–‡ç« éƒ½æ˜¯åœ¨ç®€ä¹¦å’Œæ€å¦ä¸Šçš„ã€‚å¾ˆå–œæ¬¢çœ‹è§é˜…è¯»å’Œç‚¹èµžæ•°é‡çš„å¢žåŠ å¸¦æ¥çš„æˆå°±å’Œå–œæ‚¦æ„Ÿã€‚å¯ç»ˆç©¶é‚£ä¸æ˜¯å±žäºŽæˆ‘è‡ªå·±çš„æ–¹å¯¸å¤©åœ°ï¼Œæƒ³é™ä¸‹æ¥ï¼Œè®°å½•è®°å½•è‡ªå·±çš„ä¸œè¥¿ã€‚æˆ‘ä¸ä¼šé™åˆ¶æˆ‘çš„åšå®¢å°†æ¥ä¼šå†™å“ªäº›ä¸œè¥¿ï¼ŒæŠ€æœ¯ä¹Ÿå¥½ï¼Œç”Ÿæ´»ä¹Ÿç½¢ï¼Œå®ƒéƒ½æ˜¯æˆ‘å¿ å®žçš„ä¼™ä¼´ï¼Œä¼´æˆ‘æˆé•¿ï¼ README123456789101112# å¼€å¯æœåŠ¡hexo server# åˆ›å»ºä¸€ç¯‡æ–‡ç« hexo new 'æ–‡ç« æ ‡é¢˜'# æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ã€‚hexo clean# ç”Ÿæˆé™æ€æ–‡ä»¶hexo generate / g# ä¿å­˜è‡ªåŠ¨æ›´æ–°hexo generate -w# ä¸€é”®éƒ¨ç½²hexo deploy / d]]></content>
      <tags>
        <tag>Blog</tag>
      </tags>
  </entry>
</search>
