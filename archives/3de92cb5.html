<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  
    <meta name="keywords" content="前端,网站搭建,域名注册,博客搭建,JavaScript,CSS,HTML,Vue,Blog.">
  
  
    <meta name="description" content="It&#39;s Tomatoro&#39;s Blog,分享技术,分享快乐!">
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    
      如何将个人博客同时部署到GitHub和Coding上 |
    
      Tomatoro
    </title>
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  <link rel="stylesheet" href="/css/style.css">
  
  <script src="/js/pace.min.js"></script>
  <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
  </script>
</head>
</html>
<body>
<main class="content">
  <section class="outer">
  <article id="post-如何将个人博客同时部署到GitHub和Coding上" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      如何将个人博客同时部署到GitHub和Coding上
    </h1>
  
  
  <div class="article-normal">
    <i class="fe fe-book"></i>
  </>



      </header>
    

    
      <div class="article-meta">
        <a href="/archives/3de92cb5.html" class="article-date">
  <time datetime="2019-08-05T11:46:32.000Z" itemprop="datePublished">2019-08-05</time>
</a>
        
      </div>
    

    <div class="article-entry" itemprop="articleBody">
      

      

      
        <h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><blockquote>
<p>之前我们把hexo托管在github，但是毕竟github是国外的，访问速度上还是有点慢，所以想也部署一套在国内的托管平台，下面给大家推荐一个国内代码托管的平台Coding。</p>
</blockquote>
<h3 id="可以学到什么"><a href="#可以学到什么" class="headerlink" title="可以学到什么"></a>可以学到什么</h3><blockquote>
<p>通过这篇文章，我们可以将我们的个人博客同时部署在国内和国外两个节点上。这样，如果是国内访问博客，会自动采用国内的节点，实现快速访问。如果是国外访问博客，便会采用国外的节点，以保证连接的可实现。</p>
</blockquote>
<a id="more"></a> 

<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="config-yml配置"><a href="#config-yml配置" class="headerlink" title="_config.yml配置"></a>_config.yml配置</h3><hr>
<p>想要同时部署到2个平台，就要修改博客根目录下面的<code>_config.yml</code>文件中的<code>deploy</code>如下<br>根据<code>Hexo官方文档</code>需要修改成下面的形式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo:</span><br><span class="line">    github: <span class="xml"><span class="tag">&lt;<span class="name">repository</span> <span class="attr">url</span>&gt;</span></span></span><br><span class="line">    coding: &lt;repository url&gt;</span><br><span class="line">    branch: [branch]</span><br></pre></td></tr></table></figure>

<p>比如我这样<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884gjg1q8j30uq07m0z5.jpg" alt="_config.yml.png"></p>
<p>我这边提交采用的SSH密钥，这个方法有个好处，提交的时候不用输入用户名和密码。如果你习惯用http的方式，只要将地址改成相应的http地址即可。</p>
<h3 id="coding上创建一个新项目"><a href="#coding上创建一个新项目" class="headerlink" title="coding上创建一个新项目"></a>coding上创建一个新项目</h3><hr>
<p>这里只介绍coding上面如何创建项目，以及把本地hexo部署到coding上面，还不懂如何创建hexo的请看我之前的系类文章。首先我们创建一个项目，创建后进入项目的代码模块，获取到这个项目的ssh地址</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884gm1ziwj31go0u0k9s.jpg" alt="image"></p>
<h3 id="同步本地hexo到coding上"><a href="#同步本地hexo到coding上" class="headerlink" title="同步本地hexo到coding上"></a>同步本地hexo到coding上</h3><hr>
<p>把获取到了ssh配置在上面的<code>_config.yml</code>文件中的<code>deploy</code>下，本地打开 <code>id_rsa.pub</code> 文件，复制其中全部内容，填写到<code>SSH_RSA公钥</code>key下的一栏，公钥名称可以随意起名字。完成后点击“添加”，然后输入密码或动态码即可添加完成。</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884unl6s2j31g80q64qp.jpg" alt="tomatoro.cn"></p>
<p>添加后，在<code>git bash</code>命令输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@git.coding.net</span><br></pre></td></tr></table></figure>

<p>如果得到下面提示就表示公钥添加成功了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Coding.net Tips : [Hello ! You&apos;ve conected to Coding.net by SSH successfully! ]</span><br></pre></td></tr></table></figure>

<p>最后使用部署命令就能把博客同步到coding上面：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy -g</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884gpwjeej31zy0u0e6o.jpg" alt="tomatoro.cn"></p>
<h3 id="pages服务方式部署"><a href="#pages服务方式部署" class="headerlink" title="pages服务方式部署"></a>pages服务方式部署</h3><hr>
<p>部署博客方式有两种，第一种就是pages服务的方式，也推荐这种方式，因为可以绑定域名，而第二种演示的方式必须升级会员才能绑定自定义域名。pages方式也很简单</p>
<p>分支选择master，因为前面配置的分支是master,因此开启之后，也需要是master。然后看起之后就可访问了。</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884usvekgj31vo0u0tuz.jpg" alt="tomatoro.cn"></p>
<p><strong>注意</strong>：</p>
<blockquote>
<ol>
<li>如果你的项目名称跟你<code>coding</code>的用户名一样，比如我的用户是叫<code>tengj</code>,博客项目名也叫<code>tengj</code> 那直接访问 <code>tengj.coding.me</code>就能访问博客，否则就要带上项目名：<code>tengj.coding.me/项目名</code> 才能访问推荐项目名跟用户名一样，这样就可以省略项目名了</li>
<li>这里需要将自定义域名填上你自己的域名就可以了</li>
<li><code>SSL/TLS安全证书</code>这里有个坑,就是如果你之前已经创建绑定过github的代码仓库,那么直接生成这个证书是生成不了的,他会显示失败的状态,需要过30分钟才可以再次申请。 所以到这一步的小伙伴，可以先把这一步空下来，继续网下看，会告诉该怎么操作才正确。</li>
</ol>
</blockquote>
<h3 id="个人域名绑定"><a href="#个人域名绑定" class="headerlink" title="个人域名绑定"></a>个人域名绑定</h3><hr>
<p>我是在阿里上买的tomatoro.cn的这个域名，现在要实现国内的走coding，海外的走github，只要配置2个CNAME就行。域名解析如下：<br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884gtkii2j310q0ne45d.jpg" alt="tomatoro.cn"><br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884gykdjbj310m0nowlf.jpg" alt="tomatoro.cn"><br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884wv3630j327i0ae10h.jpg" alt="tomatoro.cn"></p>
<blockquote>
<p><strong>注意</strong>：<br>这里就说一下如果之前有设置过github的域名解析, 现在要再绑定一个coding的域名解析, 需要注意的点:<br>在coding去申请 <code>SSL/TLS安全证书</code>之前,需要将图中框起来的两个域名先暂停, 然后, 我们再去申请 <code>SSL/TLS安全证书</code>, 一般只需要等几秒就成功了, 然后再把这两个域名解析驱动就可以了. 一定要注意啊, 我就是因为这个等了半个小时才能接着申请的.</p>
</blockquote>
<p>过几分钟后检测<code>tomatoro.cn</code>看到的解析是正确的，国内解析到Coding，国外解析到Github，如图：</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g884hcq1f3j315k0u0kjl.jpg" alt="tomatoro.cn"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><hr>
<p>到此为止，终于可以实现部署一次，<code>github</code>和<code>coding</code>两个同步都搞定了。访问速度也是唰唰唰的快，希望对还在搭建hexo独立博客的小伙伴有帮助。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tomatoro.cn/archives/3de92cb5.html" data-id="cli141lg00014tc8ip5jkt270"
         class="article-share-link">Share</a>
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blog/">Blog</a></li></ul>

    </footer>

  </div>

  
    
  <nav class="article-nav">
    
      <a href="/archives/d97dbbe6.html" class="article-nav-link">
        <strong class="article-nav-caption">Newer posts</strong>
        <div class="article-nav-title">
          
            如何在一台设备上同时配置github和gitlab的SSH
          
        </div>
      </a>
    
    
      <a href="/archives/d2ee919b.html" class="article-nav-link">
        <strong class="article-nav-caption">Olde posts</strong>
        <div class="article-nav-title">如何搭建属于自己的博客</div>
      </a>
    
  </nav>


  

  
    
<div class="vcomments" id="vcomments"></div>
<script src="https://unpkg.com/valine/dist/Valine.min.js"></script>
<script>
	new Valine({
		el: '#vcomments',
		appId: 'CQjPHxXIXJ8mFQSCGnYpt0vt-gzGzoHsz',
		appKey: 'MKI3gklnGb5sVCOEUmibUD6g',
		notify: 'true',
		verify: 'true',
		avatar: 'mp',
		pageSize: '10',
		placeholder: '请输入...'
	})
</script>

    
  

</article>



</section>
  <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
    <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>I Love You Three Thousand Times ! <i class="fe fe-heart-o"></i></li>
      <li><a href="https://github.com/Tomatoro/Tomatoro.github.io">Tomatoro</a> &copy; 2023</li>
      <!-- <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>Theme  <a href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li> -->
    </ul>
  </div>
</footer>

</main>
<aside class="sidebar">
  <button class="navbar-toggle"></button>

<nav class="navbar">
  
    <div class="logo">
      <a href="/"><img src="/images/blank-logo.svg" alt="Tomatoro"></a>
    </div>
  
  <ul class="nav nav-main">
    
      <li class="nav-item">
        <a class="nav-item-link" href="/">主页</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/archives">文章</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/gallery">相册</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/categories">类别</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/tags">标签</a>
      </li>
    
      <li class="nav-item">
        <a class="nav-item-link" href="/about">关于</a>
      </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="Search">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>

<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
        <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
          <i class="fe fe-feed"></i>
        </a>
      
    </li>
  </ul>
</nav>

<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
</aside>
<script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/lazyload.min.js"></script>
<script src="/js/snap.svg-min.js"></script>
<script src="/js/busuanzi-2.3.pure.min.js"></script>




  <script src="/js/search.js"></script>


<script src="/js/ocean.js"></script>

</body>
</html>